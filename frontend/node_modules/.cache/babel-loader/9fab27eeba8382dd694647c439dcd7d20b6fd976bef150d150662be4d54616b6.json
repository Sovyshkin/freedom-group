{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, createBlock as _createBlock, vModelCheckbox as _vModelCheckbox, withModifiers as _withModifiers, unref as _unref, createStaticVNode as _createStaticVNode } from \"vue\";\nimport _imports_0 from '@/assets/refresh.png';\nimport _imports_1 from '@/assets/docs.png';\nimport _imports_2 from '@/assets/add.png';\nimport _imports_3 from '@/assets/upload.png';\nimport _imports_4 from '@/assets/edit.png';\nimport _imports_5 from '@/assets/delete.png';\nconst _hoisted_1 = {\n  class: \"admin-dashboard\"\n};\nconst _hoisted_2 = {\n  class: \"dashboard-container\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"stats-grid\"\n};\nconst _hoisted_5 = {\n  class: \"stat-card\"\n};\nconst _hoisted_6 = {\n  class: \"stat-content\"\n};\nconst _hoisted_7 = {\n  class: \"stat-value\"\n};\nconst _hoisted_8 = {\n  class: \"stat-card\"\n};\nconst _hoisted_9 = {\n  class: \"stat-content\"\n};\nconst _hoisted_10 = {\n  class: \"stat-value\"\n};\nconst _hoisted_11 = {\n  class: \"stat-card\"\n};\nconst _hoisted_12 = {\n  class: \"stat-content\"\n};\nconst _hoisted_13 = {\n  class: \"stat-value\"\n};\nconst _hoisted_14 = {\n  class: \"tabs\"\n};\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = {\n  key: 2,\n  class: \"tab-content\"\n};\nconst _hoisted_17 = {\n  class: \"documents-section\"\n};\nconst _hoisted_18 = {\n  class: \"section-header\"\n};\nconst _hoisted_19 = {\n  class: \"actions\"\n};\nconst _hoisted_20 = {\n  class: \"doc-filter\"\n};\nconst _hoisted_21 = [\"disabled\"];\nconst _hoisted_22 = {\n  key: 0,\n  class: \"fas fa-spinner fa-spin\"\n};\nconst _hoisted_23 = {\n  class: \"filters-bar\"\n};\nconst _hoisted_24 = {\n  class: \"filter-group\"\n};\nconst _hoisted_25 = {\n  class: \"filter-group\"\n};\nconst _hoisted_26 = [\"value\"];\nconst _hoisted_27 = {\n  class: \"filter-group\"\n};\nconst _hoisted_28 = {\n  class: \"filter-group\"\n};\nconst _hoisted_29 = {\n  class: \"filter-stats\"\n};\nconst _hoisted_30 = {\n  key: 1,\n  class: \"empty-state\"\n};\nconst _hoisted_31 = {\n  key: 2,\n  class: \"documents-table\"\n};\nconst _hoisted_32 = [\"checked\"];\nconst _hoisted_33 = {\n  \"data-label\": \"Выбрать\"\n};\nconst _hoisted_34 = [\"value\"];\nconst _hoisted_35 = {\n  \"data-label\": \"Файл\"\n};\nconst _hoisted_36 = {\n  \"data-label\": \"Код партнера\"\n};\nconst _hoisted_37 = {\n  \"data-label\": \"Имя партнера\"\n};\nconst _hoisted_38 = {\n  \"data-label\": \"Дата создания\"\n};\nconst _hoisted_39 = {\n  \"data-label\": \"Период\"\n};\nconst _hoisted_40 = {\n  \"data-label\": \"Статус\"\n};\nconst _hoisted_41 = {\n  \"data-label\": \"Действия\"\n};\nconst _hoisted_42 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_43 = [\"onClick\"];\nconst _hoisted_44 = [\"onClick\"];\nconst _hoisted_45 = [\"onClick\"];\nconst _hoisted_46 = [\"onClick\"];\nconst _hoisted_47 = [\"onClick\"];\nconst _hoisted_48 = {\n  key: 3,\n  class: \"bulk-actions\"\n};\nconst _hoisted_49 = {\n  key: 3,\n  class: \"tab-content\"\n};\nconst _hoisted_50 = {\n  class: \"partners-section\"\n};\nconst _hoisted_51 = {\n  class: \"section-header\"\n};\nconst _hoisted_52 = {\n  class: \"header-actions\"\n};\nconst _hoisted_53 = {\n  class: \"filters-bar\"\n};\nconst _hoisted_54 = {\n  class: \"filter-group\"\n};\nconst _hoisted_55 = {\n  class: \"filter-group\"\n};\nconst _hoisted_56 = {\n  class: \"checkbox-label\"\n};\nconst _hoisted_57 = {\n  class: \"filter-stats\"\n};\nconst _hoisted_58 = {\n  key: 1,\n  class: \"partners-table\"\n};\nconst _hoisted_59 = {\n  \"data-label\": \"ID\"\n};\nconst _hoisted_60 = {\n  \"data-label\": \"Имя\"\n};\nconst _hoisted_61 = {\n  \"data-label\": \"Email\"\n};\nconst _hoisted_62 = {\n  \"data-label\": \"Chat ID\"\n};\nconst _hoisted_63 = {\n  \"data-label\": \"Логин\"\n};\nconst _hoisted_64 = {\n  \"data-label\": \"Последний вход\"\n};\nconst _hoisted_65 = {\n  \"data-label\": \"Создан\"\n};\nconst _hoisted_66 = {\n  \"data-label\": \"Действия\"\n};\nconst _hoisted_67 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_68 = [\"onClick\"];\nconst _hoisted_69 = [\"onClick\"];\nconst _hoisted_70 = [\"onClick\"];\nconst _hoisted_71 = [\"onClick\"];\nconst _hoisted_72 = {\n  key: 4,\n  class: \"tab-content\"\n};\nconst _hoisted_73 = {\n  class: \"upload-section\"\n};\nconst _hoisted_74 = {\n  key: 0,\n  class: \"selected-files\"\n};\nconst _hoisted_75 = {\n  class: \"files-list\"\n};\nconst _hoisted_76 = {\n  class: \"file-info\"\n};\nconst _hoisted_77 = {\n  class: \"file-name\"\n};\nconst _hoisted_78 = {\n  class: \"file-size\"\n};\nconst _hoisted_79 = [\"onClick\"];\nconst _hoisted_80 = {\n  class: \"upload-actions\"\n};\nconst _hoisted_81 = [\"disabled\"];\nconst _hoisted_82 = {\n  key: 0,\n  class: \"fas fa-spinner fa-spin\"\n};\nconst _hoisted_83 = {\n  key: 1,\n  class: \"upload-results\"\n};\nconst _hoisted_84 = {\n  class: \"results-list\"\n};\nconst _hoisted_85 = {\n  class: \"result-icon\"\n};\nconst _hoisted_86 = {\n  class: \"result-info\"\n};\nconst _hoisted_87 = {\n  class: \"result-file\"\n};\nconst _hoisted_88 = {\n  class: \"result-message\"\n};\nconst _hoisted_89 = {\n  key: 0,\n  class: \"result-partner\"\n};\nconst _hoisted_90 = {\n  key: 5,\n  class: \"tab-content\"\n};\nconst _hoisted_91 = {\n  class: \"admins-section\"\n};\nconst _hoisted_92 = {\n  class: \"section-header\"\n};\nconst _hoisted_93 = {\n  key: 1,\n  class: \"admins-table\"\n};\nconst _hoisted_94 = {\n  \"data-label\": \"ID\"\n};\nconst _hoisted_95 = {\n  \"data-label\": \"Логин\"\n};\nconst _hoisted_96 = {\n  \"data-label\": \"Email\"\n};\nconst _hoisted_97 = {\n  \"data-label\": \"Роль\"\n};\nconst _hoisted_98 = {\n  \"data-label\": \"Последний вход\"\n};\nconst _hoisted_99 = {\n  \"data-label\": \"Создан\"\n};\nconst _hoisted_100 = {\n  \"data-label\": \"Действия\"\n};\nconst _hoisted_101 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_102 = [\"onClick\"];\nconst _hoisted_103 = [\"onClick\"];\nconst _hoisted_104 = {\n  key: 2,\n  class: \"empty-state\"\n};\nconst _hoisted_105 = {\n  key: 6,\n  class: \"tab-content\"\n};\nconst _hoisted_106 = {\n  class: \"audit-section\"\n};\nconst _hoisted_107 = {\n  class: \"filters-bar\"\n};\nconst _hoisted_108 = {\n  class: \"filter-group\"\n};\nconst _hoisted_109 = {\n  class: \"filter-group\"\n};\nconst _hoisted_110 = [\"value\"];\nconst _hoisted_111 = {\n  class: \"filter-group\"\n};\nconst _hoisted_112 = {\n  class: \"filter-group\"\n};\nconst _hoisted_113 = {\n  class: \"filter-group\"\n};\nconst _hoisted_114 = {\n  key: 0,\n  class: \"filters-stats\"\n};\nconst _hoisted_115 = {\n  key: 2,\n  class: \"audit-table\"\n};\nconst _hoisted_116 = {\n  \"data-label\": \"Дата/Время\",\n  class: \"audit-datetime\"\n};\nconst _hoisted_117 = {\n  \"data-label\": \"Администратор\",\n  class: \"audit-admin\"\n};\nconst _hoisted_118 = {\n  class: \"admin-name\"\n};\nconst _hoisted_119 = {\n  \"data-label\": \"Действие\",\n  class: \"audit-action\"\n};\nconst _hoisted_120 = {\n  \"data-label\": \"Детали\",\n  class: \"audit-details\"\n};\nconst _hoisted_121 = [\"onClick\"];\nconst _hoisted_122 = {\n  key: 1,\n  class: \"no-details\"\n};\nconst _hoisted_123 = {\n  key: 3,\n  class: \"empty-state\"\n};\nconst _hoisted_124 = {\n  key: 0,\n  class: \"modal-overlay\"\n};\nconst _hoisted_125 = {\n  class: \"modal\"\n};\nconst _hoisted_126 = {\n  class: \"modal-header\"\n};\nconst _hoisted_127 = {\n  class: \"form-group\"\n};\nconst _hoisted_128 = {\n  class: \"form-group\"\n};\nconst _hoisted_129 = {\n  class: \"form-group\"\n};\nconst _hoisted_130 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_131 = [\"disabled\"];\nconst _hoisted_132 = {\n  key: 1,\n  class: \"modal-overlay\"\n};\nconst _hoisted_133 = {\n  class: \"modal\"\n};\nconst _hoisted_134 = {\n  class: \"modal-header\"\n};\nconst _hoisted_135 = {\n  class: \"modal-body\"\n};\nconst _hoisted_136 = {\n  class: \"form-group\"\n};\nconst _hoisted_137 = {\n  class: \"form-group\"\n};\nconst _hoisted_138 = {\n  class: \"form-group\"\n};\nconst _hoisted_139 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_140 = [\"disabled\"];\nconst _hoisted_141 = [\"disabled\"];\nconst _hoisted_142 = {\n  key: 0,\n  class: \"fas fa-spinner fa-spin\"\n};\nconst _hoisted_143 = {\n  key: 2,\n  class: \"modal-overlay\"\n};\nconst _hoisted_144 = {\n  class: \"modal\"\n};\nconst _hoisted_145 = {\n  class: \"modal-header\"\n};\nconst _hoisted_146 = {\n  class: \"form-group\"\n};\nconst _hoisted_147 = {\n  class: \"form-group\"\n};\nconst _hoisted_148 = {\n  class: \"form-group\"\n};\nconst _hoisted_149 = {\n  class: \"form-group\"\n};\nconst _hoisted_150 = {\n  class: \"form-group\"\n};\nconst _hoisted_151 = {\n  class: \"form-group\"\n};\nconst _hoisted_152 = {\n  class: \"form-group\",\n  style: {\n    \"display\": \"flex\",\n    \"align-items\": \"center\",\n    \"gap\": \"10px\"\n  }\n};\nconst _hoisted_153 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_154 = [\"disabled\"];\nconst _hoisted_155 = {\n  key: 0,\n  class: \"fas fa-spinner fa-spin\"\n};\nconst _hoisted_156 = {\n  key: 3,\n  class: \"modal-overlay\"\n};\nconst _hoisted_157 = {\n  class: \"modal modal-large\"\n};\nconst _hoisted_158 = {\n  class: \"modal-header\"\n};\nconst _hoisted_159 = {\n  class: \"modal-body\"\n};\nconst _hoisted_160 = {\n  class: \"upload-content\"\n};\nconst _hoisted_161 = {\n  key: 1,\n  class: \"selected-files\"\n};\nconst _hoisted_162 = {\n  class: \"file-list\"\n};\nconst _hoisted_163 = {\n  class: \"file-info\"\n};\nconst _hoisted_164 = {\n  class: \"file-name\"\n};\nconst _hoisted_165 = {\n  class: \"file-size\"\n};\nconst _hoisted_166 = [\"onClick\"];\nconst _hoisted_167 = {\n  key: 2,\n  class: \"upload-results\"\n};\nconst _hoisted_168 = {\n  class: \"results-summary\"\n};\nconst _hoisted_169 = {\n  class: \"success\"\n};\nconst _hoisted_170 = {\n  class: \"error\"\n};\nconst _hoisted_171 = {\n  class: \"results-list\"\n};\nconst _hoisted_172 = {\n  class: \"result-file\"\n};\nconst _hoisted_173 = {\n  class: \"result-status\"\n};\nconst _hoisted_174 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_175 = [\"disabled\"];\nconst _hoisted_176 = {\n  key: 1,\n  style: {\n    \"display\": \"flex\",\n    \"align-items\": \"center\",\n    \"gap\": \"12px\"\n  }\n};\nconst _hoisted_177 = {\n  key: 4,\n  class: \"modal-overlay\"\n};\nconst _hoisted_178 = {\n  class: \"modal\"\n};\nconst _hoisted_179 = {\n  class: \"modal-header\"\n};\nconst _hoisted_180 = {\n  class: \"form-group\"\n};\nconst _hoisted_181 = {\n  class: \"form-group\"\n};\nconst _hoisted_182 = {\n  class: \"form-group\"\n};\nconst _hoisted_183 = {\n  class: \"form-group\"\n};\nconst _hoisted_184 = {\n  class: \"form-group\"\n};\nconst _hoisted_185 = {\n  class: \"form-group\"\n};\nconst _hoisted_186 = {\n  class: \"form-group\",\n  style: {\n    \"display\": \"flex\",\n    \"align-items\": \"center\",\n    \"gap\": \"10px\"\n  }\n};\nconst _hoisted_187 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_188 = [\"disabled\"];\nconst _hoisted_189 = {\n  key: 0,\n  class: \"fas fa-spinner fa-spin\"\n};\nconst _hoisted_190 = {\n  key: 5,\n  class: \"modal-overlay\"\n};\nconst _hoisted_191 = {\n  class: \"modal modal-large\"\n};\nconst _hoisted_192 = {\n  class: \"modal-header\"\n};\nconst _hoisted_193 = {\n  class: \"modal-body\"\n};\nconst _hoisted_194 = {\n  key: 1,\n  class: \"documents-table\"\n};\nconst _hoisted_195 = {\n  class: \"action-buttons\"\n};\nconst _hoisted_196 = [\"onClick\"];\nconst _hoisted_197 = [\"onClick\"];\nconst _hoisted_198 = {\n  key: 2\n};\nconst _hoisted_199 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_200 = {\n  key: 6,\n  class: \"modal-overlay\"\n};\nconst _hoisted_201 = {\n  class: \"modal\"\n};\nconst _hoisted_202 = {\n  class: \"modal-header\"\n};\nconst _hoisted_203 = {\n  class: \"modal-body\"\n};\nconst _hoisted_204 = {\n  style: {\n    \"color\": \"#374151\",\n    \"font-size\": \"16px\",\n    \"line-height\": \"1.4\"\n  }\n};\nconst _hoisted_205 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_206 = [\"disabled\"];\nconst _hoisted_207 = [\"disabled\"];\nconst _hoisted_208 = {\n  key: 0,\n  class: \"fas fa-spinner fa-spin\"\n};\nconst _hoisted_209 = {\n  key: 7,\n  class: \"modal-overlay\"\n};\nconst _hoisted_210 = {\n  class: \"modal\"\n};\nconst _hoisted_211 = {\n  class: \"modal-header\"\n};\nconst _hoisted_212 = {\n  key: 0,\n  class: \"modal-body\"\n};\nconst _hoisted_213 = {\n  class: \"audit-details\"\n};\nconst _hoisted_214 = {\n  class: \"detail-row\"\n};\nconst _hoisted_215 = {\n  class: \"detail-value\"\n};\nconst _hoisted_216 = {\n  class: \"detail-row\"\n};\nconst _hoisted_217 = {\n  class: \"detail-value\"\n};\nconst _hoisted_218 = {\n  class: \"detail-row\"\n};\nconst _hoisted_219 = {\n  class: \"detail-value\"\n};\nconst _hoisted_220 = {\n  class: \"detail-row\"\n};\nconst _hoisted_221 = {\n  class: \"detail-value\"\n};\nconst _hoisted_222 = {\n  key: 0,\n  class: \"detail-row\"\n};\nconst _hoisted_223 = {\n  class: \"detail-json\"\n};\nconst _hoisted_224 = {\n  class: \"modal-footer\"\n};\nimport { ref, onMounted, computed, watch } from 'vue';\nimport AppLoader from '@/components/AppLoader.vue';\nimport AppNotifications from '@/components/AppNotifications.vue';\nimport ExcelViewer from '@/components/ExcelViewer.vue';\nimport { useAuthStore } from '@/stores/auth';\nimport { useNotificationStore } from '@/stores/notifications';\nimport api from '@/plugins/axios';\nexport default {\n  __name: 'AdminDashboard',\n  setup(__props) {\n    const authStore = useAuthStore();\n    const notificationStore = useNotificationStore();\n\n    // Reactive data\n    const user = ref(null);\n    const stats = ref({});\n    const activeTab = ref('partners');\n\n    // Computed для проверки роли суперадмина\n    const isSuperAdmin = computed(() => {\n      return authStore.user?.adminRole === 'superadmin';\n    });\n\n    // Tabs\n    const tabs = computed(() => {\n      const baseTabs = [{\n        id: 'partners',\n        label: 'Партнеры'\n      }, {\n        id: 'upload',\n        label: 'Загрузка'\n      }, {\n        id: 'documents',\n        label: 'Документы'\n      }];\n\n      // Добавляем вкладки только для суперадмина\n      if (isSuperAdmin.value) {\n        baseTabs.push({\n          id: 'admins',\n          label: 'Администраторы'\n        });\n        baseTabs.push({\n          id: 'audit',\n          label: 'Журнал событий'\n        });\n      }\n      return baseTabs;\n    });\n\n    // File upload\n    const selectedFiles = ref([]);\n    const uploading = ref(false);\n    const uploadResults = ref([]);\n    const isDragover = ref(false);\n\n    // Auto upload (с определением партнёра из Excel)\n    const autoUploadFiles = ref([]);\n    const autoUploading = ref(false);\n    const autoUploadResults = ref([]);\n    const isAutoUploadDragover = ref(false);\n\n    // Documents\n    const unpublishedClaims = ref([]);\n    const selectedClaims = ref([]);\n    const loadingDocuments = ref(false);\n    const publishing = ref(false);\n    // Additional loaders\n    const loadingStats = ref(false);\n    const loadingPartnerDocuments = ref(false);\n    const documentsFilter = ref('unpublished'); // 'unpublished' or 'published'\n    const documentSearchQuery = ref(''); // поиск по названию файла\n    const documentPartnerFilter = ref(''); // фильтр по партнёру (partnerId)\n    const documentDateFrom = ref(''); // начало диапазона дат\n    const documentDateTo = ref(''); // конец диапазона дат\n\n    const setDocumentsFilter = value => {\n      documentsFilter.value = value;\n      refreshDocuments();\n    };\n\n    // File-Partner mapping\n    const currentUploadPartnerId = ref(null);\n    const currentUploadPartnerName = ref('');\n    const showUploadModal = ref(false);\n\n    // Partners\n    const partners = ref([]);\n    const loadingPartners = ref(false);\n    const partnerSearchQuery = ref('');\n    const partnerActiveFilter = ref('all'); // 'all' | 'active' | 'inactive'\n    const partnerBirthdayFilter = ref(false); // показывать только с ДР в этом месяце\n    const showCreatePartnerModal = ref(false);\n    const creatingPartner = ref(false);\n    const showEditPartnerModal = ref(false);\n    const editingPartner = ref(false);\n    const partnerToEdit = ref(null);\n    const showPartnerDocumentsModal = ref(false);\n    const partnerDocuments = ref([]);\n    const showViewDocumentModal = ref(false);\n    const currentDocument = ref(null);\n    const loadingCurrentDocument = ref(false);\n    const excelData = ref(null);\n    const newPartner = ref({\n      name: '',\n      email: '',\n      telegram: '',\n      alias: '',\n      password: '',\n      birthDate: '',\n      active: true\n    });\n\n    // Admins (только для superadmin)\n    const admins = ref([]);\n    const loadingAdmins = ref(false);\n    const showCreateAdminModal = ref(false);\n    const creatingAdmin = ref(false);\n    const showEditAdminModal = ref(false);\n    const editingAdmin = ref(false);\n    const adminToEdit = ref(null);\n    const newAdmin = ref({\n      username: '',\n      email: '',\n      password: ''\n    });\n    const editAdminData = ref({\n      username: '',\n      email: '',\n      password: ''\n    });\n\n    // Audit Logs (только для superadmin)\n    const auditLogs = ref([]);\n    const loadingAuditLogs = ref(false);\n    const auditSearchQuery = ref('');\n    const auditAdminFilter = ref('');\n    const auditEntityTypeFilter = ref('');\n    const auditDateFrom = ref('');\n    const auditDateTo = ref('');\n    const showAuditDetailsModal = ref(false);\n    const selectedAuditLog = ref(null);\n\n    // Confirmation modal state\n    const showConfirmModal = ref(false);\n    const confirmTitle = ref('');\n    const confirmMessage = ref('');\n    const confirmOkText = ref('Да');\n    const confirmCancelText = ref('Отмена');\n    const confirmLoading = ref(false);\n    let confirmCallback = null;\n    const openConfirm = ({\n      title = 'Подтверждение',\n      message = '',\n      okText = 'Да',\n      cancelText = 'Отмена',\n      onConfirm = null\n    }) => {\n      confirmTitle.value = title;\n      confirmMessage.value = message;\n      confirmOkText.value = okText;\n      confirmCancelText.value = cancelText;\n      confirmCallback = onConfirm;\n      confirmLoading.value = false;\n      showConfirmModal.value = true;\n    };\n    const handleConfirmYes = async () => {\n      if (!confirmCallback) {\n        showConfirmModal.value = false;\n        return;\n      }\n      try {\n        confirmLoading.value = true;\n        await confirmCallback();\n      } catch (e) {\n        console.error('Confirm action error', e);\n      } finally {\n        confirmLoading.value = false;\n        showConfirmModal.value = false;\n      }\n    };\n    const handleConfirmNo = () => {\n      showConfirmModal.value = false;\n      confirmCallback = null;\n    };\n\n    // Methods\n    const loadData = async () => {\n      loadingStats.value = true;\n      try {\n        const response = await api.get('/admin/stats');\n        stats.value = response.data.stats;\n        user.value = authStore.user;\n      } catch (error) {\n        console.error('Ошибка загрузки статистики:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка загрузки данных'\n        });\n      } finally {\n        loadingStats.value = false;\n      }\n    };\n    const handleFileSelect = event => {\n      const files = Array.from(event.target.files);\n      addFiles(files);\n    };\n    const handleDrop = event => {\n      isDragover.value = false;\n      const files = Array.from(event.dataTransfer.files);\n      addFiles(files);\n    };\n    const addFiles = files => {\n      const excelFiles = files.filter(file => file.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' || file.type === 'application/vnd.ms-excel' || file.name.endsWith('.xlsx') || file.name.endsWith('.xls'));\n      if (excelFiles.length !== files.length) {\n        notificationStore.addNotification({\n          type: 'warning',\n          message: 'Некоторые файлы не являются Excel файлами и были проигнорированы'\n        });\n      }\n      selectedFiles.value = [...selectedFiles.value, ...excelFiles];\n    };\n    const removeFile = index => {\n      selectedFiles.value.splice(index, 1);\n    };\n\n    // clearFiles removed — upload modal uses closeUploadModal to reset state\n\n    const filteredPartners = computed(() => {\n      let filtered = partners.value;\n\n      // Фильтр по статусу активности\n      if (partnerActiveFilter.value === 'active') {\n        filtered = filtered.filter(p => p.Active === 1 || p.Active === true);\n      } else if (partnerActiveFilter.value === 'inactive') {\n        filtered = filtered.filter(p => p.Active === 0 || p.Active === false);\n      }\n\n      // Фильтр по дню рождения в этом месяце\n      if (partnerBirthdayFilter.value) {\n        const currentMonth = new Date().getMonth();\n        filtered = filtered.filter(p => {\n          if (!p.BirthDate) return false;\n          const birthDate = new Date(p.BirthDate);\n          return birthDate.getMonth() === currentMonth;\n        });\n      }\n\n      // Поисковый фильтр\n      if (partnerSearchQuery.value) {\n        const query = partnerSearchQuery.value.toLowerCase();\n        filtered = filtered.filter(p => {\n          const name = (p.Name || p.name || '').toLowerCase();\n          const email = (p.Email || p.email || '').toLowerCase();\n          const inc = String(p.Inc || p.partnerId || '');\n          const alias = (p.Alias || p.alias || '').toLowerCase();\n          return name.includes(query) || email.includes(query) || inc.includes(query) || alias.includes(query);\n        });\n      }\n      return filtered;\n    });\n\n    // Фильтрация документов\n    const filteredDocuments = computed(() => {\n      let filtered = unpublishedClaims.value;\n\n      // Фильтр по партнёру\n      if (documentPartnerFilter.value) {\n        filtered = filtered.filter(doc => String(doc.partnerId) === String(documentPartnerFilter.value));\n      }\n\n      // Фильтр по диапазону дат загрузки\n      if (documentDateFrom.value) {\n        const fromDate = new Date(documentDateFrom.value);\n        fromDate.setHours(0, 0, 0, 0);\n        filtered = filtered.filter(doc => {\n          const docDate = new Date(doc.uploadedAt || doc.Created);\n          docDate.setHours(0, 0, 0, 0);\n          return docDate >= fromDate;\n        });\n      }\n      if (documentDateTo.value) {\n        const toDate = new Date(documentDateTo.value);\n        toDate.setHours(23, 59, 59, 999);\n        filtered = filtered.filter(doc => {\n          const docDate = new Date(doc.uploadedAt || doc.Created);\n          return docDate <= toDate;\n        });\n      }\n\n      // Поисковый фильтр по названию файла\n      if (documentSearchQuery.value) {\n        const query = documentSearchQuery.value.toLowerCase();\n        filtered = filtered.filter(doc => {\n          const fileName = (doc.fileName || doc.originalName || '').toLowerCase();\n          return fileName.includes(query);\n        });\n      }\n      return filtered;\n    });\n    const filteredAuditLogs = computed(() => {\n      let filtered = auditLogs.value;\n\n      // Фильтр по администратору\n      if (auditAdminFilter.value) {\n        filtered = filtered.filter(log => String(log.admin_id) === String(auditAdminFilter.value));\n      }\n\n      // Фильтр по типу сущности\n      if (auditEntityTypeFilter.value) {\n        filtered = filtered.filter(log => log.entity_type === auditEntityTypeFilter.value);\n      }\n\n      // Фильтр по дате от\n      if (auditDateFrom.value) {\n        const fromDate = new Date(auditDateFrom.value);\n        fromDate.setHours(0, 0, 0, 0);\n        filtered = filtered.filter(log => {\n          const logDate = new Date(log.timestamp);\n          return logDate >= fromDate;\n        });\n      }\n\n      // Фильтр по дате до\n      if (auditDateTo.value) {\n        const toDate = new Date(auditDateTo.value);\n        toDate.setHours(23, 59, 59, 999);\n        filtered = filtered.filter(log => {\n          const logDate = new Date(log.timestamp);\n          return logDate <= toDate;\n        });\n      }\n\n      // Поисковый фильтр\n      if (auditSearchQuery.value) {\n        const query = auditSearchQuery.value.toLowerCase();\n        filtered = filtered.filter(log => {\n          const adminName = (log.admin_username || '').toLowerCase();\n          const action = (log.action || '').toLowerCase();\n          const entityName = (log.entity_name || '').toLowerCase();\n          return adminName.includes(query) || action.includes(query) || entityName.includes(query);\n        });\n      }\n      return filtered;\n    });\n    const openUploadForPartner = partner => {\n      currentUploadPartnerId.value = partner.Inc;\n      currentUploadPartnerName.value = partner.Name;\n      selectedFiles.value = [];\n      uploadResults.value = [];\n      showUploadModal.value = true;\n    };\n    const closeUploadModal = () => {\n      showUploadModal.value = false;\n      selectedFiles.value = [];\n      uploadResults.value = [];\n      currentUploadPartnerId.value = null;\n      currentUploadPartnerName.value = '';\n    };\n    const uploadFilesForPartner = async () => {\n      if (selectedFiles.value.length === 0 || !currentUploadPartnerId.value) return;\n      uploading.value = true;\n      const formData = new FormData();\n\n      // Собираем массив partner IDs - все файлы для одного партнера\n      const partnerIds = [];\n\n      // Add files and collect partner IDs\n      selectedFiles.value.forEach(file => {\n        formData.append('files', file);\n        partnerIds.push(currentUploadPartnerId.value);\n      });\n\n      // Отправляем массив партнеров как JSON\n      formData.append('partnerIds', JSON.stringify(partnerIds));\n      try {\n        const response = await api.post('/admin/upload-files', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        uploadResults.value = [...response.data.results.map(r => ({\n          ...r,\n          success: true\n        })), ...response.data.errors.map(e => ({\n          ...e,\n          success: false\n        }))];\n        notificationStore.addNotification({\n          type: 'success',\n          message: response.data.message\n        });\n        selectedFiles.value = [];\n        refreshDocuments();\n\n        // Redirect to partner documents to publish\n        const uploadedPartner = {\n          Inc: currentUploadPartnerId.value,\n          Name: currentUploadPartnerName.value\n        };\n        closeUploadModal();\n        await viewPartnerDocuments(uploadedPartner);\n      } catch (error) {\n        console.error('Ошибка загрузки файлов:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка загрузки файлов: ' + (error.response?.data?.message || error.message)\n        });\n      } finally {\n        uploading.value = false;\n      }\n    };\n    const refreshDocuments = async () => {\n      loadingDocuments.value = true;\n      try {\n        const endpoint = documentsFilter.value === 'unpublished' ? '/admin/unpublished-claims' : '/admin/published-claims';\n        const response = await api.get(endpoint);\n        unpublishedClaims.value = response.data.data;\n        selectedClaims.value = [];\n      } catch (error) {\n        console.error('Ошибка загрузки документов:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка загрузки документов'\n        });\n      } finally {\n        loadingDocuments.value = false;\n      }\n    };\n\n    // Auto upload functions (с определением партнёра из Excel)\n    const handleAutoUploadDrop = e => {\n      isAutoUploadDragover.value = false;\n      const files = Array.from(e.dataTransfer.files).filter(f => f.name.endsWith('.xlsx') || f.name.endsWith('.xls'));\n      autoUploadFiles.value = [...autoUploadFiles.value, ...files];\n    };\n    const handleAutoUploadFileSelect = e => {\n      const files = Array.from(e.target.files);\n      autoUploadFiles.value = [...autoUploadFiles.value, ...files];\n      e.target.value = ''; // Reset input\n    };\n    const removeAutoUploadFile = index => {\n      autoUploadFiles.value.splice(index, 1);\n    };\n    const uploadAutoFiles = async () => {\n      if (autoUploadFiles.value.length === 0) return;\n      autoUploading.value = true;\n      const formData = new FormData();\n      autoUploadFiles.value.forEach(file => {\n        formData.append('files', file);\n      });\n      try {\n        const response = await api.post('/admin/auto-upload-files', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        autoUploadResults.value = [...response.data.results.map(r => ({\n          ...r,\n          success: true,\n          fileName: r.fileName || r.filename,\n          partnerName: r.partnerName\n        })), ...response.data.errors.map(e => ({\n          ...e,\n          success: false,\n          fileName: e.fileName || e.filename\n        }))];\n        const successCount = response.data.results.length;\n        const errorCount = response.data.errors.length;\n        if (successCount > 0) {\n          notificationStore.addNotification({\n            type: 'success',\n            message: `Успешно загружено: ${successCount} файл(ов)`\n          });\n        }\n        if (errorCount > 0) {\n          notificationStore.addNotification({\n            type: 'error',\n            message: `Ошибок: ${errorCount} файл(ов)`\n          });\n        }\n        autoUploadFiles.value = [];\n        refreshDocuments();\n      } catch (error) {\n        console.error('Ошибка автоматической загрузки:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка загрузки: ' + (error.response?.data?.message || error.message)\n        });\n      } finally {\n        autoUploading.value = false;\n      }\n    };\n    const publishDocument = async claimId => {\n      try {\n        await api.post('/admin/publish-claims', {\n          claimIds: [claimId]\n        });\n        notificationStore.addNotification({\n          type: 'success',\n          message: 'Документ успешно опубликован'\n        });\n        refreshDocuments();\n        loadData();\n      } catch (error) {\n        console.error('Ошибка публикации:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка публикации документа'\n        });\n      }\n    };\n    const publishSelectedDocuments = async () => {\n      if (selectedClaims.value.length === 0) return;\n      publishing.value = true;\n      try {\n        const response = await api.post('/admin/publish-claims', {\n          claimIds: selectedClaims.value\n        });\n        notificationStore.addNotification({\n          type: 'success',\n          message: response.data.message\n        });\n        refreshDocuments();\n        loadData();\n      } catch (error) {\n        console.error('Ошибка публикации:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка публикации документов'\n        });\n      } finally {\n        publishing.value = false;\n      }\n    };\n    const publishAllDocuments = async () => {\n      const allClaimIds = unpublishedClaims.value.map(claim => getClaimId(claim));\n      selectedClaims.value = allClaimIds;\n      await publishSelectedDocuments();\n    };\n    const unpublishDocument = async claimId => {\n      if (!claimId) {\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Не удалось определить ID документа'\n        });\n        return;\n      }\n      openConfirm({\n        title: 'Снятие публикации',\n        message: 'Вы уверены, что хотите снять публикацию этого документа? Партнёр больше не сможет его видеть.',\n        okText: 'Снять публикацию',\n        cancelText: 'Отмена',\n        onConfirm: async () => {\n          try {\n            await api.post('/admin/unpublish-claims', {\n              claimIds: [claimId]\n            });\n            notificationStore.addNotification({\n              type: 'success',\n              message: 'Публикация документа снята'\n            });\n            refreshDocuments();\n            loadData();\n          } catch (error) {\n            console.error('Ошибка снятия публикации:', error);\n            notificationStore.addNotification({\n              type: 'error',\n              message: 'Ошибка снятия публикации: ' + (error.response?.data?.message || error.message)\n            });\n            throw error;\n          }\n        }\n      });\n    };\n    const deleteDocument = async claimId => {\n      if (!claimId) {\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Не удалось определить ID документа'\n        });\n        return;\n      }\n      openConfirm({\n        title: 'Удаление документа',\n        message: 'Вы уверены, что хотите удалить этот документ?',\n        okText: 'Удалить',\n        cancelText: 'Отмена',\n        onConfirm: async () => {\n          try {\n            await api.delete(`/admin/claims/${claimId}`);\n            notificationStore.addNotification({\n              type: 'success',\n              message: 'Документ успешно удален'\n            });\n            refreshDocuments();\n            loadData();\n          } catch (error) {\n            console.error('Ошибка удаления:', error);\n            notificationStore.addNotification({\n              type: 'error',\n              message: 'Ошибка удаления документа: ' + (error.response?.data?.message || error.message)\n            });\n            throw error;\n          }\n        }\n      });\n    };\n\n    // Partner management methods\n    const editPartner = partner => {\n      partnerToEdit.value = {\n        Inc: partner.Inc,\n        name: partner.Name,\n        email: partner.Email,\n        telegram: partner.Telegram,\n        alias: partner.Alias || '',\n        birthDate: partner.BirthDate ? partner.BirthDate.split('T')[0] : '',\n        active: partner.Active !== 0,\n        newPassword: ''\n      };\n      showEditPartnerModal.value = true;\n    };\n    const updatePartner = async () => {\n      editingPartner.value = true;\n      try {\n        const updateData = {\n          name: partnerToEdit.value.name,\n          email: partnerToEdit.value.email,\n          telegram: partnerToEdit.value.telegram,\n          alias: partnerToEdit.value.alias,\n          birthDate: partnerToEdit.value.birthDate || null,\n          active: partnerToEdit.value.active ? 1 : 0\n        };\n        if (partnerToEdit.value.newPassword) {\n          updateData.password = partnerToEdit.value.newPassword;\n        }\n        await api.put(`/admin/partners/${partnerToEdit.value.Inc}`, updateData);\n        notificationStore.addNotification({\n          type: 'success',\n          message: 'Партнер успешно обновлен'\n        });\n        showEditPartnerModal.value = false;\n        partnerToEdit.value = null;\n        loadPartners();\n      } catch (error) {\n        console.error('Ошибка обновления партнера:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка обновления партнера: ' + (error.response?.data?.message || error.message)\n        });\n      } finally {\n        editingPartner.value = false;\n      }\n    };\n    const deletePartner = async partner => {\n      openConfirm({\n        title: 'Удаление партнера',\n        message: `Вы уверены, что хотите удалить партнера \"${partner.Name}\"? Это действие нельзя отменить.`,\n        okText: 'Удалить',\n        cancelText: 'Отмена',\n        onConfirm: async () => {\n          try {\n            await api.delete(`/admin/partners/${partner.Inc}`);\n            notificationStore.addNotification({\n              type: 'success',\n              message: 'Партнер успешно удален'\n            });\n            loadPartners();\n            loadData();\n          } catch (error) {\n            console.error('Ошибка удаления партнера:', error);\n            notificationStore.addNotification({\n              type: 'error',\n              message: 'Ошибка удаления партнера: ' + (error.response?.data?.message || error.message)\n            });\n            throw error;\n          }\n        }\n      });\n    };\n    const viewPartnerDocuments = async partner => {\n      partnerToEdit.value = partner;\n      loadingPartnerDocuments.value = true;\n      try {\n        const response = await api.get(`/admin/partners/${partner.Inc}/documents`);\n        partnerDocuments.value = response.data.documents;\n        showPartnerDocumentsModal.value = true;\n      } catch (error) {\n        console.error('Ошибка загрузки документов:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка загрузки документов партнера'\n        });\n      } finally {\n        loadingPartnerDocuments.value = false;\n      }\n    };\n    const getDocDate = doc => {\n      // try multiple possible fields, prioritize created from Partner sheet\n      return doc.created ?? doc.Created ?? doc.uploadedAt ?? doc.uploaded_at ?? doc.uploadedAtRaw ?? doc.publishedAt ?? doc.PublishedAt ?? doc.dateBeg ?? doc.DateBeg ?? doc.CreatedAt ?? null;\n    };\n    const isPublished = doc => {\n      if (!doc) return false;\n      if (doc.publishedAt || doc.PublishedAt) return true;\n      if (typeof doc.Published !== 'undefined') return Boolean(doc.Published);\n      if (typeof doc.published !== 'undefined') return Boolean(doc.published);\n      if (doc.Status) {\n        try {\n          return String(doc.Status).toLowerCase().includes('pub');\n        } catch (e) {\n          // ignore\n        }\n      }\n      return false;\n    };\n    const publishPartnerDocument = async doc => {\n      const id = getClaimId(doc) || doc.claimId || doc.ClaimId || doc.DocumentId || doc.inc;\n      if (!id) return;\n      try {\n        await api.post('/admin/publish-claims', {\n          claimIds: [id]\n        });\n        notificationStore.addNotification({\n          type: 'success',\n          message: 'Документ опубликован'\n        });\n        // reload list\n        await viewPartnerDocuments(partnerToEdit.value);\n        loadData();\n      } catch (error) {\n        console.error('Ошибка публикации документа партнера:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка публикации документа'\n        });\n      }\n    };\n    const confirmDeletePartnerDocument = doc => {\n      const published = isPublished(doc);\n      openConfirm({\n        title: published ? 'Удалить опубликованный документ' : 'Удалить документ',\n        message: published ? 'Документ опубликован. Удаление приведет к удалению опубликованной версии. Вы уверены?' : 'Вы уверены, что хотите удалить документ?',\n        okText: 'Удалить',\n        cancelText: 'Отмена',\n        onConfirm: async () => {\n          await deletePartnerDocument(doc);\n        }\n      });\n    };\n    const deletePartnerDocument = async doc => {\n      const id = getClaimId(doc) || doc.claimId || doc.ClaimId || doc.DocumentId || doc.inc;\n      if (!id) return;\n      try {\n        // If document is published, pass force=true to allow deletion\n        const force = isPublished(doc);\n        const url = `/admin/claims/${id}` + (force ? '?force=true' : '');\n        await api.delete(url);\n        notificationStore.addNotification({\n          type: 'success',\n          message: 'Документ удалён'\n        });\n        await viewPartnerDocuments(partnerToEdit.value);\n        loadData();\n      } catch (error) {\n        console.error('Ошибка удаления документа партнера:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка удаления документа'\n        });\n      }\n    };\n    const toggleSelectAll = () => {\n      if (selectedClaims.value.length === filteredDocuments.value.length && filteredDocuments.value.length > 0) {\n        selectedClaims.value = [];\n      } else {\n        selectedClaims.value = filteredDocuments.value.map(claim => getClaimId(claim));\n      }\n    };\n    const viewDocument = async claimId => {\n      try {\n        loadingCurrentDocument.value = true;\n        showViewDocumentModal.value = true;\n        const response = await api.get(`/admin/claims/${claimId}`);\n        currentDocument.value = response.data.data;\n        excelData.value = response.data.excelData;\n      } catch (error) {\n        console.error('Ошибка загрузки документа:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка загрузки документа'\n        });\n        showViewDocumentModal.value = false;\n      } finally {\n        loadingCurrentDocument.value = false;\n      }\n    };\n    const downloadDocument = async claimId => {\n      try {\n        const response = await api.get(`/admin/claims/${claimId}/download`, {\n          responseType: 'blob'\n        });\n\n        // Получаем имя файла из заголовка или используем имя из currentDocument\n        const contentDisposition = response.headers['content-disposition'] || response.headers['Content-Disposition'];\n        let filename = getDisplayFileName(currentDocument.value) || 'document.xlsx';\n        if (contentDisposition) {\n          // Try RFC 5987 filename* first\n          const filenameStarMatch = contentDisposition.match(/filename\\*=(?:[\\w'']*)?([^;\\n]+)/i);\n          if (filenameStarMatch && filenameStarMatch[1]) {\n            try {\n              // filename*=UTF-8''%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80.xlsx\n              const v = filenameStarMatch[1].trim().replace(/^UTF-8''/i, '');\n              filename = decodeURIComponent(v.replace(/\"/g, ''));\n            } catch (e) {\n              // ignore\n            }\n          } else {\n            const filenameMatch = contentDisposition.match(/filename[^;=\\n]*=(['\"]?)([^'\"\\n]*?)\\1/);\n            if (filenameMatch && filenameMatch[2]) {\n              filename = filenameMatch[2];\n            }\n          }\n        }\n        // If filename still not usable, build fallback (ensures extension)\n        if (!filename || filename === '—') {\n          filename = buildFallbackFilename(currentDocument.value);\n        }\n\n        // Создаем ссылку для скачивания\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', filename);\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n        window.URL.revokeObjectURL(url);\n        notificationStore.addNotification({\n          type: 'success',\n          message: 'Файл успешно скачан'\n        });\n      } catch (error) {\n        console.error('Ошибка скачивания:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка скачивания файла'\n        });\n      }\n    };\n    const loadPartners = async () => {\n      loadingPartners.value = true;\n      try {\n        const response = await api.get('/admin/partners');\n        partners.value = response.data.data;\n      } catch (error) {\n        console.error('Ошибка загрузки партнеров:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка загрузки партнеров'\n        });\n      } finally {\n        loadingPartners.value = false;\n      }\n    };\n    const createPartner = async () => {\n      creatingPartner.value = true;\n      try {\n        await api.post('/admin/partners', newPartner.value);\n        let message = 'Партнер успешно создан';\n        notificationStore.addNotification({\n          type: 'success',\n          message: message\n        });\n        showCreatePartnerModal.value = false;\n        newPartner.value = {\n          name: '',\n          email: '',\n          telegram: '',\n          alias: '',\n          password: '',\n          birthDate: '',\n          active: true\n        };\n        loadPartners();\n        loadData();\n      } catch (error) {\n        console.error('Ошибка создания партнера:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка создания партнера: ' + (error.response?.data?.message || error.message)\n        });\n      } finally {\n        creatingPartner.value = false;\n      }\n    };\n\n    // Utility functions\n    const formatFileSize = bytes => {\n      if (bytes === 0) return '0 Bytes';\n      if (bytes == null || isNaN(Number(bytes))) return '—';\n      const b = Number(bytes);\n      const k = 1024;\n      const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(b) / Math.log(k));\n      const idx = Math.min(Math.max(i, 0), sizes.length - 1);\n      return parseFloat((b / Math.pow(k, idx)).toFixed(2)) + ' ' + sizes[idx];\n    };\n\n    // ============= МЕТОДЫ ДЛЯ УПРАВЛЕНИЯ АДМИНАМИ (только для superadmin) =============\n\n    const loadAdmins = async () => {\n      if (!isSuperAdmin.value) return;\n      loadingAdmins.value = true;\n      try {\n        const response = await api.get('/admin/admins');\n        admins.value = response.data.admins;\n      } catch (error) {\n        console.error('Ошибка загрузки админов:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка загрузки списка администраторов'\n        });\n      } finally {\n        loadingAdmins.value = false;\n      }\n    };\n    const createAdmin = async () => {\n      if (!newAdmin.value.username || !newAdmin.value.email || !newAdmin.value.password) {\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Заполните все обязательные поля'\n        });\n        return;\n      }\n      creatingAdmin.value = true;\n      try {\n        await api.post('/admin/admins', newAdmin.value);\n        notificationStore.addNotification({\n          type: 'success',\n          message: 'Администратор успешно создан'\n        });\n        showCreateAdminModal.value = false;\n        newAdmin.value = {\n          username: '',\n          email: '',\n          password: ''\n        };\n        await loadAdmins();\n      } catch (error) {\n        console.error('Ошибка создания админа:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: error.response?.data?.message || 'Ошибка создания администратора'\n        });\n      } finally {\n        creatingAdmin.value = false;\n      }\n    };\n    const confirmDeleteAdmin = admin => {\n      openConfirm({\n        title: 'Удалить администратора',\n        message: `Вы уверены, что хотите удалить администратора \"${admin.username}\"?`,\n        confirmText: 'Удалить',\n        onConfirm: () => deleteAdmin(admin)\n      });\n    };\n    const deleteAdmin = async admin => {\n      try {\n        await api.delete(`/admin/admins/${admin.inc}`);\n        notificationStore.addNotification({\n          type: 'success',\n          message: 'Администратор удален'\n        });\n        await loadAdmins();\n      } catch (error) {\n        console.error('Ошибка удаления админа:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: error.response?.data?.message || 'Ошибка удаления администратора'\n        });\n      }\n    };\n    const openEditAdminModal = admin => {\n      adminToEdit.value = admin;\n      editAdminData.value = {\n        username: admin.username,\n        email: admin.email || '',\n        password: ''\n      };\n      showEditAdminModal.value = true;\n    };\n    const updateAdmin = async () => {\n      if (!editAdminData.value.username || !editAdminData.value.email) {\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Заполните все обязательные поля'\n        });\n        return;\n      }\n      if (editAdminData.value.password && editAdminData.value.password.length < 6) {\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Пароль должен быть минимум 6 символов'\n        });\n        return;\n      }\n      try {\n        editingAdmin.value = true;\n        await api.put(`/admin/admins/${adminToEdit.value.inc}`, editAdminData.value);\n        notificationStore.addNotification({\n          type: 'success',\n          message: 'Данные администратора обновлены'\n        });\n        showEditAdminModal.value = false;\n        editAdminData.value = {\n          username: '',\n          email: '',\n          password: ''\n        };\n        await loadAdmins();\n      } catch (error) {\n        console.error('Ошибка обновления админа:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: error.response?.data?.message || 'Ошибка обновления администратора'\n        });\n      } finally {\n        editingAdmin.value = false;\n      }\n    };\n\n    // ============= AUDIT LOGS =============\n\n    const loadAuditLogs = async () => {\n      if (!isSuperAdmin.value) return;\n      try {\n        loadingAuditLogs.value = true;\n        const params = {};\n        if (auditAdminFilter.value) params.adminId = auditAdminFilter.value;\n        if (auditEntityTypeFilter.value) params.entityType = auditEntityTypeFilter.value;\n        if (auditDateFrom.value) params.dateFrom = auditDateFrom.value;\n        if (auditDateTo.value) params.dateTo = auditDateTo.value;\n        if (auditSearchQuery.value) params.search = auditSearchQuery.value;\n        const response = await api.get('/audit-logs', {\n          params\n        });\n        auditLogs.value = response.data.logs;\n      } catch (error) {\n        console.error('Ошибка загрузки audit logs:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка загрузки журнала событий'\n        });\n      } finally {\n        loadingAuditLogs.value = false;\n      }\n    };\n    const refreshAuditLogs = () => {\n      loadAuditLogs();\n    };\n    const clearAuditFilters = () => {\n      auditSearchQuery.value = '';\n      auditAdminFilter.value = '';\n      auditEntityTypeFilter.value = '';\n      auditDateFrom.value = '';\n      auditDateTo.value = '';\n    };\n    const showAuditDetails = log => {\n      selectedAuditLog.value = log;\n      showAuditDetailsModal.value = true;\n    };\n    const formatAction = action => {\n      const translations = {\n        // Партнёры\n        'create_partner': 'Создание партнёра',\n        'update_partner': 'Обновление партнёра',\n        'delete_partner': 'Удаление партнёра',\n        // Документы\n        'upload_document': 'Загрузка документа',\n        'auto_upload_files': 'Автозагрузка документов',\n        'publish_claims': 'Публикация претензий',\n        'publish_document': 'Публикация документа',\n        'unpublish_claims': 'Снятие публикации претензий',\n        'delete_claim': 'Удаление претензии',\n        'delete_document': 'Удаление документа',\n        // Администраторы\n        'create_admin': 'Создание администратора',\n        'update_admin': 'Обновление администратора',\n        'delete_admin': 'Удаление администратора',\n        'update_admin_password': 'Изменение пароля администратора',\n        // Авторизация\n        'login': 'Вход в систему',\n        'logout': 'Выход из системы',\n        'admin_login': 'Вход администратора',\n        'admin_login_attempt': 'Попытка входа',\n        'admin_logout': 'Выход администратора',\n        'partner_login': 'Вход партнёра',\n        'partner_logout': 'Выход партнёра',\n        // Прочее\n        'view_document': 'Просмотр документа',\n        'view_documents': 'Просмотр документов',\n        'download_document': 'Скачивание документа',\n        'password_reset_request': 'Запрос сброса пароля',\n        'password_reset_complete': 'Завершение сброса пароля',\n        'export_data': 'Экспорт данных',\n        'import_data': 'Импорт данных',\n        'system_config_change': 'Изменение настроек системы',\n        'partner_login_attempt': 'Попытка входа партнёра',\n        'upload_files': 'Загрузка файлов'\n      };\n      return translations[action] || action;\n    };\n    const formatEntityType = type => {\n      const translations = {\n        'partner': 'Партнёр',\n        'document': 'Документ',\n        'claim': 'Претензия',\n        'admin': 'Администратор'\n      };\n      return type ? translations[type] || type : '—';\n    };\n    const getActionBadgeClass = action => {\n      if (action.includes('create') || action.includes('upload')) return 'badge-success';\n      if (action.includes('update') || action.includes('change')) return 'badge-warning';\n      if (action.includes('delete')) return 'badge-danger';\n      if (action.includes('publish') || action.includes('view') || action.includes('download')) return 'badge-info';\n      if (action.includes('login') || action.includes('logout')) return 'badge-purple';\n      if (action.includes('export') || action.includes('import')) return 'badge-teal';\n      return 'badge-default';\n    };\n    const getAdminName = log => {\n      if (log.admin_username && log.admin_username !== '—') return log.admin_username;\n      if (log.details?.adminUsername) return log.details.adminUsername;\n      const possibleId = log.userId || log.details?.adminId || log.details?.admin_id || null;\n      if (possibleId) {\n        // Попробуем найти в загруженных админах\n        const found = admins.value.find(a => a.inc === possibleId || a.inc === Number(possibleId));\n        if (found) return found.username;\n        return `ID:${possibleId}`;\n      }\n      return 'Система';\n    };\n\n    // NOTE: `Тип` и `Сущность` больше не отображаются в UI; helper functions removed to satisfy linter\n\n    // ============= УТИЛИТЫ =============\n\n    const toTimestampMs = value => {\n      if (value == null || value === '') return null;\n      // If numeric (seconds or milliseconds)\n      if (typeof value === 'number') {\n        // If looks like seconds (<= 10^11), convert to ms\n        return value < 1e12 ? value * 1000 : value;\n      }\n      // If string of digits\n      if (/^\\d+$/.test(String(value))) {\n        const n = parseInt(value, 10);\n        return n < 1e12 ? n * 1000 : n;\n      }\n      // If string looks like 'YYYY-MM-DD HH:mm:ss' or 'YYYY/MM/DD HH:mm:ss', treat as UTC\n      if (typeof value === 'string' && /^\\d{4}[-/]\\d{2}[-/]\\d{2}[ T]\\d{2}:\\d{2}:\\d{2}$/.test(value)) {\n        // normalize to ISO and append Z to force UTC\n        const iso = value.replace(' ', 'T').replace(/\\//g, '-') + 'Z';\n        const parsedIso = Date.parse(iso);\n        return isNaN(parsedIso) ? null : parsedIso;\n      }\n      // Otherwise let Date parse the string (ISO, etc.)\n      const parsed = Date.parse(value);\n      return isNaN(parsed) ? null : parsed;\n    };\n    const formatDate = date => {\n      const ts = toTimestampMs(date);\n      if (!ts) return '';\n      return new Date(ts).toLocaleDateString('ru-RU', {\n        timeZone: 'Europe/Moscow'\n      });\n    };\n    const formatDateTime = date => {\n      const ts = toTimestampMs(date);\n      if (!ts) return '';\n      return new Date(ts).toLocaleString('ru-RU', {\n        timeZone: 'Europe/Moscow',\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    };\n    const formatPeriod = (dateFrom, dateTo) => {\n      if (!dateFrom || !dateTo) return '—';\n      const from = new Date(dateFrom).toLocaleDateString('ru-RU');\n      const to = new Date(dateTo).toLocaleDateString('ru-RU');\n      return `${from} — ${to}`;\n    };\n\n    // Format currency helper (kept for reuse if needed elsewhere)\n    const formatCurrency = amount => {\n      if (amount === null || amount === undefined) return '—';\n      return new Intl.NumberFormat('ru-RU', {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2\n      }).format(amount);\n    };\n\n    // Helper to get claim id regardless of backend field naming\n    const getClaimId = claim => {\n      if (!claim) return null;\n      return claim.Inc ?? claim.inc ?? claim.id ?? claim.ClaimId ?? null;\n    };\n\n    // Friendly filename getter with fallbacks\n    const getDisplayFileName = doc => {\n      if (!doc) return '—';\n      const name = doc.fileName || doc.FileName || doc.originalName || doc.originalname || doc.filename || doc.FileNameDownload;\n      if (name && String(name).trim() !== '') return name;\n      return buildFallbackFilename(doc);\n    };\n\n    // Build a readable, filesystem-safe fallback filename when original name is missing\n    const buildFallbackFilename = doc => {\n      if (!doc) return 'document.xlsx';\n      const parts = [];\n      const type = doc.type || doc.Type || '';\n      const partner = doc.PartnerName || doc.partnerName || doc.Name || doc.name || '';\n      const inc = doc.inc ?? doc.Inc ?? doc.id ?? '';\n      if (type) parts.push(String(type));\n      if (partner) parts.push(String(partner));\n      if (inc) parts.push(`#${inc}`);\n\n      // Period: try dateBeg/dateEnd\n      const from = doc.dateBeg ?? doc.DateBeg ?? doc.dateBegRaw ?? null;\n      const to = doc.dateEnd ?? doc.DateEnd ?? doc.dateEndRaw ?? null;\n      if (from && to) {\n        const f = toTimestampMs(from);\n        const t = toTimestampMs(to);\n        if (f && t) {\n          const d1 = new Date(f);\n          const d2 = new Date(t);\n          const pf = `${d1.getFullYear()}${String(d1.getMonth() + 1).padStart(2, '0')}`;\n          const pt = `${d2.getFullYear()}${String(d2.getMonth() + 1).padStart(2, '0')}`;\n          parts.push(`${pf}-${pt}`);\n        }\n      }\n      let filename = parts.join(' - ');\n      if (!filename) filename = `document${inc ? `-${inc}` : ''}`;\n      // sanitize: remove slashes and quotes\n      filename = filename.replace(/[\\\\/:*?\"<>|]/g, '').trim();\n      // append default extension\n      if (!/\\.[a-z0-9]+$/i.test(filename)) filename += '.xlsx';\n      return filename;\n    };\n    const getStatusLabel = status => {\n      const labels = {\n        uploaded: 'Загружен',\n        published: 'Опубликован',\n        error: 'Ошибка'\n      };\n      return labels[status] || status;\n    };\n\n    // Watch activeTab to load data\n    const handleTabChange = () => {\n      if (activeTab.value === 'documents') {\n        refreshDocuments();\n      } else if (activeTab.value === 'partners') {\n        loadPartners();\n      } else if (activeTab.value === 'admins' && isSuperAdmin.value) {\n        loadAdmins();\n      } else if (activeTab.value === 'audit' && isSuperAdmin.value) {\n        loadAuditLogs();\n      }\n    };\n\n    // Lifecycle\n    onMounted(() => {\n      loadData();\n      handleTabChange();\n      // ensure helper is treated as used by linters\n      void formatCurrency(0);\n    });\n\n    // Watch activeTab\n    watch(activeTab, handleTabChange);\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [loadingStats.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(AppLoader)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, _toDisplayString(stats.value.totalPartners || 0), 1), _cache[59] || (_cache[59] = _createElementVNode(\"div\", {\n        class: \"stat-label\"\n      }, \"Всего партнеров\", -1))])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, _toDisplayString(stats.value.documentsThisMonth || 0), 1), _cache[60] || (_cache[60] = _createElementVNode(\"div\", {\n        class: \"stat-label\"\n      }, \"Документов за месяц\", -1))])]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, _toDisplayString(stats.value.unpublishedDocuments || 0), 1), _cache[61] || (_cache[61] = _createElementVNode(\"div\", {\n        class: \"stat-label\"\n      }, \"К публикации\", -1))])])])), _createElementVNode(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(tabs.value, tab => {\n        return _openBlock(), _createElementBlock(\"button\", {\n          key: tab.id,\n          onClick: $event => activeTab.value = tab.id,\n          class: _normalizeClass(['tab', {\n            active: activeTab.value === tab.id\n          }])\n        }, _toDisplayString(tab.label), 11, _hoisted_15);\n      }), 128))]), activeTab.value === 'documents' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_cache[63] || (_cache[63] = _createElementVNode(\"h3\", null, \"Все документы\", -1)), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"button\", {\n        class: _normalizeClass(['btn-small', {\n          active: documentsFilter.value === 'unpublished'\n        }]),\n        onClick: _cache[0] || (_cache[0] = $event => setDocumentsFilter('unpublished'))\n      }, \"Загруженные\", 2), _createElementVNode(\"button\", {\n        class: _normalizeClass(['btn-small', {\n          active: documentsFilter.value === 'published'\n        }]),\n        onClick: _cache[1] || (_cache[1] = $event => setDocumentsFilter('published'))\n      }, \"Опубликованные\", 2)]), _createElementVNode(\"button\", {\n        onClick: refreshDocuments,\n        class: \"btn btn-secondary\"\n      }, [...(_cache[62] || (_cache[62] = [_createElementVNode(\"img\", {\n        src: _imports_0,\n        alt: \"refresh\",\n        width: \"18\",\n        height: \"18\",\n        class: \"icon-img-invert\"\n      }, null, -1)]))]), documentsFilter.value === 'unpublished' ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        onClick: publishAllDocuments,\n        disabled: !unpublishedClaims.value.length || publishing.value,\n        class: \"btn btn-primary\"\n      }, [publishing.value ? (_openBlock(), _createElementBlock(\"i\", _hoisted_22)) : _createCommentVNode(\"\", true), _createTextVNode(\" Опубликовать все (\" + _toDisplayString(unpublishedClaims.value.length) + \") \", 1)], 8, _hoisted_21)) : _createCommentVNode(\"\", true)])]), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, [_cache[64] || (_cache[64] = _createElementVNode(\"label\", null, \"Поиск:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => documentSearchQuery.value = $event),\n        type: \"text\",\n        placeholder: \"Название файла...\",\n        class: \"filter-input\"\n      }, null, 512), [[_vModelText, documentSearchQuery.value]])]), _createElementVNode(\"div\", _hoisted_25, [_cache[66] || (_cache[66] = _createElementVNode(\"label\", null, \"Партнёр:\", -1)), _withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => documentPartnerFilter.value = $event),\n        class: \"filter-select\"\n      }, [_cache[65] || (_cache[65] = _createElementVNode(\"option\", {\n        value: \"\"\n      }, \"Все партнёры\", -1)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(partners.value, partner => {\n        return _openBlock(), _createElementBlock(\"option\", {\n          key: partner.Inc,\n          value: partner.Inc\n        }, _toDisplayString(partner.Name), 9, _hoisted_26);\n      }), 128))], 512), [[_vModelSelect, documentPartnerFilter.value]])]), _createElementVNode(\"div\", _hoisted_27, [_cache[67] || (_cache[67] = _createElementVNode(\"label\", null, \"Дата от:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => documentDateFrom.value = $event),\n        type: \"date\",\n        class: \"filter-input\"\n      }, null, 512), [[_vModelText, documentDateFrom.value]])]), _createElementVNode(\"div\", _hoisted_28, [_cache[68] || (_cache[68] = _createElementVNode(\"label\", null, \"до:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => documentDateTo.value = $event),\n        type: \"date\",\n        class: \"filter-input\"\n      }, null, 512), [[_vModelText, documentDateTo.value]])]), _createElementVNode(\"div\", _hoisted_29, \" Показано: \" + _toDisplayString(filteredDocuments.value.length) + \" из \" + _toDisplayString(unpublishedClaims.value.length), 1)]), loadingDocuments.value ? (_openBlock(), _createBlock(AppLoader, {\n        key: 0\n      })) : filteredDocuments.value.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_30, [_cache[69] || (_cache[69] = _createElementVNode(\"div\", {\n        class: \"empty-icon\"\n      }, [_createElementVNode(\"img\", {\n        src: _imports_1,\n        alt: \"docs\",\n        width: \"32\",\n        height: \"32\"\n      })], -1)), _createElementVNode(\"h3\", null, _toDisplayString(unpublishedClaims.value.length === 0 ? 'Нет документов для публикации' : 'Ничего не найдено'), 1), _createElementVNode(\"p\", null, _toDisplayString(unpublishedClaims.value.length === 0 ? 'Все загруженные документы уже опубликованы' : 'Попробуйте изменить параметры фильтрации'), 1)])) : (_openBlock(), _createElementBlock(\"table\", _hoisted_31, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, [_createElementVNode(\"input\", {\n        type: \"checkbox\",\n        checked: selectedClaims.value.length === filteredDocuments.value.length && filteredDocuments.value.length > 0,\n        onChange: toggleSelectAll\n      }, null, 40, _hoisted_32)]), _cache[70] || (_cache[70] = _createElementVNode(\"th\", null, \"Файл\", -1)), _cache[71] || (_cache[71] = _createElementVNode(\"th\", null, \"Код партнера\", -1)), _cache[72] || (_cache[72] = _createElementVNode(\"th\", null, \"Имя партнера\", -1)), _cache[73] || (_cache[73] = _createElementVNode(\"th\", null, \"Дата создания\", -1)), _cache[74] || (_cache[74] = _createElementVNode(\"th\", null, \"Период\", -1)), _cache[75] || (_cache[75] = _createElementVNode(\"th\", null, \"Статус\", -1)), _cache[76] || (_cache[76] = _createElementVNode(\"th\", null, \"Действия\", -1))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(filteredDocuments.value, claim => {\n        return _openBlock(), _createElementBlock(\"tr\", {\n          key: getClaimId(claim)\n        }, [_createElementVNode(\"td\", _hoisted_33, [_withDirectives(_createElementVNode(\"input\", {\n          type: \"checkbox\",\n          value: getClaimId(claim),\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => selectedClaims.value = $event)\n        }, null, 8, _hoisted_34), [[_vModelCheckbox, selectedClaims.value]])]), _createElementVNode(\"td\", _hoisted_35, _toDisplayString(claim.FileName || claim.fileName || claim.originalName || '—'), 1), _createElementVNode(\"td\", _hoisted_36, _toDisplayString(claim.Partner ?? claim.partnerId ?? claim.Inc ?? claim.inc ?? '—'), 1), _createElementVNode(\"td\", _hoisted_37, _toDisplayString(claim.PartnerName ?? claim.PartnerName ?? claim.Name ?? claim.name ?? '—'), 1), _createElementVNode(\"td\", _hoisted_38, _toDisplayString(formatDate(claim.Created || claim.created || claim.Cdate || claim.uploadedAt || claim.uploaded_at || claim.createdAt)), 1), _createElementVNode(\"td\", _hoisted_39, _toDisplayString(formatPeriod(claim.DateBeg || claim.dateBeg || claim.dateBegRaw, claim.DateEnd || claim.dateEnd || claim.dateEndRaw)), 1), _createElementVNode(\"td\", _hoisted_40, [_createElementVNode(\"span\", {\n          class: _normalizeClass(['status', claim.Status || claim.status || (claim.publishedAt || claim.PublishedAt ? 'published' : 'uploaded')])\n        }, _toDisplayString(getStatusLabel(claim.Status ?? claim.status ?? (claim.publishedAt || claim.PublishedAt ? 'published' : 'uploaded'))), 3)]), _createElementVNode(\"td\", _hoisted_41, [_createElementVNode(\"div\", _hoisted_42, [documentsFilter.value === 'unpublished' ? (_openBlock(), _createElementBlock(_Fragment, {\n          key: 0\n        }, [_createElementVNode(\"button\", {\n          onClick: $event => publishDocument(getClaimId(claim)),\n          class: \"btn btn-sm btn-primary\"\n        }, \" Опубликовать \", 8, _hoisted_43), _createElementVNode(\"button\", {\n          onClick: $event => deleteDocument(getClaimId(claim)),\n          class: \"btn btn-sm btn-outline-blue\"\n        }, \" Удалить \", 8, _hoisted_44)], 64)) : (_openBlock(), _createElementBlock(_Fragment, {\n          key: 1\n        }, [_createElementVNode(\"button\", {\n          onClick: $event => viewDocument(getClaimId(claim)),\n          class: \"btn btn-sm btn-outline-blue\"\n        }, \" Просмотр \", 8, _hoisted_45), _createElementVNode(\"button\", {\n          onClick: $event => unpublishDocument(getClaimId(claim)),\n          class: \"btn btn-sm btn-secondary\"\n        }, \" Снять публикацию \", 8, _hoisted_46), _createElementVNode(\"button\", {\n          onClick: $event => deleteDocument(getClaimId(claim)),\n          class: \"btn btn-sm btn-danger\"\n        }, \" Удалить \", 8, _hoisted_47)], 64))])])]);\n      }), 128))])])), selectedClaims.value.length > 0 && documentsFilter.value === 'unpublished' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_48, [_createElementVNode(\"span\", null, \"Выбрано: \" + _toDisplayString(selectedClaims.value.length), 1), _createElementVNode(\"button\", {\n        onClick: publishSelectedDocuments,\n        class: \"btn btn-primary\"\n      }, \" Опубликовать выбранные \"), _createElementVNode(\"button\", {\n        onClick: _cache[7] || (_cache[7] = $event => selectedClaims.value = []),\n        class: \"btn btn-outline-blue\"\n      }, \" Снять выделение \")])) : _createCommentVNode(\"\", true)])])) : _createCommentVNode(\"\", true), activeTab.value === 'partners' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_49, [_createElementVNode(\"div\", _hoisted_50, [_createElementVNode(\"div\", _hoisted_51, [_cache[78] || (_cache[78] = _createElementVNode(\"h3\", null, \"Управление партнерами\", -1)), _createElementVNode(\"div\", _hoisted_52, [_withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => partnerSearchQuery.value = $event),\n        type: \"text\",\n        placeholder: \"Поиск по имени, email, коду или логину...\",\n        class: \"search-input-header\"\n      }, null, 512), [[_vModelText, partnerSearchQuery.value]]), _createElementVNode(\"button\", {\n        onClick: _cache[9] || (_cache[9] = $event => showCreatePartnerModal.value = true),\n        class: \"btn btn-primary\"\n      }, [...(_cache[77] || (_cache[77] = [_createElementVNode(\"img\", {\n        src: _imports_2,\n        alt: \"add\",\n        width: \"18\",\n        height: \"18\",\n        class: \"icon-img-invert\"\n      }, null, -1)]))])])]), _createElementVNode(\"div\", _hoisted_53, [_createElementVNode(\"div\", _hoisted_54, [_cache[80] || (_cache[80] = _createElementVNode(\"label\", null, \"Статус:\", -1)), _withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => partnerActiveFilter.value = $event),\n        class: \"filter-select\"\n      }, [...(_cache[79] || (_cache[79] = [_createElementVNode(\"option\", {\n        value: \"all\"\n      }, \"Все\", -1), _createElementVNode(\"option\", {\n        value: \"active\"\n      }, \"Активные\", -1), _createElementVNode(\"option\", {\n        value: \"inactive\"\n      }, \"Неактивные\", -1)]))], 512), [[_vModelSelect, partnerActiveFilter.value]])]), _createElementVNode(\"div\", _hoisted_55, [_createElementVNode(\"label\", _hoisted_56, [_withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => partnerBirthdayFilter.value = $event),\n        type: \"checkbox\"\n      }, null, 512), [[_vModelCheckbox, partnerBirthdayFilter.value]]), _cache[81] || (_cache[81] = _createElementVNode(\"span\", null, \"День рождения в этом месяце\", -1))])]), _createElementVNode(\"div\", _hoisted_57, \" Показано: \" + _toDisplayString(filteredPartners.value.length) + \" из \" + _toDisplayString(partners.value.length), 1)]), loadingPartners.value ? (_openBlock(), _createBlock(AppLoader, {\n        key: 0\n      })) : (_openBlock(), _createElementBlock(\"table\", _hoisted_58, [_cache[86] || (_cache[86] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Имя\"), _createElementVNode(\"th\", null, \"Email\"), _createElementVNode(\"th\", null, \"Chat ID\"), _createElementVNode(\"th\", null, \"Логин\"), _createElementVNode(\"th\", null, \"Последний вход\"), _createElementVNode(\"th\", null, \"Создан\"), _createElementVNode(\"th\", null, \"Действия\")])], -1)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(filteredPartners.value, partner => {\n        return _openBlock(), _createElementBlock(\"tr\", {\n          key: partner.Inc\n        }, [_createElementVNode(\"td\", _hoisted_59, _toDisplayString(partner.Inc), 1), _createElementVNode(\"td\", _hoisted_60, _toDisplayString(partner.Name), 1), _createElementVNode(\"td\", _hoisted_61, _toDisplayString(partner.Email), 1), _createElementVNode(\"td\", _hoisted_62, _toDisplayString(partner.Telegram || '—'), 1), _createElementVNode(\"td\", _hoisted_63, _toDisplayString(partner.Alias), 1), _createElementVNode(\"td\", _hoisted_64, _toDisplayString(formatDateTime(partner.LastVisit) || '—'), 1), _createElementVNode(\"td\", _hoisted_65, _toDisplayString(formatDate(partner.CreatedAt)), 1), _createElementVNode(\"td\", _hoisted_66, [_createElementVNode(\"div\", _hoisted_67, [_createElementVNode(\"button\", {\n          onClick: $event => openUploadForPartner(partner),\n          class: \"btn-icon btn-upload\",\n          title: \"Загрузить файлы\"\n        }, [...(_cache[82] || (_cache[82] = [_createElementVNode(\"img\", {\n          src: _imports_3,\n          alt: \"upload\",\n          width: \"18\",\n          height: \"18\"\n        }, null, -1)]))], 8, _hoisted_68), _createElementVNode(\"button\", {\n          onClick: $event => editPartner(partner),\n          class: \"btn-icon btn-edit\",\n          title: \"Редактировать\"\n        }, [...(_cache[83] || (_cache[83] = [_createElementVNode(\"img\", {\n          src: _imports_4,\n          alt: \"edit\",\n          width: \"18\",\n          height: \"18\"\n        }, null, -1)]))], 8, _hoisted_69), _createElementVNode(\"button\", {\n          onClick: $event => viewPartnerDocuments(partner),\n          class: \"btn-icon btn-docs\",\n          title: \"Документы\"\n        }, [...(_cache[84] || (_cache[84] = [_createElementVNode(\"img\", {\n          src: _imports_1,\n          alt: \"docs\",\n          width: \"18\",\n          height: \"18\"\n        }, null, -1)]))], 8, _hoisted_70), _createElementVNode(\"button\", {\n          onClick: $event => deletePartner(partner),\n          class: \"btn-icon btn-delete\",\n          title: \"Удалить\"\n        }, [...(_cache[85] || (_cache[85] = [_createElementVNode(\"img\", {\n          src: _imports_5,\n          alt: \"delete\",\n          width: \"18\",\n          height: \"18\"\n        }, null, -1)]))], 8, _hoisted_71)])])]);\n      }), 128))])]))])])) : _createCommentVNode(\"\", true), activeTab.value === 'upload' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_72, [_createElementVNode(\"div\", _hoisted_73, [_createElementVNode(\"div\", {\n        class: _normalizeClass([\"upload-area\", {\n          dragover: isAutoUploadDragover.value\n        }]),\n        onDrop: _withModifiers(handleAutoUploadDrop, [\"prevent\"]),\n        onDragover: _cache[12] || (_cache[12] = _withModifiers($event => isAutoUploadDragover.value = true, [\"prevent\"])),\n        onDragleave: _cache[13] || (_cache[13] = $event => isAutoUploadDragover.value = false),\n        onClick: _cache[14] || (_cache[14] = $event => _ctx.$refs.autoUploadInput.click())\n      }, [_cache[87] || (_cache[87] = _createElementVNode(\"div\", {\n        class: \"upload-content\"\n      }, [_createElementVNode(\"img\", {\n        src: _imports_3,\n        alt: \"upload\",\n        width: \"48\",\n        height: \"48\"\n      }), _createElementVNode(\"p\", null, \"Перетащите файлы сюда или нажмите для выбора\"), _createElementVNode(\"span\", {\n        class: \"upload-hint\"\n      }, \"Можно загружать несколько файлов одновременно\")], -1)), _createElementVNode(\"input\", {\n        type: \"file\",\n        ref: \"autoUploadInput\",\n        onChange: handleAutoUploadFileSelect,\n        accept: \".xlsx,.xls\",\n        multiple: \"\",\n        style: {\n          \"display\": \"none\"\n        }\n      }, null, 544)], 34), autoUploadFiles.value.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_74, [_createElementVNode(\"h4\", null, \"Выбранные файлы (\" + _toDisplayString(autoUploadFiles.value.length) + \")\", 1), _createElementVNode(\"div\", _hoisted_75, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(autoUploadFiles.value, (file, index) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: index,\n          class: \"file-item\"\n        }, [_cache[89] || (_cache[89] = _createElementVNode(\"img\", {\n          src: _imports_1,\n          alt: \"file\",\n          width: \"24\",\n          height: \"24\"\n        }, null, -1)), _createElementVNode(\"div\", _hoisted_76, [_createElementVNode(\"span\", _hoisted_77, _toDisplayString(file.name), 1), _createElementVNode(\"span\", _hoisted_78, _toDisplayString(formatFileSize(file.size)), 1)]), _createElementVNode(\"button\", {\n          onClick: $event => removeAutoUploadFile(index),\n          class: \"btn-icon btn-delete\"\n        }, [...(_cache[88] || (_cache[88] = [_createElementVNode(\"img\", {\n          src: _imports_5,\n          alt: \"delete\",\n          width: \"18\",\n          height: \"18\"\n        }, null, -1)]))], 8, _hoisted_79)]);\n      }), 128))]), _createElementVNode(\"div\", _hoisted_80, [_createElementVNode(\"button\", {\n        onClick: _cache[15] || (_cache[15] = $event => autoUploadFiles.value = []),\n        class: \"btn btn-secondary\"\n      }, \" Очистить \"), _createElementVNode(\"button\", {\n        onClick: uploadAutoFiles,\n        disabled: autoUploading.value,\n        class: \"btn btn-primary\"\n      }, [autoUploading.value ? (_openBlock(), _createElementBlock(\"i\", _hoisted_82)) : _createCommentVNode(\"\", true), _createTextVNode(\" \" + _toDisplayString(autoUploading.value ? 'Загрузка...' : 'Загрузить файлы'), 1)], 8, _hoisted_81)])])) : _createCommentVNode(\"\", true), autoUploadResults.value.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_83, [_cache[90] || (_cache[90] = _createElementVNode(\"h4\", null, \"Результаты загрузки\", -1)), _createElementVNode(\"div\", _hoisted_84, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(autoUploadResults.value, (result, index) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: index,\n          class: _normalizeClass(['result-item', result.success ? 'success' : 'error'])\n        }, [_createElementVNode(\"div\", _hoisted_85, _toDisplayString(result.success ? '✅' : '❌'), 1), _createElementVNode(\"div\", _hoisted_86, [_createElementVNode(\"span\", _hoisted_87, _toDisplayString(result.fileName), 1), _createElementVNode(\"span\", _hoisted_88, _toDisplayString(result.message), 1), result.partnerName ? (_openBlock(), _createElementBlock(\"span\", _hoisted_89, \"Партнёр: \" + _toDisplayString(result.partnerName), 1)) : _createCommentVNode(\"\", true)])], 2);\n      }), 128))])])) : _createCommentVNode(\"\", true)])])) : _createCommentVNode(\"\", true), activeTab.value === 'admins' && isSuperAdmin.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_90, [_createElementVNode(\"div\", _hoisted_91, [_createElementVNode(\"div\", _hoisted_92, [_cache[92] || (_cache[92] = _createElementVNode(\"h3\", null, \"Управление администраторами\", -1)), _createElementVNode(\"button\", {\n        onClick: _cache[16] || (_cache[16] = $event => showCreateAdminModal.value = true),\n        class: \"btn btn-primary\"\n      }, [...(_cache[91] || (_cache[91] = [_createElementVNode(\"img\", {\n        src: _imports_2,\n        alt: \"add\",\n        width: \"18\",\n        height: \"18\",\n        class: \"icon-img-invert\"\n      }, null, -1), _createTextVNode(\" Добавить администратора \", -1)]))])]), loadingAdmins.value ? (_openBlock(), _createBlock(AppLoader, {\n        key: 0\n      })) : admins.value.length > 0 ? (_openBlock(), _createElementBlock(\"table\", _hoisted_93, [_cache[95] || (_cache[95] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Логин\"), _createElementVNode(\"th\", null, \"Email\"), _createElementVNode(\"th\", null, \"Роль\"), _createElementVNode(\"th\", null, \"Последний вход\"), _createElementVNode(\"th\", null, \"Создан\"), _createElementVNode(\"th\", null, \"Действия\")])], -1)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(admins.value, admin => {\n        return _openBlock(), _createElementBlock(\"tr\", {\n          key: admin.inc\n        }, [_createElementVNode(\"td\", _hoisted_94, _toDisplayString(admin.inc), 1), _createElementVNode(\"td\", _hoisted_95, _toDisplayString(admin.username), 1), _createElementVNode(\"td\", _hoisted_96, _toDisplayString(admin.email), 1), _createElementVNode(\"td\", _hoisted_97, [_createElementVNode(\"span\", {\n          class: _normalizeClass(['badge', admin.role === 'superadmin' ? 'badge-superadmin' : 'badge-admin'])\n        }, _toDisplayString(admin.role === 'superadmin' ? 'Суперадмин' : 'Администратор'), 3)]), _createElementVNode(\"td\", _hoisted_98, _toDisplayString(formatDateTime(admin.lastLogin) || '—'), 1), _createElementVNode(\"td\", _hoisted_99, _toDisplayString(formatDate(admin.createdAt)), 1), _createElementVNode(\"td\", _hoisted_100, [_createElementVNode(\"div\", _hoisted_101, [_createElementVNode(\"button\", {\n          onClick: $event => openEditAdminModal(admin),\n          class: \"btn-icon\",\n          title: \"Редактировать\"\n        }, [...(_cache[93] || (_cache[93] = [_createElementVNode(\"img\", {\n          src: _imports_4,\n          alt: \"edit\",\n          width: \"18\",\n          height: \"18\"\n        }, null, -1)]))], 8, _hoisted_102), admin.role !== 'superadmin' && admin.inc !== _unref(authStore).user?.id ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 0,\n          onClick: $event => confirmDeleteAdmin(admin),\n          class: \"btn-icon btn-delete\",\n          title: \"Удалить\"\n        }, [...(_cache[94] || (_cache[94] = [_createElementVNode(\"img\", {\n          src: _imports_5,\n          alt: \"delete\",\n          width: \"18\",\n          height: \"18\"\n        }, null, -1)]))], 8, _hoisted_103)) : _createCommentVNode(\"\", true)])])]);\n      }), 128))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_104, [...(_cache[96] || (_cache[96] = [_createElementVNode(\"p\", null, \"Администраторы не найдены\", -1)]))]))])])) : _createCommentVNode(\"\", true), activeTab.value === 'audit' && isSuperAdmin.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_105, [_createElementVNode(\"div\", _hoisted_106, [_createElementVNode(\"div\", {\n        class: \"section-header\"\n      }, [_cache[98] || (_cache[98] = _createElementVNode(\"h3\", null, \"Журнал событий\", -1)), _createElementVNode(\"button\", {\n        onClick: refreshAuditLogs,\n        class: \"btn btn-secondary\"\n      }, [...(_cache[97] || (_cache[97] = [_createElementVNode(\"img\", {\n        src: _imports_0,\n        alt: \"refresh\",\n        width: \"18\",\n        height: \"18\",\n        class: \"icon-img-invert\"\n      }, null, -1), _createTextVNode(\" Обновить \", -1)]))])]), _createElementVNode(\"div\", _hoisted_107, [_createElementVNode(\"div\", _hoisted_108, [_cache[99] || (_cache[99] = _createElementVNode(\"label\", null, \"Поиск:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[17] || (_cache[17] = $event => auditSearchQuery.value = $event),\n        type: \"text\",\n        placeholder: \"Администратор, действие, сущность...\",\n        class: \"filter-input\"\n      }, null, 512), [[_vModelText, auditSearchQuery.value]])]), _createElementVNode(\"div\", _hoisted_109, [_cache[101] || (_cache[101] = _createElementVNode(\"label\", null, \"Администратор:\", -1)), _withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[18] || (_cache[18] = $event => auditAdminFilter.value = $event),\n        class: \"filter-select\"\n      }, [_cache[100] || (_cache[100] = _createElementVNode(\"option\", {\n        value: \"\"\n      }, \"Все администраторы\", -1)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(admins.value, admin => {\n        return _openBlock(), _createElementBlock(\"option\", {\n          key: admin.inc,\n          value: admin.inc\n        }, _toDisplayString(admin.username), 9, _hoisted_110);\n      }), 128))], 512), [[_vModelSelect, auditAdminFilter.value]])]), _createElementVNode(\"div\", _hoisted_111, [_cache[103] || (_cache[103] = _createElementVNode(\"label\", null, \"Тип:\", -1)), _withDirectives(_createElementVNode(\"select\", {\n        \"onUpdate:modelValue\": _cache[19] || (_cache[19] = $event => auditEntityTypeFilter.value = $event),\n        class: \"filter-select\"\n      }, [...(_cache[102] || (_cache[102] = [_createStaticVNode(\"<option value=\\\"\\\" data-v-3d06b8e8>Все типы</option><option value=\\\"partner\\\" data-v-3d06b8e8>Партнёр</option><option value=\\\"document\\\" data-v-3d06b8e8>Документ</option><option value=\\\"claim\\\" data-v-3d06b8e8>Претензия</option><option value=\\\"admin\\\" data-v-3d06b8e8>Администратор</option>\", 5)]))], 512), [[_vModelSelect, auditEntityTypeFilter.value]])]), _createElementVNode(\"div\", _hoisted_112, [_cache[104] || (_cache[104] = _createElementVNode(\"label\", null, \"Дата от:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[20] || (_cache[20] = $event => auditDateFrom.value = $event),\n        type: \"date\",\n        class: \"filter-input\"\n      }, null, 512), [[_vModelText, auditDateFrom.value]])]), _createElementVNode(\"div\", _hoisted_113, [_cache[105] || (_cache[105] = _createElementVNode(\"label\", null, \"Дата до:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[21] || (_cache[21] = $event => auditDateTo.value = $event),\n        type: \"date\",\n        class: \"filter-input\"\n      }, null, 512), [[_vModelText, auditDateTo.value]])]), _createElementVNode(\"button\", {\n        onClick: clearAuditFilters,\n        class: \"btn btn-secondary\"\n      }, \" Сбросить фильтры \")]), filteredAuditLogs.value.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_114, \" Показано: \" + _toDisplayString(filteredAuditLogs.value.length) + \" из \" + _toDisplayString(auditLogs.value.length), 1)) : _createCommentVNode(\"\", true), loadingAuditLogs.value ? (_openBlock(), _createBlock(AppLoader, {\n        key: 1\n      })) : filteredAuditLogs.value.length > 0 ? (_openBlock(), _createElementBlock(\"table\", _hoisted_115, [_cache[106] || (_cache[106] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Дата/Время\"), _createElementVNode(\"th\", null, \"Администратор\"), _createElementVNode(\"th\", null, \"Действие\"), _createElementVNode(\"th\", null, \"Детали\")])], -1)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(filteredAuditLogs.value, log => {\n        return _openBlock(), _createElementBlock(\"tr\", {\n          key: log.id\n        }, [_createElementVNode(\"td\", _hoisted_116, _toDisplayString(formatDateTime(log.timestamp)), 1), _createElementVNode(\"td\", _hoisted_117, [_createElementVNode(\"span\", _hoisted_118, _toDisplayString(getAdminName(log)), 1)]), _createElementVNode(\"td\", _hoisted_119, [_createElementVNode(\"span\", {\n          class: _normalizeClass(['action-badge', getActionBadgeClass(log.action)])\n        }, _toDisplayString(formatAction(log.action)), 3)]), _createElementVNode(\"td\", _hoisted_120, [log.details ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 0,\n          onClick: $event => showAuditDetails(log),\n          class: \"btn-details\"\n        }, \" Подробнее \", 8, _hoisted_121)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_122, \"—\"))])]);\n      }), 128))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_123, [...(_cache[107] || (_cache[107] = [_createElementVNode(\"p\", null, \"События не найдены\", -1)]))]))])])) : _createCommentVNode(\"\", true)]), showCreateAdminModal.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_124, [_createElementVNode(\"div\", _hoisted_125, [_createElementVNode(\"div\", _hoisted_126, [_cache[108] || (_cache[108] = _createElementVNode(\"h3\", null, \"Создать администратора\", -1)), _createElementVNode(\"button\", {\n        onClick: _cache[22] || (_cache[22] = $event => showCreateAdminModal.value = false),\n        class: \"close-btn\"\n      }, \"×\")]), _createElementVNode(\"form\", {\n        onSubmit: _withModifiers(createAdmin, [\"prevent\"]),\n        class: \"modal-body\"\n      }, [_createElementVNode(\"div\", _hoisted_127, [_cache[109] || (_cache[109] = _createElementVNode(\"label\", null, \"Логин *\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[23] || (_cache[23] = $event => newAdmin.value.username = $event),\n        type: \"text\",\n        required: \"\"\n      }, null, 512), [[_vModelText, newAdmin.value.username]])]), _createElementVNode(\"div\", _hoisted_128, [_cache[110] || (_cache[110] = _createElementVNode(\"label\", null, \"Email *\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[24] || (_cache[24] = $event => newAdmin.value.email = $event),\n        type: \"email\",\n        required: \"\"\n      }, null, 512), [[_vModelText, newAdmin.value.email]])]), _createElementVNode(\"div\", _hoisted_129, [_cache[111] || (_cache[111] = _createElementVNode(\"label\", null, \"Пароль *\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[25] || (_cache[25] = $event => newAdmin.value.password = $event),\n        type: \"password\",\n        required: \"\",\n        minlength: \"6\"\n      }, null, 512), [[_vModelText, newAdmin.value.password]]), _cache[112] || (_cache[112] = _createElementVNode(\"small\", null, \"Минимум 6 символов\", -1))])], 32), _createElementVNode(\"div\", _hoisted_130, [_createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[26] || (_cache[26] = $event => showCreateAdminModal.value = false),\n        class: \"btn btn-secondary\"\n      }, \" Отмена \"), _createElementVNode(\"button\", {\n        type: \"submit\",\n        onClick: createAdmin,\n        class: \"btn btn-primary\",\n        disabled: creatingAdmin.value\n      }, _toDisplayString(creatingAdmin.value ? 'Создание...' : 'Создать'), 9, _hoisted_131)])])])) : _createCommentVNode(\"\", true), showEditAdminModal.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_132, [_createElementVNode(\"div\", _hoisted_133, [_createElementVNode(\"div\", _hoisted_134, [_cache[113] || (_cache[113] = _createElementVNode(\"h3\", null, \"Редактировать администратора\", -1)), _createElementVNode(\"button\", {\n        onClick: _cache[27] || (_cache[27] = $event => showEditAdminModal.value = false),\n        class: \"close-btn\"\n      }, \"×\")]), _createElementVNode(\"div\", _hoisted_135, [_createElementVNode(\"div\", _hoisted_136, [_cache[114] || (_cache[114] = _createElementVNode(\"label\", null, \"Логин\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[28] || (_cache[28] = $event => editAdminData.value.username = $event),\n        type: \"text\",\n        class: \"form-input\",\n        placeholder: \"Логин\",\n        required: \"\"\n      }, null, 512), [[_vModelText, editAdminData.value.username]])]), _createElementVNode(\"div\", _hoisted_137, [_cache[115] || (_cache[115] = _createElementVNode(\"label\", null, \"Email\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[29] || (_cache[29] = $event => editAdminData.value.email = $event),\n        type: \"email\",\n        class: \"form-input\",\n        placeholder: \"Email\",\n        required: \"\"\n      }, null, 512), [[_vModelText, editAdminData.value.email]])]), _createElementVNode(\"div\", _hoisted_138, [_cache[116] || (_cache[116] = _createElementVNode(\"label\", null, \"Новый пароль\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[30] || (_cache[30] = $event => editAdminData.value.password = $event),\n        type: \"password\",\n        class: \"form-input\",\n        placeholder: \"Оставьте пустым, если не хотите менять\",\n        minlength: \"6\"\n      }, null, 512), [[_vModelText, editAdminData.value.password]]), _cache[117] || (_cache[117] = _createElementVNode(\"small\", {\n        style: {\n          \"color\": \"#6b7280\",\n          \"font-size\": \"12px\"\n        }\n      }, \"Минимум 6 символов. Оставьте пустым, чтобы не менять пароль.\", -1))])]), _createElementVNode(\"div\", _hoisted_139, [_createElementVNode(\"button\", {\n        onClick: _cache[31] || (_cache[31] = $event => showEditAdminModal.value = false),\n        class: \"btn btn-outline-blue\",\n        disabled: editingAdmin.value\n      }, \"Отмена\", 8, _hoisted_140), _createElementVNode(\"button\", {\n        onClick: updateAdmin,\n        class: \"btn btn-primary\",\n        disabled: editingAdmin.value\n      }, [editingAdmin.value ? (_openBlock(), _createElementBlock(\"i\", _hoisted_142)) : _createCommentVNode(\"\", true), _cache[118] || (_cache[118] = _createTextVNode(\" Сохранить \", -1))], 8, _hoisted_141)])])])) : _createCommentVNode(\"\", true), showCreatePartnerModal.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_143, [_createElementVNode(\"div\", _hoisted_144, [_createElementVNode(\"div\", _hoisted_145, [_cache[119] || (_cache[119] = _createElementVNode(\"h3\", null, \"Добавить партнера\", -1)), _createElementVNode(\"button\", {\n        onClick: _cache[32] || (_cache[32] = $event => showCreatePartnerModal.value = false),\n        class: \"close-btn\"\n      }, \"×\")]), _createElementVNode(\"form\", {\n        onSubmit: _withModifiers(createPartner, [\"prevent\"]),\n        class: \"modal-body\"\n      }, [creatingPartner.value ? (_openBlock(), _createBlock(AppLoader, {\n        key: 0\n      })) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_146, [_cache[120] || (_cache[120] = _createElementVNode(\"label\", null, \"Имя партнера *\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[33] || (_cache[33] = $event => newPartner.value.name = $event),\n        type: \"text\",\n        required: \"\"\n      }, null, 512), [[_vModelText, newPartner.value.name]])]), _createElementVNode(\"div\", _hoisted_147, [_cache[121] || (_cache[121] = _createElementVNode(\"label\", null, \"Email *\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[34] || (_cache[34] = $event => newPartner.value.email = $event),\n        type: \"email\",\n        required: \"\"\n      }, null, 512), [[_vModelText, newPartner.value.email]])]), _createElementVNode(\"div\", _hoisted_148, [_cache[122] || (_cache[122] = _createElementVNode(\"label\", null, \"Telegram Chat ID (опционально)\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[35] || (_cache[35] = $event => newPartner.value.telegram = $event),\n        type: \"text\",\n        placeholder: \"Например: 123456789\"\n      }, null, 512), [[_vModelText, newPartner.value.telegram]]), _cache[123] || (_cache[123] = _createElementVNode(\"small\", {\n        style: {\n          \"color\": \"#64748b\",\n          \"margin-top\": \"5px\",\n          \"display\": \"block\"\n        }\n      }, \" 💡 Партнер должен отправить /start боту и сообщить вам свой Chat ID \", -1))]), _createElementVNode(\"div\", _hoisted_149, [_cache[124] || (_cache[124] = _createElementVNode(\"label\", null, \"Логин *\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[36] || (_cache[36] = $event => newPartner.value.alias = $event),\n        type: \"text\",\n        required: \"\",\n        placeholder: \"Уникальный логин для входа\"\n      }, null, 512), [[_vModelText, newPartner.value.alias]])]), _createElementVNode(\"div\", _hoisted_150, [_cache[125] || (_cache[125] = _createElementVNode(\"label\", null, \"Пароль *\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[37] || (_cache[37] = $event => newPartner.value.password = $event),\n        type: \"password\",\n        required: \"\",\n        placeholder: \"Пароль для входа\"\n      }, null, 512), [[_vModelText, newPartner.value.password]])]), _createElementVNode(\"div\", _hoisted_151, [_cache[126] || (_cache[126] = _createElementVNode(\"label\", null, \"Дата рождения (опционально)\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[38] || (_cache[38] = $event => newPartner.value.birthDate = $event),\n        type: \"date\"\n      }, null, 512), [[_vModelText, newPartner.value.birthDate]])]), _createElementVNode(\"div\", _hoisted_152, [_withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[39] || (_cache[39] = $event => newPartner.value.active = $event),\n        type: \"checkbox\",\n        id: \"newPartnerActive\"\n      }, null, 512), [[_vModelCheckbox, newPartner.value.active]]), _cache[127] || (_cache[127] = _createElementVNode(\"label\", {\n        for: \"newPartnerActive\",\n        style: {\n          \"margin\": \"0\",\n          \"cursor\": \"pointer\"\n        }\n      }, \"Активный\", -1))])], 32), _createElementVNode(\"div\", _hoisted_153, [_createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[40] || (_cache[40] = $event => showCreatePartnerModal.value = false),\n        class: \"btn btn-secondary\"\n      }, \" Отмена \"), _createElementVNode(\"button\", {\n        onClick: createPartner,\n        disabled: creatingPartner.value,\n        class: \"btn btn-primary\"\n      }, [creatingPartner.value ? (_openBlock(), _createElementBlock(\"i\", _hoisted_155)) : _createCommentVNode(\"\", true), _createTextVNode(\" \" + _toDisplayString(creatingPartner.value ? 'Создание...' : 'Создать'), 1)], 8, _hoisted_154)])])])) : _createCommentVNode(\"\", true), showUploadModal.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_156, [_createElementVNode(\"div\", _hoisted_157, [_createElementVNode(\"div\", _hoisted_158, [_createElementVNode(\"h3\", null, \"Загрузка файлов для \" + _toDisplayString(currentUploadPartnerName.value), 1), _createElementVNode(\"button\", {\n        onClick: closeUploadModal,\n        class: \"close-btn\"\n      }, \"×\")]), _createElementVNode(\"div\", _hoisted_159, [!uploading.value ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        class: _normalizeClass([\"upload-area\", {\n          dragover: isDragover.value\n        }]),\n        onDragover: _cache[42] || (_cache[42] = _withModifiers($event => isDragover.value = true, [\"prevent\"])),\n        onDragleave: _cache[43] || (_cache[43] = _withModifiers($event => isDragover.value = false, [\"prevent\"])),\n        onDrop: _withModifiers(handleDrop, [\"prevent\"])\n      }, [_createElementVNode(\"input\", {\n        ref: \"partnerFileInput\",\n        type: \"file\",\n        multiple: \"\",\n        accept: \".xlsx,.xls\",\n        onChange: handleFileSelect,\n        style: {\n          \"display\": \"none\"\n        }\n      }, null, 544), _createElementVNode(\"div\", _hoisted_160, [_cache[129] || (_cache[129] = _createElementVNode(\"div\", {\n        class: \"upload-icon\"\n      }, [_createElementVNode(\"i\", {\n        class: \"fas fa-cloud-upload-alt\"\n      })], -1)), _createElementVNode(\"p\", null, [_cache[128] || (_cache[128] = _createTextVNode(\"Перетащите Excel файлы сюда или \", -1)), _createElementVNode(\"button\", {\n        onClick: _cache[41] || (_cache[41] = $event => _ctx.$refs.partnerFileInput.click()),\n        class: \"link-btn\"\n      }, \"выберите файлы\")]), _cache[130] || (_cache[130] = _createElementVNode(\"p\", {\n        class: \"upload-hint\"\n      }, \"Поддерживаются файлы: .xlsx, .xls (максимум 50 файлов)\", -1))])], 34)) : _createCommentVNode(\"\", true), selectedFiles.value.length > 0 && !uploading.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_161, [_createElementVNode(\"h4\", null, \"Выбранные файлы (\" + _toDisplayString(selectedFiles.value.length) + \")\", 1), _createElementVNode(\"div\", _hoisted_162, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(selectedFiles.value, (file, index) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: index,\n          class: \"file-item\"\n        }, [_createElementVNode(\"div\", _hoisted_163, [_createElementVNode(\"div\", _hoisted_164, _toDisplayString(file.name), 1), _createElementVNode(\"div\", _hoisted_165, _toDisplayString(formatFileSize(file.size)), 1)]), _createElementVNode(\"button\", {\n          onClick: $event => removeFile(index),\n          class: \"remove-btn\"\n        }, [...(_cache[131] || (_cache[131] = [_createElementVNode(\"i\", {\n          class: \"fas fa-times\"\n        }, null, -1)]))], 8, _hoisted_166)]);\n      }), 128))])])) : _createCommentVNode(\"\", true), uploadResults.value.length > 0 && !uploading.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_167, [_cache[134] || (_cache[134] = _createElementVNode(\"h4\", null, \"Результаты загрузки\", -1)), _createElementVNode(\"div\", _hoisted_168, [_createElementVNode(\"span\", _hoisted_169, [_cache[132] || (_cache[132] = _createElementVNode(\"i\", {\n        class: \"fas fa-check-circle\"\n      }, null, -1)), _createTextVNode(\" Успешно: \" + _toDisplayString(uploadResults.value.filter(r => r.success).length), 1)]), _createElementVNode(\"span\", _hoisted_170, [_cache[133] || (_cache[133] = _createElementVNode(\"i\", {\n        class: \"fas fa-times-circle\"\n      }, null, -1)), _createTextVNode(\" Ошибки: \" + _toDisplayString(uploadResults.value.filter(r => !r.success).length), 1)])]), _createElementVNode(\"div\", _hoisted_171, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(uploadResults.value, result => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: result.fileName,\n          class: _normalizeClass([\"result-item\", {\n            error: !result.success\n          }])\n        }, [_createElementVNode(\"div\", _hoisted_172, _toDisplayString(result.fileName), 1), _createElementVNode(\"div\", _hoisted_173, _toDisplayString(result.success ? 'Успешно загружен' : result.error), 1)], 2);\n      }), 128))])])) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_174, [_createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: closeUploadModal,\n        class: \"btn btn-secondary\"\n      }, \" Отмена \"), !uploading.value ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        onClick: uploadFilesForPartner,\n        disabled: selectedFiles.value.length === 0,\n        class: \"btn btn-primary\"\n      }, [...(_cache[135] || (_cache[135] = [_createElementVNode(\"i\", {\n        class: \"fas fa-upload\"\n      }, null, -1), _createTextVNode(\" Загрузить файлы \", -1)]))], 8, _hoisted_175)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_176, [_createVNode(AppLoader), _cache[136] || (_cache[136] = _createElementVNode(\"span\", null, \"Загрузка файлов...\", -1))]))])])])) : _createCommentVNode(\"\", true), showEditPartnerModal.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_177, [_createElementVNode(\"div\", _hoisted_178, [_createElementVNode(\"div\", _hoisted_179, [_cache[137] || (_cache[137] = _createElementVNode(\"h3\", null, \"Редактировать партнера\", -1)), _createElementVNode(\"button\", {\n        onClick: _cache[44] || (_cache[44] = $event => showEditPartnerModal.value = false),\n        class: \"close-btn\"\n      }, \"×\")]), _createElementVNode(\"form\", {\n        onSubmit: _withModifiers(updatePartner, [\"prevent\"]),\n        class: \"modal-body\"\n      }, [editingPartner.value ? (_openBlock(), _createBlock(AppLoader, {\n        key: 0\n      })) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_180, [_cache[138] || (_cache[138] = _createElementVNode(\"label\", null, \"Имя партнера *\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[45] || (_cache[45] = $event => partnerToEdit.value.name = $event),\n        type: \"text\",\n        required: \"\"\n      }, null, 512), [[_vModelText, partnerToEdit.value.name]])]), _createElementVNode(\"div\", _hoisted_181, [_cache[139] || (_cache[139] = _createElementVNode(\"label\", null, \"Email *\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[46] || (_cache[46] = $event => partnerToEdit.value.email = $event),\n        type: \"email\",\n        required: \"\"\n      }, null, 512), [[_vModelText, partnerToEdit.value.email]])]), _createElementVNode(\"div\", _hoisted_182, [_cache[140] || (_cache[140] = _createElementVNode(\"label\", null, \"Telegram Chat ID (опционально)\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[47] || (_cache[47] = $event => partnerToEdit.value.telegram = $event),\n        type: \"text\",\n        placeholder: \"Например: 123456789\"\n      }, null, 512), [[_vModelText, partnerToEdit.value.telegram]]), _cache[141] || (_cache[141] = _createElementVNode(\"small\", {\n        style: {\n          \"color\": \"#64748b\",\n          \"margin-top\": \"5px\",\n          \"display\": \"block\"\n        }\n      }, \" 💡 Партнер должен отправить /start боту и сообщить вам свой Chat ID \", -1))]), _createElementVNode(\"div\", _hoisted_183, [_cache[142] || (_cache[142] = _createElementVNode(\"label\", null, \"Логин\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[48] || (_cache[48] = $event => partnerToEdit.value.alias = $event),\n        type: \"text\",\n        required: \"\"\n      }, null, 512), [[_vModelText, partnerToEdit.value.alias]])]), _createElementVNode(\"div\", _hoisted_184, [_cache[143] || (_cache[143] = _createElementVNode(\"label\", null, \"Новый пароль (опционально)\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[49] || (_cache[49] = $event => partnerToEdit.value.newPassword = $event),\n        type: \"password\",\n        placeholder: \"Оставьте пустым, чтобы не менять\"\n      }, null, 512), [[_vModelText, partnerToEdit.value.newPassword]])]), _createElementVNode(\"div\", _hoisted_185, [_cache[144] || (_cache[144] = _createElementVNode(\"label\", null, \"Дата рождения (опционально)\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[50] || (_cache[50] = $event => partnerToEdit.value.birthDate = $event),\n        type: \"date\"\n      }, null, 512), [[_vModelText, partnerToEdit.value.birthDate]])]), _createElementVNode(\"div\", _hoisted_186, [_withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[51] || (_cache[51] = $event => partnerToEdit.value.active = $event),\n        type: \"checkbox\",\n        id: \"editPartnerActive\"\n      }, null, 512), [[_vModelCheckbox, partnerToEdit.value.active]]), _cache[145] || (_cache[145] = _createElementVNode(\"label\", {\n        for: \"editPartnerActive\",\n        style: {\n          \"margin\": \"0\",\n          \"cursor\": \"pointer\"\n        }\n      }, \"Активный\", -1))])], 32), _createElementVNode(\"div\", _hoisted_187, [_createElementVNode(\"button\", {\n        type: \"button\",\n        onClick: _cache[52] || (_cache[52] = $event => showEditPartnerModal.value = false),\n        class: \"btn btn-secondary\"\n      }, \" Отмена \"), _createElementVNode(\"button\", {\n        onClick: updatePartner,\n        disabled: editingPartner.value,\n        class: \"btn btn-primary\"\n      }, [editingPartner.value ? (_openBlock(), _createElementBlock(\"i\", _hoisted_189)) : _createCommentVNode(\"\", true), _createTextVNode(\" \" + _toDisplayString(editingPartner.value ? 'Сохранение...' : 'Сохранить'), 1)], 8, _hoisted_188)])])])) : _createCommentVNode(\"\", true), showPartnerDocumentsModal.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_190, [_createElementVNode(\"div\", _hoisted_191, [_createElementVNode(\"div\", _hoisted_192, [_createElementVNode(\"h3\", null, \"Документы партнера: \" + _toDisplayString(partnerToEdit.value?.name), 1), _createElementVNode(\"button\", {\n        onClick: _cache[53] || (_cache[53] = $event => showPartnerDocumentsModal.value = false),\n        class: \"close-btn\"\n      }, \"×\")]), _createElementVNode(\"div\", _hoisted_193, [loadingPartnerDocuments.value ? (_openBlock(), _createBlock(AppLoader, {\n        key: 0\n      })) : partnerDocuments.value.length > 0 ? (_openBlock(), _createElementBlock(\"table\", _hoisted_194, [_cache[146] || (_cache[146] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"Дата\"), _createElementVNode(\"th\", null, \"Файл\"), _createElementVNode(\"th\", null, \"Размер\"), _createElementVNode(\"th\", null, \"Статус\"), _createElementVNode(\"th\", null, \"Действия\")])], -1)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(partnerDocuments.value, doc => {\n        return _openBlock(), _createElementBlock(\"tr\", {\n          key: doc.inc || doc.claimId || doc.DocumentId || doc.DocumentId\n        }, [_createElementVNode(\"td\", null, _toDisplayString(doc.inc ?? doc.claimId ?? doc.ClaimId ?? doc.DocumentId ?? '—'), 1), _createElementVNode(\"td\", null, _toDisplayString(formatDate(getDocDate(doc))), 1), _createElementVNode(\"td\", null, _toDisplayString(doc.filename || doc.FileName || doc.fileName || doc.originalName || '—'), 1), _createElementVNode(\"td\", null, _toDisplayString(formatFileSize(doc.size || doc.FileSize || doc.fileSize)), 1), _createElementVNode(\"td\", null, _toDisplayString(isPublished(doc) ? 'Опубликован' : 'Не опубликован'), 1), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_195, [!isPublished(doc) ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 0,\n          onClick: $event => publishPartnerDocument(doc),\n          class: \"btn btn-sm btn-primary\"\n        }, \"Опубликовать\", 8, _hoisted_196)) : _createCommentVNode(\"\", true), _createElementVNode(\"button\", {\n          onClick: $event => confirmDeletePartnerDocument(doc),\n          class: \"btn btn-sm btn-danger\"\n        }, \"Удалить\", 8, _hoisted_197)])])]);\n      }), 128))])])) : !loadingPartnerDocuments.value ? (_openBlock(), _createElementBlock(\"p\", _hoisted_198, \"Документы не найдены\")) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_199, [_createElementVNode(\"button\", {\n        onClick: _cache[54] || (_cache[54] = $event => showPartnerDocumentsModal.value = false),\n        class: \"btn btn-secondary\"\n      }, \" Закрыть \")])])])) : _createCommentVNode(\"\", true), _createVNode(ExcelViewer, {\n        show: showViewDocumentModal.value,\n        document: currentDocument.value,\n        excelData: excelData.value,\n        loading: loadingCurrentDocument.value,\n        onClose: _cache[55] || (_cache[55] = $event => showViewDocumentModal.value = false),\n        onDownload: _cache[56] || (_cache[56] = $event => downloadDocument(currentDocument.value.inc || currentDocument.value.Inc))\n      }, null, 8, [\"show\", \"document\", \"excelData\", \"loading\"]), showConfirmModal.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_200, [_createElementVNode(\"div\", _hoisted_201, [_createElementVNode(\"div\", _hoisted_202, [_createElementVNode(\"h3\", null, _toDisplayString(confirmTitle.value), 1), _createElementVNode(\"button\", {\n        onClick: handleConfirmNo,\n        class: \"close-btn\"\n      }, \"×\")]), _createElementVNode(\"div\", _hoisted_203, [_createElementVNode(\"p\", _hoisted_204, _toDisplayString(confirmMessage.value), 1)]), _createElementVNode(\"div\", _hoisted_205, [_createElementVNode(\"button\", {\n        onClick: handleConfirmNo,\n        class: \"btn btn-outline-blue\",\n        disabled: confirmLoading.value\n      }, _toDisplayString(confirmCancelText.value), 9, _hoisted_206), _createElementVNode(\"button\", {\n        onClick: handleConfirmYes,\n        class: \"btn btn-primary\",\n        disabled: confirmLoading.value\n      }, [confirmLoading.value ? (_openBlock(), _createElementBlock(\"i\", _hoisted_208)) : _createCommentVNode(\"\", true), _createTextVNode(\" \" + _toDisplayString(confirmOkText.value), 1)], 8, _hoisted_207)])])])) : _createCommentVNode(\"\", true), showAuditDetailsModal.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_209, [_createElementVNode(\"div\", _hoisted_210, [_createElementVNode(\"div\", _hoisted_211, [_cache[147] || (_cache[147] = _createElementVNode(\"h3\", null, \"Детали события\", -1)), _createElementVNode(\"button\", {\n        onClick: _cache[57] || (_cache[57] = $event => showAuditDetailsModal.value = false),\n        class: \"close-btn\"\n      }, \"×\")]), selectedAuditLog.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_212, [_createElementVNode(\"div\", _hoisted_213, [_createElementVNode(\"div\", _hoisted_214, [_cache[148] || (_cache[148] = _createElementVNode(\"span\", {\n        class: \"detail-label\"\n      }, \"Дата/Время:\", -1)), _createElementVNode(\"span\", _hoisted_215, _toDisplayString(formatDateTime(selectedAuditLog.value.timestamp)), 1)]), _createElementVNode(\"div\", _hoisted_216, [_cache[149] || (_cache[149] = _createElementVNode(\"span\", {\n        class: \"detail-label\"\n      }, \"Администратор:\", -1)), _createElementVNode(\"span\", _hoisted_217, _toDisplayString(selectedAuditLog.value.admin_username || '—'), 1)]), _createElementVNode(\"div\", _hoisted_218, [_cache[150] || (_cache[150] = _createElementVNode(\"span\", {\n        class: \"detail-label\"\n      }, \"Действие:\", -1)), _createElementVNode(\"span\", _hoisted_219, _toDisplayString(formatAction(selectedAuditLog.value.action)), 1)]), _createElementVNode(\"div\", _hoisted_220, [_cache[151] || (_cache[151] = _createElementVNode(\"span\", {\n        class: \"detail-label\"\n      }, \"IP адрес:\", -1)), _createElementVNode(\"span\", _hoisted_221, _toDisplayString(selectedAuditLog.value.ip_address || '—'), 1)]), selectedAuditLog.value.details ? (_openBlock(), _createElementBlock(\"div\", _hoisted_222, [_cache[152] || (_cache[152] = _createElementVNode(\"span\", {\n        class: \"detail-label\"\n      }, \"Подробности:\", -1)), _createElementVNode(\"pre\", _hoisted_223, _toDisplayString(JSON.stringify(selectedAuditLog.value.details, null, 2)), 1)])) : _createCommentVNode(\"\", true)])])) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_224, [_createElementVNode(\"button\", {\n        onClick: _cache[58] || (_cache[58] = $event => showAuditDetailsModal.value = false),\n        class: \"btn btn-primary\"\n      }, \" Закрыть \")])])])) : _createCommentVNode(\"\", true), _createVNode(AppNotifications)]);\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","computed","watch","AppLoader","AppNotifications","ExcelViewer","useAuthStore","useNotificationStore","api","authStore","notificationStore","user","stats","activeTab","isSuperAdmin","adminRole","tabs","baseTabs","id","label","value","push","selectedFiles","uploading","uploadResults","isDragover","autoUploadFiles","autoUploading","autoUploadResults","isAutoUploadDragover","unpublishedClaims","selectedClaims","loadingDocuments","publishing","loadingStats","loadingPartnerDocuments","documentsFilter","documentSearchQuery","documentPartnerFilter","documentDateFrom","documentDateTo","setDocumentsFilter","refreshDocuments","currentUploadPartnerId","currentUploadPartnerName","showUploadModal","partners","loadingPartners","partnerSearchQuery","partnerActiveFilter","partnerBirthdayFilter","showCreatePartnerModal","creatingPartner","showEditPartnerModal","editingPartner","partnerToEdit","showPartnerDocumentsModal","partnerDocuments","showViewDocumentModal","currentDocument","loadingCurrentDocument","excelData","newPartner","name","email","telegram","alias","password","birthDate","active","admins","loadingAdmins","showCreateAdminModal","creatingAdmin","showEditAdminModal","editingAdmin","adminToEdit","newAdmin","username","editAdminData","auditLogs","loadingAuditLogs","auditSearchQuery","auditAdminFilter","auditEntityTypeFilter","auditDateFrom","auditDateTo","showAuditDetailsModal","selectedAuditLog","showConfirmModal","confirmTitle","confirmMessage","confirmOkText","confirmCancelText","confirmLoading","confirmCallback","openConfirm","title","message","okText","cancelText","onConfirm","handleConfirmYes","e","console","error","handleConfirmNo","loadData","response","get","data","addNotification","type","handleFileSelect","event","files","Array","from","target","addFiles","handleDrop","dataTransfer","excelFiles","filter","file","endsWith","length","removeFile","index","splice","filteredPartners","filtered","p","Active","currentMonth","Date","getMonth","BirthDate","query","toLowerCase","Name","Email","inc","String","Inc","partnerId","Alias","includes","filteredDocuments","doc","fromDate","setHours","docDate","uploadedAt","Created","toDate","fileName","originalName","filteredAuditLogs","log","admin_id","entity_type","logDate","timestamp","adminName","admin_username","action","entityName","entity_name","openUploadForPartner","partner","closeUploadModal","uploadFilesForPartner","formData","FormData","partnerIds","forEach","append","JSON","stringify","post","headers","results","map","r","success","errors","uploadedPartner","viewPartnerDocuments","endpoint","handleAutoUploadDrop","f","handleAutoUploadFileSelect","removeAutoUploadFile","uploadAutoFiles","filename","partnerName","successCount","errorCount","publishDocument","claimId","claimIds","publishSelectedDocuments","publishAllDocuments","allClaimIds","claim","getClaimId","unpublishDocument","deleteDocument","delete","editPartner","Telegram","split","newPassword","updatePartner","updateData","put","loadPartners","deletePartner","documents","getDocDate","created","uploaded_at","uploadedAtRaw","publishedAt","PublishedAt","dateBeg","DateBeg","CreatedAt","isPublished","Published","Boolean","published","Status","publishPartnerDocument","ClaimId","DocumentId","confirmDeletePartnerDocument","deletePartnerDocument","force","url","toggleSelectAll","viewDocument","downloadDocument","responseType","contentDisposition","getDisplayFileName","filenameStarMatch","match","v","trim","replace","decodeURIComponent","filenameMatch","buildFallbackFilename","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove","revokeObjectURL","createPartner","formatFileSize","bytes","isNaN","Number","b","k","sizes","i","Math","floor","idx","min","max","parseFloat","pow","toFixed","loadAdmins","createAdmin","confirmDeleteAdmin","admin","confirmText","deleteAdmin","openEditAdminModal","updateAdmin","loadAuditLogs","params","adminId","entityType","dateFrom","dateTo","search","logs","refreshAuditLogs","clearAuditFilters","showAuditDetails","formatAction","translations","formatEntityType","getActionBadgeClass","getAdminName","details","adminUsername","possibleId","userId","found","find","a","toTimestampMs","test","n","parseInt","iso","parsedIso","parse","parsed","formatDate","date","ts","toLocaleDateString","timeZone","formatDateTime","toLocaleString","year","month","day","hour","minute","formatPeriod","to","formatCurrency","amount","undefined","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","FileName","originalname","FileNameDownload","parts","Type","PartnerName","dateBegRaw","dateEnd","DateEnd","dateEndRaw","t","d1","d2","pf","getFullYear","padStart","pt","join","getStatusLabel","status","labels","uploaded","handleTabChange","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_toDisplayString","totalPartners","class","_hoisted_8","_hoisted_9","_hoisted_10","documentsThisMonth","_hoisted_11","_hoisted_12","_hoisted_13","unpublishedDocuments","_hoisted_14","_Fragment","_renderList","tab","key","onClick","$event","_normalizeClass","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_cache","src","_imports_0","alt","width","height","disabled","_hoisted_22","_hoisted_23","_hoisted_24","placeholder","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_createBlock","_hoisted_30","_imports_1","_hoisted_31","checked","onChange","_hoisted_33","_hoisted_35","_hoisted_36","Partner","_hoisted_37","_hoisted_38","Cdate","createdAt","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_imports_2","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","LastVisit","_hoisted_65","_hoisted_66","_hoisted_67","_imports_3","_imports_4","_imports_5","_hoisted_72","_hoisted_73","dragover","onDrop","_withModifiers","onDragover","onDragleave","_ctx","$refs","autoUploadInput","accept","multiple","style","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","size","_hoisted_80","_hoisted_82","_hoisted_83","_hoisted_84","result","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","role","_hoisted_98","lastLogin","_hoisted_99","_hoisted_100","_hoisted_101","_unref","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","_hoisted_116","_hoisted_117","_hoisted_118","_hoisted_119","_hoisted_120","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","_hoisted_126","onSubmit","_hoisted_127","required","_hoisted_128","_hoisted_129","minlength","_hoisted_130","_hoisted_131","_hoisted_132","_hoisted_133","_hoisted_134","_hoisted_135","_hoisted_136","_hoisted_137","_hoisted_138","_hoisted_139","_hoisted_140","_hoisted_142","_hoisted_143","_hoisted_144","_hoisted_145","_hoisted_146","_hoisted_147","_hoisted_148","_hoisted_149","_hoisted_150","_hoisted_151","_hoisted_152","for","_hoisted_153","_hoisted_155","_hoisted_156","_hoisted_157","_hoisted_158","_hoisted_159","_hoisted_160","partnerFileInput","_hoisted_161","_hoisted_162","_hoisted_163","_hoisted_164","_hoisted_165","_hoisted_167","_hoisted_168","_hoisted_169","_hoisted_170","_hoisted_171","_hoisted_172","_hoisted_173","_hoisted_174","_hoisted_176","_hoisted_177","_hoisted_178","_hoisted_179","_hoisted_180","_hoisted_181","_hoisted_182","_hoisted_183","_hoisted_184","_hoisted_185","_hoisted_186","_hoisted_187","_hoisted_189","_hoisted_190","_hoisted_191","_hoisted_192","_hoisted_193","_hoisted_194","FileSize","fileSize","_hoisted_195","_hoisted_196","_hoisted_197","_hoisted_198","_hoisted_199","show","loading","onClose","onDownload","_hoisted_200","_hoisted_201","_hoisted_202","_hoisted_203","_hoisted_204","_hoisted_205","_hoisted_206","_hoisted_208","_hoisted_209","_hoisted_210","_hoisted_211","_hoisted_212","_hoisted_213","_hoisted_214","_hoisted_215","_hoisted_216","_hoisted_217","_hoisted_218","_hoisted_219","_hoisted_220","_hoisted_221","ip_address","_hoisted_222","_hoisted_223","_hoisted_224"],"sources":["/Users/vadim/Desktop/freedom-group/frontend/src/views/AdminDashboard.vue"],"sourcesContent":["<template>\n  <div class=\"admin-dashboard\">\n    <!-- Main content -->\n    <div class=\"dashboard-container\">\n      <!-- Stats cards -->\n          <div v-if=\"loadingStats\">\n            <AppLoader />\n          </div>\n          <div v-else class=\"stats-grid\">\n        <div class=\"stat-card\">\n          <div class=\"stat-content\">\n            <div class=\"stat-value\">{{ stats.totalPartners || 0 }}</div>\n            <div class=\"stat-label\">Всего партнеров</div>\n          </div>\n        </div>\n        \n        \n        <div class=\"stat-card\">\n          <div class=\"stat-content\">\n            <div class=\"stat-value\">{{ stats.documentsThisMonth || 0 }}</div>\n            <div class=\"stat-label\">Документов за месяц</div>\n          </div>\n        </div>\n        \n        <div class=\"stat-card\">\n          <div class=\"stat-content\">\n            <div class=\"stat-value\">{{ stats.unpublishedDocuments || 0 }}</div>\n            <div class=\"stat-label\">К публикации</div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Navigation tabs -->\n      <div class=\"tabs\">\n        <button \n          v-for=\"tab in tabs\" \n          :key=\"tab.id\"\n          @click=\"activeTab = tab.id\"\n          :class=\"['tab', { active: activeTab === tab.id }]\"\n        >\n          {{ tab.label }}\n        </button>\n      </div>\n      \n      <!-- Documents Tab -->\n      <div v-if=\"activeTab === 'documents'\" class=\"tab-content\">\n        <div class=\"documents-section\">\n          <div class=\"section-header\">\n            <h3>Все документы</h3>\n                    <div class=\"actions\">\n                      <div class=\"doc-filter\">\n                        <button :class=\"['btn-small', { active: documentsFilter === 'unpublished' }]\" @click=\"setDocumentsFilter('unpublished')\">Загруженные</button>\n                        <button :class=\"['btn-small', { active: documentsFilter === 'published' }]\" @click=\"setDocumentsFilter('published')\">Опубликованные</button>\n                      </div>\n              <button @click=\"refreshDocuments\" class=\"btn btn-secondary\">\n                <img src=\"@/assets/refresh.png\" alt=\"refresh\" width=\"18\" height=\"18\" class=\"icon-img-invert\" />\n              </button>\n              <button \n                v-if=\"documentsFilter === 'unpublished'\"\n                @click=\"publishAllDocuments\" \n                :disabled=\"!unpublishedClaims.length || publishing\"\n                class=\"btn btn-primary\"\n              >\n                <i v-if=\"publishing\" class=\"fas fa-spinner fa-spin\"></i>\n                Опубликовать все ({{ unpublishedClaims.length }})\n              </button>\n            </div>\n          </div>\n          \n          <!-- Фильтры документов -->\n          <div class=\"filters-bar\">\n            <div class=\"filter-group\">\n              <label>Поиск:</label>\n              <input\n                v-model=\"documentSearchQuery\"\n                type=\"text\"\n                placeholder=\"Название файла...\"\n                class=\"filter-input\"\n              />\n            </div>\n            \n            <div class=\"filter-group\">\n              <label>Партнёр:</label>\n              <select v-model=\"documentPartnerFilter\" class=\"filter-select\">\n                <option value=\"\">Все партнёры</option>\n                <option v-for=\"partner in partners\" :key=\"partner.Inc\" :value=\"partner.Inc\">\n                  {{ partner.Name }}\n                </option>\n              </select>\n            </div>\n            \n            <div class=\"filter-group\">\n              <label>Дата от:</label>\n              <input\n                v-model=\"documentDateFrom\"\n                type=\"date\"\n                class=\"filter-input\"\n              />\n            </div>\n            \n            <div class=\"filter-group\">\n              <label>до:</label>\n              <input\n                v-model=\"documentDateTo\"\n                type=\"date\"\n                class=\"filter-input\"\n              />\n            </div>\n            \n            <div class=\"filter-stats\">\n              Показано: {{ filteredDocuments.length }} из {{ unpublishedClaims.length }}\n            </div>\n          </div>\n          \n          <AppLoader v-if=\"loadingDocuments\" />\n          \n          <div v-else-if=\"filteredDocuments.length === 0\" class=\"empty-state\">\n            <div class=\"empty-icon\">\n              <img src=\"@/assets/docs.png\" alt=\"docs\" width=\"32\" height=\"32\" />\n            </div>\n            <h3>{{ unpublishedClaims.length === 0 ? 'Нет документов для публикации' : 'Ничего не найдено' }}</h3>\n            <p>{{ unpublishedClaims.length === 0 ? 'Все загруженные документы уже опубликованы' : 'Попробуйте изменить параметры фильтрации' }}</p>\n          </div>\n          \n          <table v-else class=\"documents-table\">\n            <thead>\n              <tr>\n                <th>\n                  <input \n                    type=\"checkbox\" \n                    :checked=\"selectedClaims.length === filteredDocuments.length && filteredDocuments.length > 0\"\n                    @change=\"toggleSelectAll\"\n                  />\n                </th>\n                <th>Файл</th>\n                <th>Код партнера</th>\n                <th>Имя партнера</th>\n                <th>Дата создания</th>\n                <th>Период</th>\n                <th>Статус</th>\n                <th>Действия</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"claim in filteredDocuments\" :key=\"getClaimId(claim)\">\n                <td data-label=\"Выбрать\">\n                  <input \n                    type=\"checkbox\" \n                    :value=\"getClaimId(claim)\"\n                    v-model=\"selectedClaims\"\n                  />\n                </td>\n                <td data-label=\"Файл\">{{ claim.FileName || claim.fileName || claim.originalName || '—' }}</td>\n                <td data-label=\"Код партнера\">{{ claim.Partner ?? claim.partnerId ?? claim.Inc ?? claim.inc ?? '—' }}</td>\n                <td data-label=\"Имя партнера\">{{ claim.PartnerName ?? claim.PartnerName ?? claim.Name ?? claim.name ?? '—' }}</td>\n                <td data-label=\"Дата создания\">{{ formatDate(claim.Created || claim.created || claim.Cdate || claim.uploadedAt || claim.uploaded_at || claim.createdAt) }}</td>\n                <td data-label=\"Период\">{{ formatPeriod(claim.DateBeg || claim.dateBeg || claim.dateBegRaw, claim.DateEnd || claim.dateEnd || claim.dateEndRaw) }}</td>\n                <td data-label=\"Статус\">\n                  <span :class=\"['status', claim.Status || claim.status || (claim.publishedAt || claim.PublishedAt ? 'published' : 'uploaded')]\">\n                    {{ getStatusLabel(claim.Status ?? claim.status ?? (claim.publishedAt || claim.PublishedAt ? 'published' : 'uploaded')) }}\n                  </span>\n                </td>\n                <td data-label=\"Действия\">\n                  <div class=\"action-buttons\">\n                    <template v-if=\"documentsFilter === 'unpublished'\">\n                      <button @click=\"publishDocument(getClaimId(claim))\" class=\"btn btn-sm btn-primary\">\n                        Опубликовать\n                      </button>\n                      <button @click=\"deleteDocument(getClaimId(claim))\" class=\"btn btn-sm btn-outline-blue\">\n                        Удалить\n                      </button>\n                    </template>\n                    <template v-else>\n                      <button @click=\"viewDocument(getClaimId(claim))\" class=\"btn btn-sm btn-outline-blue\">\n                        Просмотр\n                      </button>\n                      <button @click=\"unpublishDocument(getClaimId(claim))\" class=\"btn btn-sm btn-secondary\">\n                        Снять публикацию\n                      </button>\n                      <button @click=\"deleteDocument(getClaimId(claim))\" class=\"btn btn-sm btn-danger\">\n                        Удалить\n                      </button>\n                    </template>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          \n          <!-- Bulk actions -->\n          <div v-if=\"selectedClaims.length > 0 && documentsFilter === 'unpublished'\" class=\"bulk-actions\">\n            <span>Выбрано: {{ selectedClaims.length }}</span>\n            <button @click=\"publishSelectedDocuments\" class=\"btn btn-primary\">\n              Опубликовать выбранные\n            </button>\n            <button @click=\"selectedClaims = []\" class=\"btn btn-outline-blue\">\n              Снять выделение\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Partners Tab -->\n      <div v-if=\"activeTab === 'partners'\" class=\"tab-content\">\n        <div class=\"partners-section\">\n          <div class=\"section-header\">\n            <h3>Управление партнерами</h3>\n            <div class=\"header-actions\">\n              <input\n                v-model=\"partnerSearchQuery\"\n                type=\"text\"\n                placeholder=\"Поиск по имени, email, коду или логину...\"\n                class=\"search-input-header\"\n              />\n              <button @click=\"showCreatePartnerModal = true\" class=\"btn btn-primary\">\n                <img src=\"@/assets/add.png\" alt=\"add\" width=\"18\" height=\"18\" class=\"icon-img-invert\" />\n              </button>\n            </div>\n          </div>\n          \n          <!-- Фильтры партнёров -->\n          <div class=\"filters-bar\">\n            <div class=\"filter-group\">\n              <label>Статус:</label>\n              <select v-model=\"partnerActiveFilter\" class=\"filter-select\">\n                <option value=\"all\">Все</option>\n                <option value=\"active\">Активные</option>\n                <option value=\"inactive\">Неактивные</option>\n              </select>\n            </div>\n            \n            <div class=\"filter-group\">\n              <label class=\"checkbox-label\">\n                <input \n                  v-model=\"partnerBirthdayFilter\" \n                  type=\"checkbox\"\n                />\n                <span>День рождения в этом месяце</span>\n              </label>\n            </div>\n            \n            <div class=\"filter-stats\">\n              Показано: {{ filteredPartners.length }} из {{ partners.length }}\n            </div>\n          </div>\n          \n          <AppLoader v-if=\"loadingPartners\" />\n          \n          <table v-else class=\"partners-table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Имя</th>\n                <th>Email</th>\n                <th>Chat ID</th>\n                <th>Логин</th>\n                <th>Последний вход</th>\n                <th>Создан</th>\n                <th>Действия</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"partner in filteredPartners\" :key=\"partner.Inc\">\n                <td data-label=\"ID\">{{ partner.Inc }}</td>\n                <td data-label=\"Имя\">{{ partner.Name }}</td>\n                <td data-label=\"Email\">{{ partner.Email }}</td>\n                <td data-label=\"Chat ID\">{{ partner.Telegram || '—' }}</td>\n                <td data-label=\"Логин\">{{ partner.Alias }}</td>\n                <td data-label=\"Последний вход\">{{ formatDateTime(partner.LastVisit) || '—' }}</td>\n                <td data-label=\"Создан\">{{ formatDate(partner.CreatedAt) }}</td>\n                <td data-label=\"Действия\">\n                  <div class=\"action-buttons\">\n                    <button @click=\"openUploadForPartner(partner)\" class=\"btn-icon btn-upload\" title=\"Загрузить файлы\">\n                      <img src=\"@/assets/upload.png\" alt=\"upload\" width=\"18\" height=\"18\" />\n                    </button>\n                    <button @click=\"editPartner(partner)\" class=\"btn-icon btn-edit\" title=\"Редактировать\">\n                      <img src=\"@/assets/edit.png\" alt=\"edit\" width=\"18\" height=\"18\" />\n                    </button>\n                    <button @click=\"viewPartnerDocuments(partner)\" class=\"btn-icon btn-docs\" title=\"Документы\">\n                      <img src=\"@/assets/docs.png\" alt=\"docs\" width=\"18\" height=\"18\" />\n                    </button>\n                    <button @click=\"deletePartner(partner)\" class=\"btn-icon btn-delete\" title=\"Удалить\">\n                      <img src=\"@/assets/delete.png\" alt=\"delete\" width=\"18\" height=\"18\" />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      <!-- Upload Tab -->\n      <div v-if=\"activeTab === 'upload'\" class=\"tab-content\">\n        <div class=\"upload-section\">        \n          <div \n            class=\"upload-area\"\n            :class=\"{ dragover: isAutoUploadDragover }\"\n            @drop.prevent=\"handleAutoUploadDrop\"\n            @dragover.prevent=\"isAutoUploadDragover = true\"\n            @dragleave=\"isAutoUploadDragover = false\"\n            @click=\"$refs.autoUploadInput.click()\"\n          >\n            <div class=\"upload-content\">\n              <img src=\"@/assets/upload.png\" alt=\"upload\" width=\"48\" height=\"48\" />\n              <p>Перетащите файлы сюда или нажмите для выбора</p>\n              <span class=\"upload-hint\">Можно загружать несколько файлов одновременно</span>\n            </div>\n            <input \n              type=\"file\" \n              ref=\"autoUploadInput\"\n              @change=\"handleAutoUploadFileSelect\" \n              accept=\".xlsx,.xls\"\n              multiple\n              style=\"display: none\"\n            />\n          </div>\n          \n          <!-- Selected files preview -->\n          <div v-if=\"autoUploadFiles.length > 0\" class=\"selected-files\">\n            <h4>Выбранные файлы ({{ autoUploadFiles.length }})</h4>\n            <div class=\"files-list\">\n              <div v-for=\"(file, index) in autoUploadFiles\" :key=\"index\" class=\"file-item\">\n                <img src=\"@/assets/docs.png\" alt=\"file\" width=\"24\" height=\"24\" />\n                <div class=\"file-info\">\n                  <span class=\"file-name\">{{ file.name }}</span>\n                  <span class=\"file-size\">{{ formatFileSize(file.size) }}</span>\n                </div>\n                <button @click=\"removeAutoUploadFile(index)\" class=\"btn-icon btn-delete\">\n                  <img src=\"@/assets/delete.png\" alt=\"delete\" width=\"18\" height=\"18\" />\n                </button>\n              </div>\n            </div>\n            <div class=\"upload-actions\">\n              <button @click=\"autoUploadFiles = []\" class=\"btn btn-secondary\">\n                Очистить\n              </button>\n              <button @click=\"uploadAutoFiles\" :disabled=\"autoUploading\" class=\"btn btn-primary\">\n                <i v-if=\"autoUploading\" class=\"fas fa-spinner fa-spin\"></i>\n                {{ autoUploading ? 'Загрузка...' : 'Загрузить файлы' }}\n              </button>\n            </div>\n          </div>\n          \n          <!-- Upload results -->\n          <div v-if=\"autoUploadResults.length > 0\" class=\"upload-results\">\n            <h4>Результаты загрузки</h4>\n            <div class=\"results-list\">\n              <div \n                v-for=\"(result, index) in autoUploadResults\" \n                :key=\"index\" \n                :class=\"['result-item', result.success ? 'success' : 'error']\"\n              >\n                <div class=\"result-icon\">\n                  {{ result.success ? '✅' : '❌' }}\n                </div>\n                <div class=\"result-info\">\n                  <span class=\"result-file\">{{ result.fileName }}</span>\n                  <span class=\"result-message\">{{ result.message }}</span>\n                  <span v-if=\"result.partnerName\" class=\"result-partner\">Партнёр: {{ result.partnerName }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Admins Tab (только для superadmin) -->\n      <div v-if=\"activeTab === 'admins' && isSuperAdmin\" class=\"tab-content\">\n        <div class=\"admins-section\">\n          <div class=\"section-header\">\n            <h3>Управление администраторами</h3>\n            <button @click=\"showCreateAdminModal = true\" class=\"btn btn-primary\">\n              <img src=\"@/assets/add.png\" alt=\"add\" width=\"18\" height=\"18\" class=\"icon-img-invert\" />\n              Добавить администратора\n            </button>\n          </div>\n          \n          <AppLoader v-if=\"loadingAdmins\" />\n          \n          <table v-else-if=\"admins.length > 0\" class=\"admins-table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Логин</th>\n                <th>Email</th>\n                <th>Роль</th>\n                <th>Последний вход</th>\n                <th>Создан</th>\n                <th>Действия</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"admin in admins\" :key=\"admin.inc\">\n                <td data-label=\"ID\">{{ admin.inc }}</td>\n                <td data-label=\"Логин\">{{ admin.username }}</td>\n                <td data-label=\"Email\">{{ admin.email }}</td>\n                <td data-label=\"Роль\">\n                  <span :class=\"['badge', admin.role === 'superadmin' ? 'badge-superadmin' : 'badge-admin']\">\n                    {{ admin.role === 'superadmin' ? 'Суперадмин' : 'Администратор' }}\n                  </span>\n                </td>\n                <td data-label=\"Последний вход\">{{ formatDateTime(admin.lastLogin) || '—' }}</td>\n                <td data-label=\"Создан\">{{ formatDate(admin.createdAt) }}</td>\n                <td data-label=\"Действия\">\n                  <div class=\"action-buttons\">\n                    <button \n                      @click=\"openEditAdminModal(admin)\" \n                      class=\"btn-icon\" \n                      title=\"Редактировать\"\n                    >\n                      <img src=\"@/assets/edit.png\" alt=\"edit\" width=\"18\" height=\"18\" />\n                    </button>\n                    <button \n                      v-if=\"admin.role !== 'superadmin' && admin.inc !== authStore.user?.id\"\n                      @click=\"confirmDeleteAdmin(admin)\" \n                      class=\"btn-icon btn-delete\" \n                      title=\"Удалить\"\n                    >\n                      <img src=\"@/assets/delete.png\" alt=\"delete\" width=\"18\" height=\"18\" />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          \n          <div v-else class=\"empty-state\">\n            <p>Администраторы не найдены</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Audit Log Tab -->\n      <div v-if=\"activeTab === 'audit' && isSuperAdmin\" class=\"tab-content\">\n        <div class=\"audit-section\">\n          <div class=\"section-header\">\n            <h3>Журнал событий</h3>\n            <button @click=\"refreshAuditLogs\" class=\"btn btn-secondary\">\n              <img src=\"@/assets/refresh.png\" alt=\"refresh\" width=\"18\" height=\"18\" class=\"icon-img-invert\" />\n              Обновить\n            </button>\n          </div>\n\n          <!-- Фильтры -->\n          <div class=\"filters-bar\">\n            <div class=\"filter-group\">\n              <label>Поиск:</label>\n              <input\n                v-model=\"auditSearchQuery\"\n                type=\"text\"\n                placeholder=\"Администратор, действие, сущность...\"\n                class=\"filter-input\"\n              />\n            </div>\n\n            <div class=\"filter-group\">\n              <label>Администратор:</label>\n              <select v-model=\"auditAdminFilter\" class=\"filter-select\">\n                <option value=\"\">Все администраторы</option>\n                <option v-for=\"admin in admins\" :key=\"admin.inc\" :value=\"admin.inc\">\n                  {{ admin.username }}\n                </option>\n              </select>\n            </div>\n\n            <div class=\"filter-group\">\n              <label>Тип:</label>\n              <select v-model=\"auditEntityTypeFilter\" class=\"filter-select\">\n                <option value=\"\">Все типы</option>\n                <option value=\"partner\">Партнёр</option>\n                <option value=\"document\">Документ</option>\n                <option value=\"claim\">Претензия</option>\n                <option value=\"admin\">Администратор</option>\n              </select>\n            </div>\n\n            <div class=\"filter-group\">\n              <label>Дата от:</label>\n              <input\n                v-model=\"auditDateFrom\"\n                type=\"date\"\n                class=\"filter-input\"\n              />\n            </div>\n\n            <div class=\"filter-group\">\n              <label>Дата до:</label>\n              <input\n                v-model=\"auditDateTo\"\n                type=\"date\"\n                class=\"filter-input\"\n              />\n            </div>\n\n            <button @click=\"clearAuditFilters\" class=\"btn btn-secondary\">\n              Сбросить фильтры\n            </button>\n          </div>\n\n          <!-- Статистика -->\n          <div v-if=\"filteredAuditLogs.length > 0\" class=\"filters-stats\">\n            Показано: {{ filteredAuditLogs.length }} из {{ auditLogs.length }}\n          </div>\n\n          <AppLoader v-if=\"loadingAuditLogs\" />\n\n          <table v-else-if=\"filteredAuditLogs.length > 0\" class=\"audit-table\">\n            <thead>\n              <tr>\n                <th>Дата/Время</th>\n                <th>Администратор</th>\n                <th>Действие</th>\n                <th>Детали</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"log in filteredAuditLogs\" :key=\"log.id\">\n                <td data-label=\"Дата/Время\" class=\"audit-datetime\">{{ formatDateTime(log.timestamp) }}</td>\n                <td data-label=\"Администратор\" class=\"audit-admin\">\n                  <span class=\"admin-name\">{{ getAdminName(log) }}</span>\n                </td>\n                <td data-label=\"Действие\" class=\"audit-action\">\n                  <span :class=\"['action-badge', getActionBadgeClass(log.action)]\">\n                    {{ formatAction(log.action) }}\n                  </span>\n                </td>\n                <td data-label=\"Детали\" class=\"audit-details\">\n                  <button \n                    v-if=\"log.details\"\n                    @click=\"showAuditDetails(log)\" \n                    class=\"btn-details\"\n                  >\n                    Подробнее\n                  </button>\n                  <span v-else class=\"no-details\">—</span>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n\n          <div v-else class=\"empty-state\">\n            <p>События не найдены</p>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Create Admin Modal -->\n    <div v-if=\"showCreateAdminModal\" class=\"modal-overlay\">\n      <div class=\"modal\">\n        <div class=\"modal-header\">\n          <h3>Создать администратора</h3>\n          <button @click=\"showCreateAdminModal = false\" class=\"close-btn\">×</button>\n        </div>\n        \n        <form @submit.prevent=\"createAdmin\" class=\"modal-body\">\n          <div class=\"form-group\">\n            <label>Логин *</label>\n            <input v-model=\"newAdmin.username\" type=\"text\" required />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Email *</label>\n            <input v-model=\"newAdmin.email\" type=\"email\" required />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Пароль *</label>\n            <input v-model=\"newAdmin.password\" type=\"password\" required minlength=\"6\" />\n            <small>Минимум 6 символов</small>\n          </div>\n        </form>\n        \n        <div class=\"modal-footer\">\n          <button type=\"button\" @click=\"showCreateAdminModal = false\" class=\"btn btn-secondary\">\n            Отмена\n          </button>\n          <button type=\"submit\" @click=\"createAdmin\" class=\"btn btn-primary\" :disabled=\"creatingAdmin\">\n            {{ creatingAdmin ? 'Создание...' : 'Создать' }}\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Edit Admin Modal -->\n    <div v-if=\"showEditAdminModal\" class=\"modal-overlay\">\n      <div class=\"modal\">\n        <div class=\"modal-header\">\n          <h3>Редактировать администратора</h3>\n          <button @click=\"showEditAdminModal = false\" class=\"close-btn\">×</button>\n        </div>\n\n        <div class=\"modal-body\">\n          <div class=\"form-group\">\n            <label>Логин</label>\n            <input\n              v-model=\"editAdminData.username\"\n              type=\"text\"\n              class=\"form-input\"\n              placeholder=\"Логин\"\n              required\n            />\n          </div>\n\n          <div class=\"form-group\">\n            <label>Email</label>\n            <input\n              v-model=\"editAdminData.email\"\n              type=\"email\"\n              class=\"form-input\"\n              placeholder=\"Email\"\n              required\n            />\n          </div>\n\n          <div class=\"form-group\">\n            <label>Новый пароль</label>\n            <input\n              v-model=\"editAdminData.password\"\n              type=\"password\"\n              class=\"form-input\"\n              placeholder=\"Оставьте пустым, если не хотите менять\"\n              minlength=\"6\"\n            />\n            <small style=\"color: #6b7280; font-size: 12px;\">Минимум 6 символов. Оставьте пустым, чтобы не менять пароль.</small>\n          </div>\n        </div>\n\n        <div class=\"modal-footer\">\n          <button @click=\"showEditAdminModal = false\" class=\"btn btn-outline-blue\" :disabled=\"editingAdmin\">Отмена</button>\n          <button @click=\"updateAdmin\" class=\"btn btn-primary\" :disabled=\"editingAdmin\">\n            <i v-if=\"editingAdmin\" class=\"fas fa-spinner fa-spin\"></i>\n            Сохранить\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Create Partner Modal -->\n    <div v-if=\"showCreatePartnerModal\" class=\"modal-overlay\">\n      <div class=\"modal\">\n        <div class=\"modal-header\">\n          <h3>Добавить партнера</h3>\n          <button @click=\"showCreatePartnerModal = false\" class=\"close-btn\">×</button>\n        </div>\n        \n        <form @submit.prevent=\"createPartner\" class=\"modal-body\">\n          <AppLoader v-if=\"creatingPartner\" />\n          <div class=\"form-group\">\n            <label>Имя партнера *</label>\n            <input v-model=\"newPartner.name\" type=\"text\" required />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Email *</label>\n            <input v-model=\"newPartner.email\" type=\"email\" required />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Telegram Chat ID (опционально)</label>\n            <input v-model=\"newPartner.telegram\" type=\"text\" placeholder=\"Например: 123456789\" />\n            <small style=\"color: #64748b; margin-top: 5px; display: block;\">\n              💡 Партнер должен отправить /start боту и сообщить вам свой Chat ID\n            </small>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Логин *</label>\n            <input v-model=\"newPartner.alias\" type=\"text\" required placeholder=\"Уникальный логин для входа\" />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Пароль *</label>\n            <input v-model=\"newPartner.password\" type=\"password\" required placeholder=\"Пароль для входа\" />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Дата рождения (опционально)</label>\n            <input v-model=\"newPartner.birthDate\" type=\"date\" />\n          </div>\n          \n          <div class=\"form-group\" style=\"display: flex; align-items: center; gap: 10px;\">\n            <input v-model=\"newPartner.active\" type=\"checkbox\" id=\"newPartnerActive\" />\n            <label for=\"newPartnerActive\" style=\"margin: 0; cursor: pointer;\">Активный</label>\n          </div>\n        </form>\n        \n        <div class=\"modal-footer\">\n          <button type=\"button\" @click=\"showCreatePartnerModal = false\" class=\"btn btn-secondary\">\n            Отмена\n          </button>\n          <button @click=\"createPartner\" :disabled=\"creatingPartner\" class=\"btn btn-primary\">\n            <i v-if=\"creatingPartner\" class=\"fas fa-spinner fa-spin\"></i>\n            {{ creatingPartner ? 'Создание...' : 'Создать' }}\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Upload Files Modal -->\n    <div v-if=\"showUploadModal\" class=\"modal-overlay\">\n      <div class=\"modal modal-large\">\n        <div class=\"modal-header\">\n          <h3>Загрузка файлов для {{ currentUploadPartnerName }}</h3>\n          <button @click=\"closeUploadModal\" class=\"close-btn\">×</button>\n        </div>\n        \n        <div class=\"modal-body\">\n          <div v-if=\"!uploading\" class=\"upload-area\" :class=\"{ dragover: isDragover }\" \n            @dragover.prevent=\"isDragover = true\"\n            @dragleave.prevent=\"isDragover = false\"\n            @drop.prevent=\"handleDrop\">\n            <input \n              ref=\"partnerFileInput\"\n              type=\"file\" \n              multiple \n              accept=\".xlsx,.xls\"\n              @change=\"handleFileSelect\"\n              style=\"display: none\"\n            />\n            \n            <div class=\"upload-content\">\n              <div class=\"upload-icon\">\n                <i class=\"fas fa-cloud-upload-alt\"></i>\n              </div>\n              <p>Перетащите Excel файлы сюда или <button @click=\"$refs.partnerFileInput.click()\" class=\"link-btn\">выберите файлы</button></p>\n              <p class=\"upload-hint\">Поддерживаются файлы: .xlsx, .xls (максимум 50 файлов)</p>\n            </div>\n          </div>\n          \n          <!-- Selected files -->\n          <div v-if=\"selectedFiles.length > 0 && !uploading\" class=\"selected-files\">\n            <h4>Выбранные файлы ({{ selectedFiles.length }})</h4>\n            <div class=\"file-list\">\n              <div v-for=\"(file, index) in selectedFiles\" :key=\"index\" class=\"file-item\">\n                <div class=\"file-info\">\n                  <div class=\"file-name\">{{ file.name }}</div>\n                  <div class=\"file-size\">{{ formatFileSize(file.size) }}</div>\n                </div>\n                <button @click=\"removeFile(index)\" class=\"remove-btn\">\n                  <i class=\"fas fa-times\"></i>\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Upload results -->\n          <div v-if=\"uploadResults.length > 0 && !uploading\" class=\"upload-results\">\n            <h4>Результаты загрузки</h4>\n            <div class=\"results-summary\">\n              <span class=\"success\"><i class=\"fas fa-check-circle\"></i> Успешно: {{ uploadResults.filter(r => r.success).length }}</span>\n              <span class=\"error\"><i class=\"fas fa-times-circle\"></i> Ошибки: {{ uploadResults.filter(r => !r.success).length }}</span>\n            </div>\n            \n            <div class=\"results-list\">\n              <div v-for=\"result in uploadResults\" :key=\"result.fileName\" class=\"result-item\" :class=\"{ error: !result.success }\">\n                <div class=\"result-file\">{{ result.fileName }}</div>\n                <div class=\"result-status\">\n                  {{ result.success ? 'Успешно загружен' : result.error }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"modal-footer\">\n          <button type=\"button\" @click=\"closeUploadModal\" class=\"btn btn-secondary\">\n            Отмена\n          </button>\n          <button v-if=\"!uploading\" @click=\"uploadFilesForPartner\" :disabled=\"selectedFiles.length === 0\" class=\"btn btn-primary\">\n            <i class=\"fas fa-upload\"></i>\n            Загрузить файлы\n          </button>\n          <div v-else style=\"display:flex;align-items:center;gap:12px;\">\n            <AppLoader />\n            <span>Загрузка файлов...</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Edit Partner Modal -->\n    <div v-if=\"showEditPartnerModal\" class=\"modal-overlay\">\n      <div class=\"modal\">\n        <div class=\"modal-header\">\n          <h3>Редактировать партнера</h3>\n          <button @click=\"showEditPartnerModal = false\" class=\"close-btn\">×</button>\n        </div>\n        \n        <form @submit.prevent=\"updatePartner\" class=\"modal-body\">\n          <AppLoader v-if=\"editingPartner\" />\n          <div class=\"form-group\">\n            <label>Имя партнера *</label>\n            <input v-model=\"partnerToEdit.name\" type=\"text\" required />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Email *</label>\n            <input v-model=\"partnerToEdit.email\" type=\"email\" required />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Telegram Chat ID (опционально)</label>\n            <input v-model=\"partnerToEdit.telegram\" type=\"text\" placeholder=\"Например: 123456789\" />\n            <small style=\"color: #64748b; margin-top: 5px; display: block;\">\n              💡 Партнер должен отправить /start боту и сообщить вам свой Chat ID\n            </small>\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Логин</label>\n            <input v-model=\"partnerToEdit.alias\" type=\"text\" required />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Новый пароль (опционально)</label>\n            <input v-model=\"partnerToEdit.newPassword\" type=\"password\" placeholder=\"Оставьте пустым, чтобы не менять\" />\n          </div>\n          \n          <div class=\"form-group\">\n            <label>Дата рождения (опционально)</label>\n            <input v-model=\"partnerToEdit.birthDate\" type=\"date\" />\n          </div>\n          \n          <div class=\"form-group\" style=\"display: flex; align-items: center; gap: 10px;\">\n            <input v-model=\"partnerToEdit.active\" type=\"checkbox\" id=\"editPartnerActive\" />\n            <label for=\"editPartnerActive\" style=\"margin: 0; cursor: pointer;\">Активный</label>\n          </div>\n        </form>\n        \n        <div class=\"modal-footer\">\n          <button type=\"button\" @click=\"showEditPartnerModal = false\" class=\"btn btn-secondary\">\n            Отмена\n          </button>\n          <button @click=\"updatePartner\" :disabled=\"editingPartner\" class=\"btn btn-primary\">\n            <i v-if=\"editingPartner\" class=\"fas fa-spinner fa-spin\"></i>\n            {{ editingPartner ? 'Сохранение...' : 'Сохранить' }}\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Partner Documents Modal -->\n    <div v-if=\"showPartnerDocumentsModal\" class=\"modal-overlay\">\n      <div class=\"modal modal-large\">\n        <div class=\"modal-header\">\n          <h3>Документы партнера: {{ partnerToEdit?.name }}</h3>\n          <button @click=\"showPartnerDocumentsModal = false\" class=\"close-btn\">×</button>\n        </div>\n        \n        <div class=\"modal-body\">\n          <AppLoader v-if=\"loadingPartnerDocuments\" />\n          <table v-else-if=\"partnerDocuments.length > 0\" class=\"documents-table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Дата</th>\n                <th>Файл</th>\n                <th>Размер</th>\n                <th>Статус</th>\n                <th>Действия</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"doc in partnerDocuments\" :key=\"doc.inc || doc.claimId || doc.DocumentId || doc.DocumentId\">\n                <td>{{ doc.inc ?? doc.claimId ?? doc.ClaimId ?? doc.DocumentId ?? '—' }}</td>\n                <td>{{ formatDate(getDocDate(doc)) }}</td>\n                <td>{{ doc.filename || doc.FileName || doc.fileName || doc.originalName || '—' }}</td>\n                <td>{{ formatFileSize(doc.size || doc.FileSize || doc.fileSize) }}</td>\n                <td>{{ isPublished(doc) ? 'Опубликован' : 'Не опубликован' }}</td>\n                <td>\n                  <div class=\"action-buttons\">\n                    <button v-if=\"!isPublished(doc)\" @click=\"publishPartnerDocument(doc)\" class=\"btn btn-sm btn-primary\">Опубликовать</button>\n                    <button @click=\"confirmDeletePartnerDocument(doc)\" class=\"btn btn-sm btn-danger\">Удалить</button>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <p v-else-if=\"!loadingPartnerDocuments\">Документы не найдены</p>\n        </div>\n        \n        <div class=\"modal-footer\">\n          <button @click=\"showPartnerDocumentsModal = false\" class=\"btn btn-secondary\">\n            Закрыть\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- View Document Modal - Excel-like viewer -->\n    <ExcelViewer\n      :show=\"showViewDocumentModal\"\n      :document=\"currentDocument\"\n      :excelData=\"excelData\"\n      :loading=\"loadingCurrentDocument\"\n      @close=\"showViewDocumentModal = false\"\n      @download=\"downloadDocument(currentDocument.inc || currentDocument.Inc)\"\n    />\n\n    <!-- Confirmation Modal -->\n    <div v-if=\"showConfirmModal\" class=\"modal-overlay\">\n      <div class=\"modal\">\n        <div class=\"modal-header\">\n          <h3>{{ confirmTitle }}</h3>\n          <button @click=\"handleConfirmNo\" class=\"close-btn\">×</button>\n        </div>\n\n        <div class=\"modal-body\">\n          <p style=\"color:#374151; font-size:16px; line-height:1.4\">{{ confirmMessage }}</p>\n        </div>\n\n        <div class=\"modal-footer\">\n          <button @click=\"handleConfirmNo\" class=\"btn btn-outline-blue\" :disabled=\"confirmLoading\">{{ confirmCancelText }}</button>\n          <button @click=\"handleConfirmYes\" class=\"btn btn-primary\" :disabled=\"confirmLoading\">\n            <i v-if=\"confirmLoading\" class=\"fas fa-spinner fa-spin\"></i>\n            {{ confirmOkText }}\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Audit Details Modal -->\n    <div v-if=\"showAuditDetailsModal\" class=\"modal-overlay\">\n      <div class=\"modal\">\n        <div class=\"modal-header\">\n          <h3>Детали события</h3>\n          <button @click=\"showAuditDetailsModal = false\" class=\"close-btn\">×</button>\n        </div>\n\n        <div v-if=\"selectedAuditLog\" class=\"modal-body\">\n          <div class=\"audit-details\">\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Дата/Время:</span>\n              <span class=\"detail-value\">{{ formatDateTime(selectedAuditLog.timestamp) }}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Администратор:</span>\n              <span class=\"detail-value\">{{ selectedAuditLog.admin_username || '—' }}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Действие:</span>\n              <span class=\"detail-value\">{{ formatAction(selectedAuditLog.action) }}</span>\n            </div>\n            <!-- Тип сущности и Сущность удалены по запросу -->\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">IP адрес:</span>\n              <span class=\"detail-value\">{{ selectedAuditLog.ip_address || '—' }}</span>\n            </div>\n            <div v-if=\"selectedAuditLog.details\" class=\"detail-row\">\n              <span class=\"detail-label\">Подробности:</span>\n              <pre class=\"detail-json\">{{ JSON.stringify(selectedAuditLog.details, null, 2) }}</pre>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"modal-footer\">\n          <button @click=\"showAuditDetailsModal = false\" class=\"btn btn-primary\">\n            Закрыть\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Notifications -->\n    <AppNotifications />\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed, watch } from 'vue'\nimport AppLoader from '@/components/AppLoader.vue'\nimport AppNotifications from '@/components/AppNotifications.vue'\nimport ExcelViewer from '@/components/ExcelViewer.vue'\nimport { useAuthStore } from '@/stores/auth'\nimport { useNotificationStore } from '@/stores/notifications'\nimport api from '@/plugins/axios'\n\nconst authStore = useAuthStore()\nconst notificationStore = useNotificationStore()\n\n// Reactive data\nconst user = ref(null)\nconst stats = ref({})\nconst activeTab = ref('partners')\n\n// Computed для проверки роли суперадмина\nconst isSuperAdmin = computed(() => {\n  return authStore.user?.adminRole === 'superadmin'\n})\n\n// Tabs\nconst tabs = computed(() => {\n  const baseTabs = [\n    { id: 'partners', label: 'Партнеры' },\n    { id: 'upload', label: 'Загрузка' },\n    { id: 'documents', label: 'Документы' }\n  ]\n  \n  // Добавляем вкладки только для суперадмина\n  if (isSuperAdmin.value) {\n    baseTabs.push({ id: 'admins', label: 'Администраторы' })\n    baseTabs.push({ id: 'audit', label: 'Журнал событий' })\n  }\n  \n  return baseTabs\n})\n\n// File upload\nconst selectedFiles = ref([])\nconst uploading = ref(false)\nconst uploadResults = ref([])\nconst isDragover = ref(false)\n\n// Auto upload (с определением партнёра из Excel)\nconst autoUploadFiles = ref([])\nconst autoUploading = ref(false)\nconst autoUploadResults = ref([])\nconst isAutoUploadDragover = ref(false)\n\n// Documents\nconst unpublishedClaims = ref([])\nconst selectedClaims = ref([])\nconst loadingDocuments = ref(false)\nconst publishing = ref(false)\n// Additional loaders\nconst loadingStats = ref(false)\nconst loadingPartnerDocuments = ref(false)\nconst documentsFilter = ref('unpublished') // 'unpublished' or 'published'\nconst documentSearchQuery = ref('') // поиск по названию файла\nconst documentPartnerFilter = ref('') // фильтр по партнёру (partnerId)\nconst documentDateFrom = ref('') // начало диапазона дат\nconst documentDateTo = ref('') // конец диапазона дат\n\nconst setDocumentsFilter = (value) => {\n  documentsFilter.value = value\n  refreshDocuments()\n}\n\n// File-Partner mapping\nconst currentUploadPartnerId = ref(null)\nconst currentUploadPartnerName = ref('')\nconst showUploadModal = ref(false)\n\n// Partners\nconst partners = ref([])\nconst loadingPartners = ref(false)\nconst partnerSearchQuery = ref('')\nconst partnerActiveFilter = ref('all') // 'all' | 'active' | 'inactive'\nconst partnerBirthdayFilter = ref(false) // показывать только с ДР в этом месяце\nconst showCreatePartnerModal = ref(false)\nconst creatingPartner = ref(false)\nconst showEditPartnerModal = ref(false)\nconst editingPartner = ref(false)\nconst partnerToEdit = ref(null)\nconst showPartnerDocumentsModal = ref(false)\nconst partnerDocuments = ref([])\nconst showViewDocumentModal = ref(false)\nconst currentDocument = ref(null)\nconst loadingCurrentDocument = ref(false)\nconst excelData = ref(null)\nconst newPartner = ref({\n  name: '',\n  email: '',\n  telegram: '',\n  alias: '',\n  password: '',\n  birthDate: '',\n  active: true\n})\n\n// Admins (только для superadmin)\nconst admins = ref([])\nconst loadingAdmins = ref(false)\nconst showCreateAdminModal = ref(false)\nconst creatingAdmin = ref(false)\nconst showEditAdminModal = ref(false)\nconst editingAdmin = ref(false)\nconst adminToEdit = ref(null)\nconst newAdmin = ref({\n  username: '',\n  email: '',\n  password: ''\n})\nconst editAdminData = ref({\n  username: '',\n  email: '',\n  password: ''\n})\n\n// Audit Logs (только для superadmin)\nconst auditLogs = ref([])\nconst loadingAuditLogs = ref(false)\nconst auditSearchQuery = ref('')\nconst auditAdminFilter = ref('')\nconst auditEntityTypeFilter = ref('')\nconst auditDateFrom = ref('')\nconst auditDateTo = ref('')\nconst showAuditDetailsModal = ref(false)\nconst selectedAuditLog = ref(null)\n\n// Confirmation modal state\nconst showConfirmModal = ref(false)\nconst confirmTitle = ref('')\nconst confirmMessage = ref('')\nconst confirmOkText = ref('Да')\nconst confirmCancelText = ref('Отмена')\nconst confirmLoading = ref(false)\nlet confirmCallback = null\n\nconst openConfirm = ({ title = 'Подтверждение', message = '', okText = 'Да', cancelText = 'Отмена', onConfirm = null }) => {\n  confirmTitle.value = title\n  confirmMessage.value = message\n  confirmOkText.value = okText\n  confirmCancelText.value = cancelText\n  confirmCallback = onConfirm\n  confirmLoading.value = false\n  showConfirmModal.value = true\n}\n\nconst handleConfirmYes = async () => {\n  if (!confirmCallback) {\n    showConfirmModal.value = false\n    return\n  }\n  try {\n    confirmLoading.value = true\n    await confirmCallback()\n  } catch (e) {\n    console.error('Confirm action error', e)\n  } finally {\n    confirmLoading.value = false\n    showConfirmModal.value = false\n  }\n}\n\nconst handleConfirmNo = () => {\n  showConfirmModal.value = false\n  confirmCallback = null\n}\n\n// Methods\nconst loadData = async () => {\n  loadingStats.value = true\n  try {\n    const response = await api.get('/admin/stats')\n    stats.value = response.data.stats\n    user.value = authStore.user\n  } catch (error) {\n    console.error('Ошибка загрузки статистики:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка загрузки данных'\n    })\n  } finally {\n    loadingStats.value = false\n  }\n}\n\nconst handleFileSelect = (event) => {\n  const files = Array.from(event.target.files)\n  addFiles(files)\n}\n\nconst handleDrop = (event) => {\n  isDragover.value = false\n  const files = Array.from(event.dataTransfer.files)\n  addFiles(files)\n}\n\nconst addFiles = (files) => {\n  const excelFiles = files.filter(file => \n    file.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' ||\n    file.type === 'application/vnd.ms-excel' ||\n    file.name.endsWith('.xlsx') ||\n    file.name.endsWith('.xls')\n  )\n  \n  if (excelFiles.length !== files.length) {\n    notificationStore.addNotification({\n      type: 'warning',\n      message: 'Некоторые файлы не являются Excel файлами и были проигнорированы'\n    })\n  }\n  \n  selectedFiles.value = [...selectedFiles.value, ...excelFiles]\n}\n\nconst removeFile = (index) => {\n  selectedFiles.value.splice(index, 1)\n}\n\n// clearFiles removed — upload modal uses closeUploadModal to reset state\n\nconst filteredPartners = computed(() => {\n  let filtered = partners.value\n  \n  // Фильтр по статусу активности\n  if (partnerActiveFilter.value === 'active') {\n    filtered = filtered.filter(p => p.Active === 1 || p.Active === true)\n  } else if (partnerActiveFilter.value === 'inactive') {\n    filtered = filtered.filter(p => p.Active === 0 || p.Active === false)\n  }\n  \n  // Фильтр по дню рождения в этом месяце\n  if (partnerBirthdayFilter.value) {\n    const currentMonth = new Date().getMonth()\n    filtered = filtered.filter(p => {\n      if (!p.BirthDate) return false\n      const birthDate = new Date(p.BirthDate)\n      return birthDate.getMonth() === currentMonth\n    })\n  }\n  \n  // Поисковый фильтр\n  if (partnerSearchQuery.value) {\n    const query = partnerSearchQuery.value.toLowerCase()\n    filtered = filtered.filter(p => {\n      const name = (p.Name || p.name || '').toLowerCase()\n      const email = (p.Email || p.email || '').toLowerCase()\n      const inc = String(p.Inc || p.partnerId || '')\n      const alias = (p.Alias || p.alias || '').toLowerCase()\n      \n      return name.includes(query) || \n             email.includes(query) || \n             inc.includes(query) ||\n             alias.includes(query)\n    })\n  }\n  \n  return filtered\n})\n\n// Фильтрация документов\nconst filteredDocuments = computed(() => {\n  let filtered = unpublishedClaims.value\n  \n  // Фильтр по партнёру\n  if (documentPartnerFilter.value) {\n    filtered = filtered.filter(doc => String(doc.partnerId) === String(documentPartnerFilter.value))\n  }\n  \n  // Фильтр по диапазону дат загрузки\n  if (documentDateFrom.value) {\n    const fromDate = new Date(documentDateFrom.value)\n    fromDate.setHours(0, 0, 0, 0)\n    filtered = filtered.filter(doc => {\n      const docDate = new Date(doc.uploadedAt || doc.Created)\n      docDate.setHours(0, 0, 0, 0)\n      return docDate >= fromDate\n    })\n  }\n  \n  if (documentDateTo.value) {\n    const toDate = new Date(documentDateTo.value)\n    toDate.setHours(23, 59, 59, 999)\n    filtered = filtered.filter(doc => {\n      const docDate = new Date(doc.uploadedAt || doc.Created)\n      return docDate <= toDate\n    })\n  }\n  \n  // Поисковый фильтр по названию файла\n  if (documentSearchQuery.value) {\n    const query = documentSearchQuery.value.toLowerCase()\n    filtered = filtered.filter(doc => {\n      const fileName = (doc.fileName || doc.originalName || '').toLowerCase()\n      return fileName.includes(query)\n    })\n  }\n  \n  return filtered\n})\n\nconst filteredAuditLogs = computed(() => {\n  let filtered = auditLogs.value\n  \n  // Фильтр по администратору\n  if (auditAdminFilter.value) {\n    filtered = filtered.filter(log => String(log.admin_id) === String(auditAdminFilter.value))\n  }\n  \n  // Фильтр по типу сущности\n  if (auditEntityTypeFilter.value) {\n    filtered = filtered.filter(log => log.entity_type === auditEntityTypeFilter.value)\n  }\n  \n  // Фильтр по дате от\n  if (auditDateFrom.value) {\n    const fromDate = new Date(auditDateFrom.value)\n    fromDate.setHours(0, 0, 0, 0)\n    filtered = filtered.filter(log => {\n      const logDate = new Date(log.timestamp)\n      return logDate >= fromDate\n    })\n  }\n  \n  // Фильтр по дате до\n  if (auditDateTo.value) {\n    const toDate = new Date(auditDateTo.value)\n    toDate.setHours(23, 59, 59, 999)\n    filtered = filtered.filter(log => {\n      const logDate = new Date(log.timestamp)\n      return logDate <= toDate\n    })\n  }\n  \n  // Поисковый фильтр\n  if (auditSearchQuery.value) {\n    const query = auditSearchQuery.value.toLowerCase()\n    filtered = filtered.filter(log => {\n      const adminName = (log.admin_username || '').toLowerCase()\n      const action = (log.action || '').toLowerCase()\n      const entityName = (log.entity_name || '').toLowerCase()\n      return adminName.includes(query) || action.includes(query) || entityName.includes(query)\n    })\n  }\n  \n  return filtered\n})\n\nconst openUploadForPartner = (partner) => {\n  currentUploadPartnerId.value = partner.Inc\n  currentUploadPartnerName.value = partner.Name\n  selectedFiles.value = []\n  uploadResults.value = []\n  showUploadModal.value = true\n}\n\nconst closeUploadModal = () => {\n  showUploadModal.value = false\n  selectedFiles.value = []\n  uploadResults.value = []\n  currentUploadPartnerId.value = null\n  currentUploadPartnerName.value = ''\n}\n\nconst uploadFilesForPartner = async () => {\n  if (selectedFiles.value.length === 0 || !currentUploadPartnerId.value) return\n  \n  uploading.value = true\n  const formData = new FormData()\n  \n  // Собираем массив partner IDs - все файлы для одного партнера\n  const partnerIds = []\n  \n  // Add files and collect partner IDs\n  selectedFiles.value.forEach((file) => {\n    formData.append('files', file)\n    partnerIds.push(currentUploadPartnerId.value)\n  })\n  \n  // Отправляем массив партнеров как JSON\n  formData.append('partnerIds', JSON.stringify(partnerIds))\n  \n  try {\n    const response = await api.post('/admin/upload-files', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n    \n    uploadResults.value = [\n      ...response.data.results.map(r => ({ ...r, success: true })),\n      ...response.data.errors.map(e => ({ ...e, success: false }))\n    ]\n    \n    notificationStore.addNotification({\n      type: 'success',\n      message: response.data.message\n    })\n    \n    selectedFiles.value = []\n    refreshDocuments()\n    \n    // Redirect to partner documents to publish\n    const uploadedPartner = {\n      Inc: currentUploadPartnerId.value,\n      Name: currentUploadPartnerName.value\n    }\n    closeUploadModal()\n    await viewPartnerDocuments(uploadedPartner)\n    \n  } catch (error) {\n    console.error('Ошибка загрузки файлов:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка загрузки файлов: ' + (error.response?.data?.message || error.message)\n    })\n  } finally {\n    uploading.value = false\n  }\n}\n\nconst refreshDocuments = async () => {\n  loadingDocuments.value = true\n  try {\n    const endpoint = documentsFilter.value === 'unpublished' ? '/admin/unpublished-claims' : '/admin/published-claims'\n    const response = await api.get(endpoint)\n    unpublishedClaims.value = response.data.data\n    selectedClaims.value = []\n  } catch (error) {\n    console.error('Ошибка загрузки документов:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка загрузки документов'\n    })\n  } finally {\n    loadingDocuments.value = false\n  }\n}\n\n// Auto upload functions (с определением партнёра из Excel)\nconst handleAutoUploadDrop = (e) => {\n  isAutoUploadDragover.value = false\n  const files = Array.from(e.dataTransfer.files).filter(f => \n    f.name.endsWith('.xlsx') || f.name.endsWith('.xls')\n  )\n  autoUploadFiles.value = [...autoUploadFiles.value, ...files]\n}\n\nconst handleAutoUploadFileSelect = (e) => {\n  const files = Array.from(e.target.files)\n  autoUploadFiles.value = [...autoUploadFiles.value, ...files]\n  e.target.value = '' // Reset input\n}\n\nconst removeAutoUploadFile = (index) => {\n  autoUploadFiles.value.splice(index, 1)\n}\n\nconst uploadAutoFiles = async () => {\n  if (autoUploadFiles.value.length === 0) return\n  \n  autoUploading.value = true\n  const formData = new FormData()\n  \n  autoUploadFiles.value.forEach(file => {\n    formData.append('files', file)\n  })\n  \n  try {\n    const response = await api.post('/admin/auto-upload-files', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n    \n    autoUploadResults.value = [\n      ...response.data.results.map(r => ({ \n        ...r, \n        success: true,\n        fileName: r.fileName || r.filename,\n        partnerName: r.partnerName\n      })),\n      ...response.data.errors.map(e => ({ \n        ...e, \n        success: false,\n        fileName: e.fileName || e.filename\n      }))\n    ]\n    \n    const successCount = response.data.results.length\n    const errorCount = response.data.errors.length\n    \n    if (successCount > 0) {\n      notificationStore.addNotification({\n        type: 'success',\n        message: `Успешно загружено: ${successCount} файл(ов)`\n      })\n    }\n    \n    if (errorCount > 0) {\n      notificationStore.addNotification({\n        type: 'error',\n        message: `Ошибок: ${errorCount} файл(ов)`\n      })\n    }\n    \n    autoUploadFiles.value = []\n    refreshDocuments()\n    \n  } catch (error) {\n    console.error('Ошибка автоматической загрузки:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка загрузки: ' + (error.response?.data?.message || error.message)\n    })\n  } finally {\n    autoUploading.value = false\n  }\n}\n\nconst publishDocument = async (claimId) => {\n  try {\n    await api.post('/admin/publish-claims', {\n      claimIds: [claimId]\n    })\n    \n    notificationStore.addNotification({\n      type: 'success',\n      message: 'Документ успешно опубликован'\n    })\n    \n    refreshDocuments()\n    loadData()\n    \n  } catch (error) {\n    console.error('Ошибка публикации:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка публикации документа'\n    })\n  }\n}\n\nconst publishSelectedDocuments = async () => {\n  if (selectedClaims.value.length === 0) return\n  \n  publishing.value = true\n  try {\n    const response = await api.post('/admin/publish-claims', {\n      claimIds: selectedClaims.value\n    })\n    \n    notificationStore.addNotification({\n      type: 'success',\n      message: response.data.message\n    })\n    \n    refreshDocuments()\n    loadData()\n    \n  } catch (error) {\n    console.error('Ошибка публикации:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка публикации документов'\n    })\n  } finally {\n    publishing.value = false\n  }\n}\n\nconst publishAllDocuments = async () => {\n  const allClaimIds = unpublishedClaims.value.map(claim => getClaimId(claim))\n  selectedClaims.value = allClaimIds\n  await publishSelectedDocuments()\n}\n\nconst unpublishDocument = async (claimId) => {\n  if (!claimId) {\n    notificationStore.addNotification({ type: 'error', message: 'Не удалось определить ID документа' })\n    return\n  }\n\n  openConfirm({\n    title: 'Снятие публикации',\n    message: 'Вы уверены, что хотите снять публикацию этого документа? Партнёр больше не сможет его видеть.',\n    okText: 'Снять публикацию',\n    cancelText: 'Отмена',\n    onConfirm: async () => {\n      try {\n        await api.post('/admin/unpublish-claims', {\n          claimIds: [claimId]\n        })\n\n        notificationStore.addNotification({\n          type: 'success',\n          message: 'Публикация документа снята'\n        })\n\n        refreshDocuments()\n        loadData()\n\n      } catch (error) {\n        console.error('Ошибка снятия публикации:', error)\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка снятия публикации: ' + (error.response?.data?.message || error.message)\n        })\n        throw error\n      }\n    }\n  })\n}\n\nconst deleteDocument = async (claimId) => {\n  if (!claimId) {\n    notificationStore.addNotification({ type: 'error', message: 'Не удалось определить ID документа' })\n    return\n  }\n\n  openConfirm({\n    title: 'Удаление документа',\n    message: 'Вы уверены, что хотите удалить этот документ?',\n    okText: 'Удалить',\n    cancelText: 'Отмена',\n    onConfirm: async () => {\n      try {\n        await api.delete(`/admin/claims/${claimId}`)\n\n        notificationStore.addNotification({\n          type: 'success',\n          message: 'Документ успешно удален'\n        })\n\n        refreshDocuments()\n        loadData()\n\n      } catch (error) {\n        console.error('Ошибка удаления:', error)\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка удаления документа: ' + (error.response?.data?.message || error.message)\n        })\n        throw error\n      }\n    }\n  })\n}\n\n// Partner management methods\nconst editPartner = (partner) => {\n  partnerToEdit.value = {\n    Inc: partner.Inc,\n    name: partner.Name,\n    email: partner.Email,\n    telegram: partner.Telegram,\n    alias: partner.Alias || '',\n    birthDate: partner.BirthDate ? partner.BirthDate.split('T')[0] : '',\n    active: partner.Active !== 0,\n    newPassword: ''\n  }\n  showEditPartnerModal.value = true\n}\n\nconst updatePartner = async () => {\n  editingPartner.value = true\n  try {\n    const updateData = {\n      name: partnerToEdit.value.name,\n      email: partnerToEdit.value.email,\n      telegram: partnerToEdit.value.telegram,\n      alias: partnerToEdit.value.alias,\n      birthDate: partnerToEdit.value.birthDate || null,\n      active: partnerToEdit.value.active ? 1 : 0\n    }\n    \n    if (partnerToEdit.value.newPassword) {\n      updateData.password = partnerToEdit.value.newPassword\n    }\n    \n    await api.put(`/admin/partners/${partnerToEdit.value.Inc}`, updateData)\n    \n    notificationStore.addNotification({\n      type: 'success',\n      message: 'Партнер успешно обновлен'\n    })\n    \n    showEditPartnerModal.value = false\n    partnerToEdit.value = null\n    loadPartners()\n    \n  } catch (error) {\n    console.error('Ошибка обновления партнера:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка обновления партнера: ' + (error.response?.data?.message || error.message)\n    })\n  } finally {\n    editingPartner.value = false\n  }\n}\n\nconst deletePartner = async (partner) => {\n  openConfirm({\n    title: 'Удаление партнера',\n    message: `Вы уверены, что хотите удалить партнера \"${partner.Name}\"? Это действие нельзя отменить.`,\n    okText: 'Удалить',\n    cancelText: 'Отмена',\n    onConfirm: async () => {\n      try {\n        await api.delete(`/admin/partners/${partner.Inc}`)\n\n        notificationStore.addNotification({\n          type: 'success',\n          message: 'Партнер успешно удален'\n        })\n\n        loadPartners()\n        loadData()\n\n      } catch (error) {\n        console.error('Ошибка удаления партнера:', error)\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка удаления партнера: ' + (error.response?.data?.message || error.message)\n        })\n        throw error\n      }\n    }\n  })\n}\n\nconst viewPartnerDocuments = async (partner) => {\n  partnerToEdit.value = partner\n  loadingPartnerDocuments.value = true\n  try {\n    const response = await api.get(`/admin/partners/${partner.Inc}/documents`)\n    partnerDocuments.value = response.data.documents\n    showPartnerDocumentsModal.value = true\n  } catch (error) {\n    console.error('Ошибка загрузки документов:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка загрузки документов партнера'\n    })\n  } finally {\n    loadingPartnerDocuments.value = false\n  }\n}\n\nconst getDocDate = (doc) => {\n  // try multiple possible fields, prioritize created from Partner sheet\n  return doc.created ?? doc.Created ?? doc.uploadedAt ?? doc.uploaded_at ?? doc.uploadedAtRaw ?? doc.publishedAt ?? doc.PublishedAt ?? doc.dateBeg ?? doc.DateBeg ?? doc.CreatedAt ?? null\n}\n\nconst isPublished = (doc) => {\n  if (!doc) return false\n  if (doc.publishedAt || doc.PublishedAt) return true\n  if (typeof doc.Published !== 'undefined') return Boolean(doc.Published)\n  if (typeof doc.published !== 'undefined') return Boolean(doc.published)\n  if (doc.Status) {\n    try {\n      return String(doc.Status).toLowerCase().includes('pub')\n    } catch (e) {\n      // ignore\n    }\n  }\n  return false\n}\n\nconst publishPartnerDocument = async (doc) => {\n  const id = getClaimId(doc) || doc.claimId || doc.ClaimId || doc.DocumentId || doc.inc\n  if (!id) return\n  try {\n    await api.post('/admin/publish-claims', { claimIds: [id] })\n    notificationStore.addNotification({ type: 'success', message: 'Документ опубликован' })\n    // reload list\n    await viewPartnerDocuments(partnerToEdit.value)\n    loadData()\n  } catch (error) {\n    console.error('Ошибка публикации документа партнера:', error)\n    notificationStore.addNotification({ type: 'error', message: 'Ошибка публикации документа' })\n  }\n}\n\nconst confirmDeletePartnerDocument = (doc) => {\n  const published = isPublished(doc)\n  openConfirm({\n    title: published ? 'Удалить опубликованный документ' : 'Удалить документ',\n    message: published\n      ? 'Документ опубликован. Удаление приведет к удалению опубликованной версии. Вы уверены?'\n      : 'Вы уверены, что хотите удалить документ?',\n    okText: 'Удалить',\n    cancelText: 'Отмена',\n    onConfirm: async () => {\n      await deletePartnerDocument(doc)\n    }\n  })\n}\n\nconst deletePartnerDocument = async (doc) => {\n  const id = getClaimId(doc) || doc.claimId || doc.ClaimId || doc.DocumentId || doc.inc\n  if (!id) return\n  try {\n    // If document is published, pass force=true to allow deletion\n    const force = isPublished(doc)\n    const url = `/admin/claims/${id}` + (force ? '?force=true' : '')\n    await api.delete(url)\n    notificationStore.addNotification({ type: 'success', message: 'Документ удалён' })\n    await viewPartnerDocuments(partnerToEdit.value)\n    loadData()\n  } catch (error) {\n    console.error('Ошибка удаления документа партнера:', error)\n    notificationStore.addNotification({ type: 'error', message: 'Ошибка удаления документа' })\n  }\n}\n\nconst toggleSelectAll = () => {\n  if (selectedClaims.value.length === filteredDocuments.value.length && filteredDocuments.value.length > 0) {\n    selectedClaims.value = []\n  } else {\n    selectedClaims.value = filteredDocuments.value.map(claim => getClaimId(claim))\n  }\n}\n\nconst viewDocument = async (claimId) => {\n  try {\n    loadingCurrentDocument.value = true\n    showViewDocumentModal.value = true\n    \n    const response = await api.get(`/admin/claims/${claimId}`)\n    currentDocument.value = response.data.data\n    excelData.value = response.data.excelData\n  } catch (error) {\n    console.error('Ошибка загрузки документа:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка загрузки документа'\n    })\n    showViewDocumentModal.value = false\n  } finally {\n    loadingCurrentDocument.value = false\n  }\n}\n\nconst downloadDocument = async (claimId) => {\n  try {\n    const response = await api.get(`/admin/claims/${claimId}/download`, {\n      responseType: 'blob'\n    })\n    \n    // Получаем имя файла из заголовка или используем имя из currentDocument\n    const contentDisposition = response.headers['content-disposition'] || response.headers['Content-Disposition']\n    let filename = getDisplayFileName(currentDocument.value) || 'document.xlsx'\n    if (contentDisposition) {\n      // Try RFC 5987 filename* first\n      const filenameStarMatch = contentDisposition.match(/filename\\*=(?:[\\w'']*)?([^;\\n]+)/i)\n      if (filenameStarMatch && filenameStarMatch[1]) {\n        try {\n          // filename*=UTF-8''%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80.xlsx\n          const v = filenameStarMatch[1].trim().replace(/^UTF-8''/i, '')\n          filename = decodeURIComponent(v.replace(/\"/g, ''))\n        } catch (e) {\n          // ignore\n        }\n      } else {\n        const filenameMatch = contentDisposition.match(/filename[^;=\\n]*=(['\"]?)([^'\"\\n]*?)\\1/)\n        if (filenameMatch && filenameMatch[2]) {\n          filename = filenameMatch[2]\n        }\n      }\n    }\n    // If filename still not usable, build fallback (ensures extension)\n    if (!filename || filename === '—') {\n      filename = buildFallbackFilename(currentDocument.value)\n    }\n    \n    // Создаем ссылку для скачивания\n    const url = window.URL.createObjectURL(new Blob([response.data]))\n    const link = document.createElement('a')\n    link.href = url\n    link.setAttribute('download', filename)\n    document.body.appendChild(link)\n    link.click()\n    link.remove()\n    window.URL.revokeObjectURL(url)\n    \n    notificationStore.addNotification({\n      type: 'success',\n      message: 'Файл успешно скачан'\n    })\n  } catch (error) {\n    console.error('Ошибка скачивания:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка скачивания файла'\n    })\n  }\n}\n\nconst loadPartners = async () => {\n  loadingPartners.value = true\n  try {\n    const response = await api.get('/admin/partners')\n    partners.value = response.data.data\n  } catch (error) {\n    console.error('Ошибка загрузки партнеров:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка загрузки партнеров'\n    })\n  } finally {\n    loadingPartners.value = false\n  }\n}\n\nconst createPartner = async () => {\n  creatingPartner.value = true\n  try {\n    await api.post('/admin/partners', newPartner.value)\n    \n    let message = 'Партнер успешно создан'\n    \n    notificationStore.addNotification({\n      type: 'success',\n      message: message\n    })\n    \n    showCreatePartnerModal.value = false\n    newPartner.value = { name: '', email: '', telegram: '', alias: '', password: '', birthDate: '', active: true }\n    loadPartners()\n    loadData()\n    \n  } catch (error) {\n    console.error('Ошибка создания партнера:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка создания партнера: ' + (error.response?.data?.message || error.message)\n    })\n  } finally {\n    creatingPartner.value = false\n  }\n}\n\n// Utility functions\nconst formatFileSize = (bytes) => {\n  if (bytes === 0) return '0 Bytes'\n  if (bytes == null || isNaN(Number(bytes))) return '—'\n  const b = Number(bytes)\n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(b) / Math.log(k))\n  const idx = Math.min(Math.max(i, 0), sizes.length - 1)\n  return parseFloat((b / Math.pow(k, idx)).toFixed(2)) + ' ' + sizes[idx]\n}\n\n// ============= МЕТОДЫ ДЛЯ УПРАВЛЕНИЯ АДМИНАМИ (только для superadmin) =============\n\nconst loadAdmins = async () => {\n  if (!isSuperAdmin.value) return\n  \n  loadingAdmins.value = true\n  try {\n    const response = await api.get('/admin/admins')\n    admins.value = response.data.admins\n  } catch (error) {\n    console.error('Ошибка загрузки админов:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка загрузки списка администраторов'\n    })\n  } finally {\n    loadingAdmins.value = false\n  }\n}\n\nconst createAdmin = async () => {\n  if (!newAdmin.value.username || !newAdmin.value.email || !newAdmin.value.password) {\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Заполните все обязательные поля'\n    })\n    return\n  }\n  \n  creatingAdmin.value = true\n  try {\n    await api.post('/admin/admins', newAdmin.value)\n    \n    notificationStore.addNotification({\n      type: 'success',\n      message: 'Администратор успешно создан'\n    })\n    \n    showCreateAdminModal.value = false\n    newAdmin.value = { username: '', email: '', password: '' }\n    \n    await loadAdmins()\n  } catch (error) {\n    console.error('Ошибка создания админа:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: error.response?.data?.message || 'Ошибка создания администратора'\n    })\n  } finally {\n    creatingAdmin.value = false\n  }\n}\n\nconst confirmDeleteAdmin = (admin) => {\n  openConfirm({\n    title: 'Удалить администратора',\n    message: `Вы уверены, что хотите удалить администратора \"${admin.username}\"?`,\n    confirmText: 'Удалить',\n    onConfirm: () => deleteAdmin(admin)\n  })\n}\n\nconst deleteAdmin = async (admin) => {\n  try {\n    await api.delete(`/admin/admins/${admin.inc}`)\n    \n    notificationStore.addNotification({\n      type: 'success',\n      message: 'Администратор удален'\n    })\n    \n    await loadAdmins()\n  } catch (error) {\n    console.error('Ошибка удаления админа:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: error.response?.data?.message || 'Ошибка удаления администратора'\n    })\n  }\n}\n\nconst openEditAdminModal = (admin) => {\n  adminToEdit.value = admin\n  editAdminData.value = {\n    username: admin.username,\n    email: admin.email || '',\n    password: ''\n  }\n  showEditAdminModal.value = true\n}\n\nconst updateAdmin = async () => {\n  if (!editAdminData.value.username || !editAdminData.value.email) {\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Заполните все обязательные поля'\n    })\n    return\n  }\n\n  if (editAdminData.value.password && editAdminData.value.password.length < 6) {\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Пароль должен быть минимум 6 символов'\n    })\n    return\n  }\n\n  try {\n    editingAdmin.value = true\n    \n    await api.put(`/admin/admins/${adminToEdit.value.inc}`, editAdminData.value)\n    \n    notificationStore.addNotification({\n      type: 'success',\n      message: 'Данные администратора обновлены'\n    })\n    \n    showEditAdminModal.value = false\n    editAdminData.value = { username: '', email: '', password: '' }\n    await loadAdmins()\n  } catch (error) {\n    console.error('Ошибка обновления админа:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: error.response?.data?.message || 'Ошибка обновления администратора'\n    })\n  } finally {\n    editingAdmin.value = false\n  }\n}\n\n// ============= AUDIT LOGS =============\n\nconst loadAuditLogs = async () => {\n  if (!isSuperAdmin.value) return\n  \n  try {\n    loadingAuditLogs.value = true\n    \n    const params = {}\n    if (auditAdminFilter.value) params.adminId = auditAdminFilter.value\n    if (auditEntityTypeFilter.value) params.entityType = auditEntityTypeFilter.value\n    if (auditDateFrom.value) params.dateFrom = auditDateFrom.value\n    if (auditDateTo.value) params.dateTo = auditDateTo.value\n    if (auditSearchQuery.value) params.search = auditSearchQuery.value\n    \n    const response = await api.get('/audit-logs', { params })\n    auditLogs.value = response.data.logs\n    \n  } catch (error) {\n    console.error('Ошибка загрузки audit logs:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка загрузки журнала событий'\n    })\n  } finally {\n    loadingAuditLogs.value = false\n  }\n}\n\nconst refreshAuditLogs = () => {\n  loadAuditLogs()\n}\n\nconst clearAuditFilters = () => {\n  auditSearchQuery.value = ''\n  auditAdminFilter.value = ''\n  auditEntityTypeFilter.value = ''\n  auditDateFrom.value = ''\n  auditDateTo.value = ''\n}\n\nconst showAuditDetails = (log) => {\n  selectedAuditLog.value = log\n  showAuditDetailsModal.value = true\n}\n\nconst formatAction = (action) => {\n  const translations = {\n    // Партнёры\n    'create_partner': 'Создание партнёра',\n    'update_partner': 'Обновление партнёра',\n    'delete_partner': 'Удаление партнёра',\n    \n    // Документы\n    'upload_document': 'Загрузка документа',\n    'auto_upload_files': 'Автозагрузка документов',\n    'publish_claims': 'Публикация претензий',\n    'publish_document': 'Публикация документа',\n    'unpublish_claims': 'Снятие публикации претензий',\n    'delete_claim': 'Удаление претензии',\n    'delete_document': 'Удаление документа',\n    \n    // Администраторы\n    'create_admin': 'Создание администратора',\n    'update_admin': 'Обновление администратора',\n    'delete_admin': 'Удаление администратора',\n    'update_admin_password': 'Изменение пароля администратора',\n    \n    // Авторизация\n    'login': 'Вход в систему',\n    'logout': 'Выход из системы',\n    'admin_login': 'Вход администратора',\n    'admin_login_attempt': 'Попытка входа',\n    'admin_logout': 'Выход администратора',\n    'partner_login': 'Вход партнёра',\n    'partner_logout': 'Выход партнёра',\n    \n      // Прочее\n      'view_document': 'Просмотр документа',\n      'view_documents': 'Просмотр документов',\n      'download_document': 'Скачивание документа',\n      'password_reset_request': 'Запрос сброса пароля',\n      'password_reset_complete': 'Завершение сброса пароля',\n      'export_data': 'Экспорт данных',\n      'import_data': 'Импорт данных',\n      'system_config_change': 'Изменение настроек системы',\n      'partner_login_attempt': 'Попытка входа партнёра',\n      'upload_files': 'Загрузка файлов'\n  }\n  return translations[action] || action\n}\n\nconst formatEntityType = (type) => {\n  const translations = {\n    'partner': 'Партнёр',\n    'document': 'Документ',\n    'claim': 'Претензия',\n    'admin': 'Администратор'\n  }\n  return type ? translations[type] || type : '—'\n}\n\nconst getActionBadgeClass = (action) => {\n  if (action.includes('create') || action.includes('upload')) return 'badge-success'\n  if (action.includes('update') || action.includes('change')) return 'badge-warning'\n  if (action.includes('delete')) return 'badge-danger'\n  if (action.includes('publish') || action.includes('view') || action.includes('download')) return 'badge-info'\n  if (action.includes('login') || action.includes('logout')) return 'badge-purple'\n  if (action.includes('export') || action.includes('import')) return 'badge-teal'\n  return 'badge-default'\n}\n\nconst getAdminName = (log) => {\n  if (log.admin_username && log.admin_username !== '—') return log.admin_username\n  if (log.details?.adminUsername) return log.details.adminUsername\n\n  const possibleId = log.userId || log.details?.adminId || log.details?.admin_id || null\n  if (possibleId) {\n    // Попробуем найти в загруженных админах\n    const found = admins.value.find(a => a.inc === possibleId || a.inc === Number(possibleId))\n    if (found) return found.username\n    return `ID:${possibleId}`\n  }\n\n  return 'Система'\n}\n\n// NOTE: `Тип` и `Сущность` больше не отображаются в UI; helper functions removed to satisfy linter\n\n// ============= УТИЛИТЫ =============\n\nconst toTimestampMs = (value) => {\n  if (value == null || value === '') return null\n  // If numeric (seconds or milliseconds)\n  if (typeof value === 'number') {\n    // If looks like seconds (<= 10^11), convert to ms\n    return value < 1e12 ? value * 1000 : value\n  }\n  // If string of digits\n  if (/^\\d+$/.test(String(value))) {\n    const n = parseInt(value, 10)\n    return n < 1e12 ? n * 1000 : n\n  }\n  // If string looks like 'YYYY-MM-DD HH:mm:ss' or 'YYYY/MM/DD HH:mm:ss', treat as UTC\n  if (typeof value === 'string' && /^\\d{4}[-/]\\d{2}[-/]\\d{2}[ T]\\d{2}:\\d{2}:\\d{2}$/.test(value)) {\n    // normalize to ISO and append Z to force UTC\n    const iso = value.replace(' ', 'T').replace(/\\//g, '-') + 'Z'\n    const parsedIso = Date.parse(iso)\n    return isNaN(parsedIso) ? null : parsedIso\n  }\n  // Otherwise let Date parse the string (ISO, etc.)\n  const parsed = Date.parse(value)\n  return isNaN(parsed) ? null : parsed\n}\n\nconst formatDate = (date) => {\n  const ts = toTimestampMs(date)\n  if (!ts) return ''\n  return new Date(ts).toLocaleDateString('ru-RU', { timeZone: 'Europe/Moscow' })\n}\n\nconst formatDateTime = (date) => {\n  const ts = toTimestampMs(date)\n  if (!ts) return ''\n  return new Date(ts).toLocaleString('ru-RU', { \n    timeZone: 'Europe/Moscow',\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\nconst formatPeriod = (dateFrom, dateTo) => {\n  if (!dateFrom || !dateTo) return '—'\n  const from = new Date(dateFrom).toLocaleDateString('ru-RU')\n  const to = new Date(dateTo).toLocaleDateString('ru-RU')\n  return `${from} — ${to}`\n}\n\n// Format currency helper (kept for reuse if needed elsewhere)\nconst formatCurrency = (amount) => {\n  if (amount === null || amount === undefined) return '—'\n  return new Intl.NumberFormat('ru-RU', { minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(amount)\n}\n\n// Helper to get claim id regardless of backend field naming\nconst getClaimId = (claim) => {\n  if (!claim) return null\n  return claim.Inc ?? claim.inc ?? claim.id ?? claim.ClaimId ?? null\n}\n\n// Friendly filename getter with fallbacks\nconst getDisplayFileName = (doc) => {\n  if (!doc) return '—'\n  const name = doc.fileName || doc.FileName || doc.originalName || doc.originalname || doc.filename || doc.FileNameDownload\n  if (name && String(name).trim() !== '') return name\n  return buildFallbackFilename(doc)\n}\n\n// Build a readable, filesystem-safe fallback filename when original name is missing\nconst buildFallbackFilename = (doc) => {\n  if (!doc) return 'document.xlsx'\n  const parts = []\n  const type = doc.type || doc.Type || ''\n  const partner = doc.PartnerName || doc.partnerName || doc.Name || doc.name || ''\n  const inc = doc.inc ?? doc.Inc ?? doc.id ?? ''\n\n  if (type) parts.push(String(type))\n  if (partner) parts.push(String(partner))\n  if (inc) parts.push(`#${inc}`)\n\n  // Period: try dateBeg/dateEnd\n  const from = doc.dateBeg ?? doc.DateBeg ?? doc.dateBegRaw ?? null\n  const to = doc.dateEnd ?? doc.DateEnd ?? doc.dateEndRaw ?? null\n  if (from && to) {\n    const f = toTimestampMs(from)\n    const t = toTimestampMs(to)\n    if (f && t) {\n      const d1 = new Date(f)\n      const d2 = new Date(t)\n      const pf = `${d1.getFullYear()}${String(d1.getMonth()+1).padStart(2,'0')}`\n      const pt = `${d2.getFullYear()}${String(d2.getMonth()+1).padStart(2,'0')}`\n      parts.push(`${pf}-${pt}`)\n    }\n  }\n\n  let filename = parts.join(' - ')\n  if (!filename) filename = `document${inc ? `-${inc}` : ''}`\n  // sanitize: remove slashes and quotes\n  filename = filename.replace(/[\\\\/:*?\"<>|]/g, '').trim()\n  // append default extension\n  if (!/\\.[a-z0-9]+$/i.test(filename)) filename += '.xlsx'\n  return filename\n}\n\nconst getStatusLabel = (status) => {\n  const labels = {\n    uploaded: 'Загружен',\n    published: 'Опубликован',\n    error: 'Ошибка'\n  }\n  return labels[status] || status\n}\n\n// Watch activeTab to load data\nconst handleTabChange = () => {\n  if (activeTab.value === 'documents') {\n    refreshDocuments()\n  } else if (activeTab.value === 'partners') {\n    loadPartners()\n  } else if (activeTab.value === 'admins' && isSuperAdmin.value) {\n    loadAdmins()\n  } else if (activeTab.value === 'audit' && isSuperAdmin.value) {\n    loadAuditLogs()\n  }\n}\n\n// Lifecycle\nonMounted(() => {\n  loadData()\n  handleTabChange()\n  // ensure helper is treated as used by linters\n  void formatCurrency(0)\n})\n\n// Watch activeTab\nwatch(activeTab, handleTabChange)\n</script>\n\n<style>\n@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n\nhtml, body, #app {\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n  font-weight: 400;\n}\n</style>\n\n<style scoped>\n.admin-dashboard {\n  min-height: 100vh;\n  background: #f8fafc;\n  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n  font-weight: 400;\n  position: relative;\n}\n\n.dashboard-container {\n  max-width: 1400px;\n  margin: 0 auto;\n  padding: 24px;\n}\n\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 20px;\n  margin-bottom: 30px;\n}\n\n.stat-card {\n  background: white;\n  border-radius: 16px;\n  padding: 24px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  transition: all 0.2s ease;\n  border: 1px solid #e5e7eb;\n  position: relative;\n}\n\n.stat-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 16px;\n  right: 16px;\n  height: 3px;\n  background: #2563eb;\n  border-radius: 2px;\n}\n\n.stat-card:hover {\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  border-color: #2563eb;\n}\n\n.stat-icon {\n  font-size: 2.5rem;\n  opacity: 0.9;\n  color: #2563eb;\n}\n\n.stat-content {\n  flex: 1;\n}\n\n.stat-value {\n  font-size: 1.8rem;\n  font-weight: 700;\n  color: #1e293b;\n  margin-bottom: 6px;\n}\n\n.stat-label {\n  color: #64748b;\n  font-size: 0.9rem;\n  font-weight: 500;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.tabs {\n  display: flex;\n  background: white;\n  border-radius: 0;\n  margin-bottom: 0;\n  overflow: hidden;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n  border: 1px solid #e5e7eb;\n  border-bottom: 2px solid #e5e7eb;\n}\n\n.tab {\n  flex: 1;\n  padding: 16px 24px;\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  color: #6b7280;\n  transition: all 0.2s ease;\n  position: relative;\n  text-align: center;\n  border-bottom: 2px solid transparent;\n  margin-bottom: -2px;\n}\n\n.tab:hover {\n  color: #2563eb;\n  background: #f9fafb;\n}\n\n.tab.active {\n  color: #2563eb;\n  background: white;\n  font-weight: 600;\n  border-bottom-color: #2563eb;\n}\n\n.tab {\n  flex: 1;\n  padding: 16px 24px;\n  border: none;\n  background: #f8f9fa;\n  color: #6c757d;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  border-bottom: 3px solid transparent;\n  transition: all 0.2s;\n}\n\n.tab:hover {\n  background: #e9ecef;\n  color: #495057;\n}\n\n.tab.active {\n  background: white;\n  color: #007bff;\n  border-bottom-color: #007bff;\n}\n\n.tab-content {\n  background: white;\n  border-radius: 0 0 12px 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  min-height: 500px;\n}\n\n.upload-section {\n  padding: 30px;\n}\n\n.upload-area {\n  border: 2px dashed #ddd;\n  border-radius: 12px;\n  padding: 60px 30px;\n  text-align: center;\n  margin-bottom: 30px;\n  transition: all 0.2s;\n  cursor: pointer;\n}\n\n.upload-area:hover,\n.upload-area.dragover {\n  border-color: #007bff;\n  background: #f8f9ff;\n}\n\n.upload-icon {\n  font-size: 3rem;\n  margin-bottom: 20px;\n  opacity: 0.6;\n}\n\n.upload-content p {\n  margin: 8px 0;\n  color: #6c757d;\n}\n\n.upload-hint {\n  font-size: 12px !important;\n  color: #adb5bd !important;\n}\n\n.link-btn {\n  color: #007bff;\n  text-decoration: underline;\n  border: none;\n  background: none;\n  cursor: pointer;\n}\n\n.upload-instructions {\n  background: #f8fafc;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 20px 24px;\n  margin-bottom: 24px;\n}\n\n.upload-instructions h4 {\n  margin: 0 0 12px 0;\n  color: #1e293b;\n  font-size: 16px;\n  font-weight: 600;\n}\n\n.upload-instructions p {\n  margin: 0 0 12px 0;\n  color: #475569;\n  line-height: 1.6;\n}\n\n.upload-instructions ul {\n  margin: 0;\n  padding-left: 20px;\n  color: #64748b;\n}\n\n.upload-instructions li {\n  margin: 6px 0;\n  line-height: 1.5;\n}\n\n.selected-files {\n  margin-bottom: 30px;\n}\n\n.files-list {\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  overflow: hidden;\n  margin: 16px 0;\n}\n\n.file-list {\n  border: 1px solid #e9ecef;\n  border-radius: 8px;\n  overflow: hidden;\n  margin: 16px 0;\n}\n\n.file-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  border-bottom: 1px solid #e9ecef;\n}\n\n.file-item:last-child {\n  border-bottom: none;\n}\n\n.file-info {\n  flex: 1;\n}\n\n.file-name {\n  font-weight: 500;\n  color: #2c3e50;\n}\n\n.file-size {\n  font-size: 12px;\n  color: #6c757d;\n}\n\n.remove-btn {\n  background: #b91c1c;\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 26px;\n  height: 26px;\n  cursor: pointer;\n  font-size: 16px;\n  line-height: 1;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.remove-btn:hover {\n  background: #991b1b;\n}\n\n.upload-actions {\n  display: flex;\n  gap: 12px;\n}\n\n.upload-results {\n  margin-top: 30px;\n  padding-top: 30px;\n  border-top: 1px solid #e9ecef;\n}\n\n.results-summary {\n  display: flex;\n  gap: 20px;\n  margin-bottom: 16px;\n}\n\n.results-summary .success {\n  color: #16a34a;\n  font-weight: 500;\n}\n\n.results-summary .error {\n  color: #b91c1c;\n  font-weight: 500;\n}\n\n.results-list {\n  border: 1px solid #e9ecef;\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.result-item {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 12px 16px;\n  border-bottom: 1px solid #e9ecef;\n}\n\n.result-item:last-child {\n  border-bottom: none;\n}\n\n.result-item.success {\n  background: #f0fdf4;\n}\n\n.result-item.error {\n  background: #fff5f5;\n  color: #b91c1c;\n}\n\n.result-icon {\n  font-size: 24px;\n  line-height: 1;\n}\n\n.result-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.result-file {\n  font-weight: 500;\n  color: #1e293b;\n}\n\n.result-message {\n  font-size: 13px;\n  color: #64748b;\n}\n\n.result-partner {\n  font-size: 13px;\n  color: #2563eb;\n  font-weight: 500;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px;\n  border-bottom: 1px solid #e5e7eb;\n  background: white;\n  flex-wrap: wrap;\n  gap: 16px;\n}\n\n.section-header h3 {\n  margin: 0;\n  color: #1e293b;\n  font-weight: 600;\n  font-size: 18px;\n}\n\n/* Панель фильтров */\n.filters-bar {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 16px 24px;\n  background: #f8fafc;\n  border-bottom: 1px solid #e5e7eb;\n  flex-wrap: wrap;\n}\n\n.filter-group {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.filter-group label {\n  font-size: 14px;\n  font-weight: 500;\n  color: #64748b;\n  white-space: nowrap;\n}\n\n.filter-buttons {\n  display: flex;\n  gap: 6px;\n}\n\n.filter-btn {\n  padding: 6px 14px;\n  border: 1px solid #cbd5e1;\n  background: white;\n  border-radius: 6px;\n  font-size: 13px;\n  color: #475569;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  font-weight: 500;\n}\n\n.filter-btn:hover {\n  background: #f1f5f9;\n  border-color: #94a3b8;\n}\n\n.filter-btn.active {\n  background: #2563eb;\n  border-color: #2563eb;\n  color: white;\n}\n\n.filter-input {\n  padding: 6px 12px;\n  border: 1px solid #cbd5e1;\n  border-radius: 6px;\n  font-size: 13px;\n  color: #1e293b;\n  min-width: 150px;\n  transition: all 0.2s ease;\n}\n\n.filter-input:focus {\n  outline: none;\n  border-color: #2563eb;\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n}\n\n.filter-select {\n  padding: 6px 12px;\n  border: 1px solid #cbd5e1;\n  border-radius: 6px;\n  font-size: 13px;\n  color: #1e293b;\n  min-width: 180px;\n  background: white;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.filter-select:focus {\n  outline: none;\n  border-color: #2563eb;\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  user-select: none;\n}\n\n.checkbox-label input[type=\"checkbox\"] {\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n}\n\n.checkbox-label span {\n  font-size: 13px;\n  color: #475569;\n  font-weight: 500;\n}\n\n.filter-stats {\n  margin-left: auto;\n  font-size: 13px;\n  color: #64748b;\n  font-weight: 500;\n  padding: 6px 14px;\n  background: white;\n  border: 1px solid #cbd5e1;\n  border-radius: 6px;\n}\n\n.actions {\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n}\n\n.upload-area {\n  border: 2px dashed #cbd5e1;\n  border-radius: 8px;\n  padding: 60px 40px;\n  text-align: center;\n  background: #f9fafb;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  position: relative;\n}\n\n.upload-area:hover {\n  border-color: #2563eb;\n  background: #f1f5f9;\n}\n\n.upload-area.dragover {\n  border-color: #2563eb;\n  background: #e0e7ff;\n  border-style: solid;\n}\n\n.upload-content p {\n  color: #64748b;\n  margin: 16px 0;\n  font-size: 16px;\n}\n\n.upload-hint {\n  color: #94a3b8;\n  font-size: 14px;\n}\n\n.link-btn {\n  color: #2563eb;\n  text-decoration: none;\n  font-weight: 500;\n  border-bottom: 1px solid transparent;\n  transition: all 0.2s ease;\n}\n\n.link-btn:hover {\n  border-bottom-color: #2563eb;\n}\n\n.documents-table,\n.partners-table,\n.admins-table {\n  width: 100%;\n  border-collapse: collapse;\n  background: white;\n  border-radius: 0;\n  overflow: hidden;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n}\n\n.documents-table th,\n.documents-table td,\n.partners-table th,\n.partners-table td,\n.admins-table th,\n.admins-table td {\n  padding: 14px 16px;\n  text-align: left;\n  border-bottom: 1px solid #e5e7eb;\n  font-size: 14px;\n}\n\n.documents-table th,\n.partners-table th,\n.admins-table th {\n  background: #f9fafb;\n  font-weight: 600;\n  color: #374151;\n  font-size: 13px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  white-space: nowrap;\n}\n\n.documents-table tbody tr,\n.partners-table tbody tr,\n.admins-table tbody tr {\n  transition: background-color 0.2s ease;\n}\n\n.documents-table tbody tr:hover,\n.partners-table tbody tr:hover,\n.admins-table tbody tr:hover {\n  background: #f9fafb;\n}\n\n.documents-table tbody tr:last-child td,\n.partners-table tbody tr:last-child td,\n.admins-table tbody tr:last-child td {\n  border-bottom: none;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 8px;\n}\n\n.bulk-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 24px;\n  background: #f9fafb;\n  border-top: 1px solid #e5e7eb;\n  flex-wrap: wrap;\n  gap: 12px;\n}\n\n.status {\n  padding: 4px 10px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-weight: 500;\n  text-transform: uppercase;\n  letter-spacing: 0.3px;\n  display: inline-block;\n}\n\n.status.uploaded {\n  background: #fef3c7;\n  color: #78350f;\n}\n\n.status.published {\n  background: #d1fae5;\n  color: #065f46;\n}\n\n.status.error {\n  background: #fee2e2;\n  color: #991b1b;\n}\n\n.status.active {\n  background: #d1fae5;\n  color: #065f46;\n}\n\n.status.inactive {\n  background: #fee2e2;\n  color: #991b1b;\n}\n\n.badge {\n  padding: 4px 12px;\n  border-radius: 12px;\n  font-size: 11px;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  display: inline-block;\n}\n\n.badge-superadmin {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  box-shadow: 0 2px 4px rgba(102, 126, 234, 0.3);\n}\n\n.badge-admin {\n  background: #e0e7ff;\n  color: #4f46e5;\n}\n\n/* Action Badge Styles */\n.action-badge {\n  padding: 4px 10px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-weight: 500;\n  display: inline-block;\n  white-space: nowrap;\n}\n\n.badge-success {\n  background: #d1fae5;\n  color: #065f46;\n}\n\n.badge-warning {\n  background: #fef3c7;\n  color: #92400e;\n}\n\n.badge-danger {\n  background: #fee2e2;\n  color: #991b1b;\n}\n\n.badge-info {\n  background: #dbeafe;\n  color: #1e40af;\n}\n\n.badge-purple {\n  background: #e9d5ff;\n  color: #6b21a8;\n}\n\n.badge-teal {\n  background: #ccfbf1;\n  color: #115e59;\n}\n\n.badge-default {\n  background: #f3f4f6;\n  color: #374151;\n}\n\n/* Audit Table Styles */\n.audit-table {\n  width: 100%;\n  border-collapse: separate;\n  border-spacing: 0;\n  background: white;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n  border: 1px solid #e5e7eb;\n}\n\n.audit-table th {\n  background: linear-gradient(180deg, #f9fafb 0%, #f3f4f6 100%);\n  font-weight: 600;\n  color: #1f2937;\n  font-size: 13px;\n  text-transform: uppercase;\n  letter-spacing: 0.8px;\n  padding: 16px 18px;\n  text-align: left;\n  border-bottom: 2px solid #e5e7eb;\n  white-space: nowrap;\n}\n\n.audit-table td {\n  padding: 16px 18px;\n  border-bottom: 1px solid #f3f4f6;\n  font-size: 14px;\n  color: #374151;\n  vertical-align: middle;\n}\n\n.audit-table tbody tr {\n  transition: all 0.2s ease;\n  background: white;\n}\n\n.audit-table tbody tr:hover {\n  background: linear-gradient(90deg, #f9fafb 0%, #ffffff 100%);\n  transform: translateX(2px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n.audit-table tbody tr:last-child td {\n  border-bottom: none;\n}\n\n/* Audit Cell Specific Styles */\n.audit-datetime {\n  font-weight: 500;\n  color: #6b7280;\n  font-size: 13px;\n  white-space: nowrap;\n}\n\n.admin-name {\n  font-weight: 500;\n  color: #1f2937;\n}\n\n.audit-action {\n  min-width: 180px;\n}\n\n.audit-type {\n  color: #6b7280;\n  font-size: 13px;\n}\n\n.entity-name {\n  color: #1f2937;\n}\n\n.btn-details {\n  background: #3b82f6;\n  color: white;\n  border: none;\n  padding: 6px 12px;\n  border-radius: 4px;\n  font-size: 12px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.btn-details:hover {\n  background: #2563eb;\n}\n\n.no-details {\n  color: #d1d5db;\n  font-size: 13px;\n}\n\n.password-status.set {\n  color: #16a34a;\n  font-weight: 600;\n}\n\n.password-status.not-set {\n  color: #b91c1c;\n  font-weight: 600;\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 20px;\n}\n\n.modal {\n  background: white;\n  border-radius: 8px;\n  width: 100%;\n  max-width: 500px;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);\n  border: 1px solid #e5e7eb;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px;\n  border-bottom: 1px solid #e5e7eb;\n  background: white;\n}\n\n.modal-header h3 {\n  margin: 0;\n  color: #1e293b;\n  font-weight: 600;\n  font-size: 18px;\n}\n\n.close-btn {\n  background: none;\n  border: none;\n  font-size: 24px;\n  cursor: pointer;\n  color: #6b7280;\n  transition: color 0.2s ease;\n  width: 32px;\n  height: 32px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.close-btn:hover {\n  background: #f3f4f6;\n  color: #1f2937;\n}\n\n.modal-body {\n  padding: 24px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 6px;\n  font-weight: 500;\n  color: #374151;\n  font-size: 14px;\n}\n\n.form-group input {\n  width: 100%;\n  padding: 10px 14px;\n  border: 1px solid #d1d5db;\n  border-radius: 6px;\n  font-size: 14px;\n  transition: all 0.2s ease;\n  background: white;\n}\n\n.form-group input:focus {\n  outline: none;\n  border-color: #2563eb;\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n}\n\n.modal-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n  padding: 20px 24px;\n  border-top: 1px solid #e5e7eb;\n  background: #f9fafb;\n}\n\n.btn {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  white-space: nowrap;\n}\n\n.btn-sm {\n  padding: 6px 12px;\n  font-size: 13px;\n  border-radius: 5px;\n}\n\n.btn-primary {\n  background: #2563eb;\n  color: white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.btn-primary:hover {\n  background: #1d4ed8;\n  box-shadow: 0 2px 6px rgba(37, 99, 235, 0.3);\n}\n\n.btn-secondary {\n  background: #64748b;\n  color: white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.btn-secondary:hover {\n  background: #475569;\n  box-shadow: 0 2px 6px rgba(100, 116, 139, 0.3);\n}\n\n.btn-success {\n  background: #16a34a;\n  color: white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.btn-success:hover {\n  background: #15803d;\n  box-shadow: 0 2px 6px rgba(22, 163, 74, 0.3);\n}\n\n.btn-danger {\n  background: #b91c1c;\n  color: white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.btn-danger:hover {\n  background: #991b1b;\n  box-shadow: 0 2px 6px rgba(185, 28, 28, 0.3);\n}\n\n.btn-info {\n  background: #06b6d4;\n  color: white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.btn-info:hover {\n  box-shadow: 0 2px 6px rgba(6, 182, 212, 0.3);\n}\n\n/* Outlined blue button (transparent background, blue border/text) */\n.btn-outline-blue {\n  background: transparent;\n  color: #2563eb;\n  border: 1px solid #2563eb;\n  padding: 6px 12px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: background 0.15s ease, color 0.15s ease;\n}\n.btn-outline-blue:hover {\n  background: rgba(37, 99, 235, 0.06);\n}\n\n.btn:disabled {\n  background: #e5e7eb;\n  color: #9ca3af;\n  cursor: not-allowed;\n  box-shadow: none;\n}\n\n.btn:disabled:hover {\n  background: #e5e7eb;\n  box-shadow: none;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 80px 40px;\n  color: #64748b;\n}\n\n.empty-icon {\n  font-size: 5rem;\n  margin-bottom: 24px;\n  opacity: 0.7;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\n}\n\ninput[type=\"checkbox\"] {\n  width: 16px;\n  height: 16px;\n}\n\n/* Icons */\n\n\n@media (max-width: 768px) {\n  .dashboard-container {\n    padding: 16px;\n  }\n  \n  .tabs {\n    flex-direction: column;\n  }\n  \n  .section-header {\n    flex-direction: column;\n    gap: 16px;\n    align-items: stretch;\n  }\n  \n  .filters-bar {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 12px;\n  }\n  \n  .filter-group {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 6px;\n  }\n  \n  .filter-input,\n  .filter-select {\n    width: 100%;\n    min-width: unset;\n  }\n  \n  .filter-buttons {\n    flex-wrap: wrap;\n  }\n  \n  .filter-stats {\n    margin-left: 0;\n    text-align: center;\n  }\n  \n  .actions {\n    justify-content: stretch;\n  }\n  \n  .upload-area {\n    padding: 40px 20px;\n  }\n  \n  .documents-table,\n  .partners-table,\n  .admins-table {\n    display: block;\n    overflow-x: auto;\n    white-space: nowrap;\n  }\n  \n  .bulk-actions {\n    flex-direction: column;\n    gap: 12px;\n    align-items: stretch;\n  }\n  \n  .modal {\n    width: 100%;\n    margin: 20px;\n    max-width: calc(100vw - 40px);\n  }\n}\n\n/* Modern animations and effects */\n.tab-content {\n  animation: fadeInUp 0.4s ease-out;\n}\n\n.doc-filter {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  flex-wrap: wrap;\n}\n.doc-filter .btn-small {\n  white-space: nowrap;\n  font-size: 13px;\n  padding: 8px 14px;\n}\n\n.doc-filter .btn-small.active {\n  background: #2563eb;\n  color: #ffffff;\n  border-color: #1e40af;\n  box-shadow: 0 2px 6px rgba(37,99,235,0.12);\n}\n\n.doc-filter .btn-small:focus {\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(37,99,235,0.12);\n}\n\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.stat-card {\n  animation: slideInUp 0.6s ease-out;\n  animation-fill-mode: both;\n}\n\n.stat-card:nth-child(1) { animation-delay: 0.1s; }\n.stat-card:nth-child(2) { animation-delay: 0.2s; }\n.stat-card:nth-child(3) { animation-delay: 0.3s; }\n\n@keyframes slideInUp {\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.documents-table tbody tr,\n.partners-table tbody tr,\n.admins-table tbody tr {\n  animation: fadeInScale 0.3s ease-out;\n  animation-fill-mode: both;\n}\n\n.documents-table tbody tr:nth-child(odd),\n.partners-table tbody tr:nth-child(odd),\n.admins-table tbody tr:nth-child(odd) {\n  animation-delay: 0.05s;\n}\n\n.documents-table tbody tr:nth-child(even),\n.partners-table tbody tr:nth-child(even),\n.admins-table tbody tr:nth-child(even) {\n  animation-delay: 0.1s;\n}\n\n@keyframes fadeInScale {\n  from {\n    opacity: 0;\n    transform: scale(0.98);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n/* Enhanced focus states */\n.form-group input:focus {\n  outline: none;\n  border-color: #2563eb;\n  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);\n}\n\n/* Smooth transitions for all interactive elements */\n.tab,\n.btn,\n.remove-btn,\n.close-btn,\n.form-group input,\n.documents-table tbody tr,\n.partners-table tbody tr,\n.stat-card {\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n/* Glass morphism effect for special elements */\n.section-header {\n  backdrop-filter: blur(10px);\n  background: rgba(248, 250, 252, 0.8);\n  border-bottom: 1px solid rgba(226, 232, 240, 0.5);\n}\n.btn-small {\n  padding: 8px 16px;\n  font-size: 12px;\n  border-radius: 8px;\n  margin-right: 6px;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.btn-info {\n  background: #06b6d4;\n  color: white;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.btn-info:hover {\n  box-shadow: 0 2px 6px rgba(6, 182, 212, 0.3);\n}\n\n.btn-danger {\n  background: #b91c1c;\n  color: white;\n  border: 1px solid #b91c1c;\n}\n\n.btn-danger:hover {\n  background: #991b1b;\n  border-color: #7f1d1d;\n}\n\n.modal-large {\n  width: 900px;\n  max-width: 95vw;\n  max-height: 80vh;\n}\n\n.partners-table th:last-child,\n.partners-table td:last-child {\n  width: 220px;\n}\n\n@media (max-width: 768px) {\n  .dashboard-container {\n    padding: 12px;\n  }\n  \n  .stats-grid {\n    grid-template-columns: 1fr;\n    gap: 8px;\n    margin-bottom: 18px;\n  }\n\n  .stat-card {\n    padding: 8px;\n    gap: 6px;\n  }\n\n  .stat-icon {\n    font-size: 1.2rem;\n  }\n\n  .stat-value {\n    font-size: 1.1rem;\n    line-height: 1.1;\n  }\n\n  .stat-label {\n    font-size: 0.65rem;\n    opacity: 0.9;\n  }\n  \n  .stat-card::before {\n    height: 2px;\n    left: 12px;\n    right: 12px;\n  }\n  \n  /* Keep primary tabs on a single row on small screens */\n  .tabs {\n    flex-direction: row;\n    flex-wrap: nowrap;\n    gap: 8px;\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .tab {\n    text-align: center;\n    padding: 10px 14px;\n    flex: none;\n    white-space: nowrap;\n    font-size: 14px;\n  }\n  \n  .section-header {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 10px;\n  }\n\n  /* Keep header action buttons compact (don't stretch full width) */\n  .actions {\n    flex-direction: column;\n    gap: 8px;\n  }\n\n  .actions .btn {\n    width: auto;\n    display: inline-flex;\n    justify-content: center;\n  }\n\n  .header-actions {\n    display: flex;\n    gap: 8px;\n    align-items: center;\n  }\n\n  .header-actions .search-input-header {\n    flex: 1 1 auto;\n    min-width: 0;\n  }\n\n  .header-actions .btn {\n    width: auto;\n    padding: 8px 10px;\n  }\n  \n  \n  .upload-area {\n    padding: 40px 20px;\n  }\n  \n  .documents-table,\n  .partners-table {\n    display: block;\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n  \n  .documents-table th,\n  .documents-table td,\n  .partners-table th,\n  .partners-table td {\n    padding: 12px 10px;\n    font-size: 13px;\n  }\n  \n  .bulk-actions {\n    flex-direction: column;\n    align-items: stretch;\n  }\n  \n  .bulk-actions .btn {\n    width: 100%;\n    justify-content: center;\n  }\n  \n  .modal {\n    width: calc(100vw - 24px);\n    max-width: 100%;\n    margin: 12px;\n  }\n  \n  .modal-large {\n    width: calc(100vw - 24px);\n    max-width: 100%;\n  }\n  \n  .modal-header {\n    padding: 16px;\n    flex-wrap: wrap;\n  }\n  \n  .modal-header h3 {\n    font-size: 16px;\n  }\n  \n  .modal-body {\n    padding: 16px;\n    max-height: 60vh;\n    overflow-y: auto;\n  }\n  \n  .modal-footer {\n    padding: 16px;\n    flex-wrap: wrap;\n    gap: 8px;\n  }\n  \n  .modal-footer .btn {\n    flex: 1;\n    min-width: 120px;\n  }\n  \n  .stat-card {\n    padding: 12px;\n  }\n  \n  .action-buttons {\n    flex-direction: column;\n    gap: 6px;\n  }\n  \n  .action-buttons .btn-icon {\n    width: 100%;\n    margin-right: 0;\n  }\n}\n\n.btn-icon {\n  width: 32px;\n  height: 32px;\n  border-radius: 6px;\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  transition: background 0.15s ease;\n  margin-right: 4px;\n}\n\n.btn-icon:last-child {\n  margin-right: 0;\n}\n\n/* Make action buttons transparent; icons outlined black */\n.btn-edit,\n.btn-docs,\n.btn-delete,\n.btn-upload {\n  background: transparent;\n  color: inherit;\n  border: 1px solid #e5e7eb;\n  padding: 6px;\n  border-radius: 6px;\n}\n\n.btn-edit:hover,\n.btn-docs:hover,\n.btn-delete:hover,\n.btn-upload:hover {\n  background: rgba(0,0,0,0.04);\n}\n\n.btn-icon img {\n  display: inline-block;\n  vertical-align: middle;\n}\n\n  /* Responsive partner table -> card layout (only for small screens) */\n  @media (max-width: 768px) {\n    /* Tables to cards */\n    .partners-table thead,\n    .documents-table thead {\n      display: none;\n    }\n\n    .partners-table,\n    .documents-table {\n      display: block;\n    }\n\n    .partners-table tbody,\n    .documents-table tbody {\n      display: block;\n    }\n\n    .partners-table tbody tr,\n    .documents-table tbody tr {\n      display: block;\n      background: white;\n      margin-bottom: 12px;\n      border: 1px solid #e5e7eb;\n      border-radius: 8px;\n      padding: 12px;\n    }\n\n    .partners-table td,\n    .documents-table td {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 8px 0;\n      border: none;\n      text-align: right;\n    }\n\n    .partners-table td::before,\n    .documents-table td::before {\n      content: attr(data-label);\n      color: #64748b;\n      font-weight: 600;\n      text-transform: uppercase;\n      font-size: 11px;\n      margin-right: 12px;\n      text-align: left;\n      flex: 1;\n    }\n    \n    .documents-table td:first-child::before {\n      content: '';\n    }\n\n    .partners-table td:last-child,\n    .documents-table td:last-child {\n      display: flex;\n      justify-content: flex-end;\n      flex-wrap: wrap;\n      gap: 6px;\n    }\n    \n    .documents-table td:last-child::before {\n      display: none;\n    }\n\n    .action-buttons {\n      display: flex;\n      flex-direction: row;\n      gap: 6px;\n      width: 100%;\n      justify-content: flex-end;\n    }\n    \n    .action-buttons .btn {\n      flex: 1;\n      min-width: 0;\n      font-size: 12px;\n      padding: 8px 10px;\n    }\n\n    .search-input-header {\n      min-width: 0;\n      width: 100%;\n      font-size: 14px;\n      padding: 10px 12px;\n    }\n\n    .btn-icon {\n      width: 38px;\n      height: 38px;\n      padding: 8px;\n    }\n    \n    .btn-icon img {\n      width: 16px !important;\n      height: 16px !important;\n    }\n    \n    /* Document details responsive */\n    .detail-grid {\n      grid-template-columns: 1fr;\n      gap: 12px;\n    }\n    \n    .detail-section {\n      padding: 14px;\n    }\n    \n    .detail-header h4 {\n      font-size: 14px;\n    }\n    \n    /* Forms responsive */\n    .form-group input,\n    .form-group select {\n      font-size: 14px;\n      padding: 10px 12px;\n    }\n    \n    /* Upload area */\n    .upload-area {\n      padding: 30px 20px;\n    }\n    \n    .upload-content p {\n      font-size: 14px;\n    }\n    \n    /* File list */\n    .file-item {\n      padding: 10px 12px;\n    }\n    \n    .file-name {\n      font-size: 13px;\n    }\n    \n    .file-size {\n      font-size: 11px;\n    }\n    \n    /* Bulk actions */\n    .bulk-actions {\n      flex-direction: column;\n      align-items: stretch;\n      gap: 10px;\n    }\n    \n    .bulk-actions .btn {\n      width: 100%;\n    }\n    \n    /* Doc filter buttons */\n    .doc-filter {\n      width: 100%;\n      justify-content: stretch;\n    }\n    \n    .doc-filter .btn-small {\n      flex: 1;\n      text-align: center;\n    }\n    \n    /* Header actions */\n    .header-actions {\n      width: 100%;\n      flex-direction: column;\n    }\n    \n    .header-actions .btn {\n      width: 100%;\n    }\n    \n    /* Section header */\n    .section-header {\n      padding: 14px 16px;\n    }\n    \n    .section-header h3 {\n      font-size: 16px;\n    }\n    \n    .actions {\n      width: 100%;\n      flex-direction: column;\n    }\n    \n    .actions .btn {\n      width: 100%;\n      justify-content: center;\n    }\n  }\n\n.btn-delete {\n  color: white;\n}\n\n.btn-upload {\n  color: white;\n}\n\n/* Search input in header */\n.search-input-header {\n  padding: 0.5rem 1rem;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 0.95rem;\n  min-width: 300px;\n  transition: all 0.2s;\n}\n\n.search-input-header:focus {\n  outline: none;\n  border-color: #06b6d4;\n  box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.1);\n}\n\n.header-actions {\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n}\n\n/* Partner Selection Modal Styles */\n.modal-large {\n  max-width: 800px;\n}\n\n.partner-search {\n  position: relative;\n  margin-bottom: 1.5rem;\n}\n\n.partner-search input {\n  padding: 0.75rem 1rem 0.75rem 2.5rem;\n  font-size: 1rem;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  width: 100%;\n  transition: all 0.2s;\n}\n\n.partner-search input:focus {\n  outline: none;\n  border-color: #06b6d4;\n  box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.1);\n}\n\n.partner-search i {\n  position: absolute;\n  left: 1rem;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #9ca3af;\n}\n\n.file-partner-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  max-height: 400px;\n  overflow-y: auto;\n}\n\n.file-partner-item {\n  background: #f9fafb;\n  padding: 1rem;\n  border-radius: 8px;\n  border: 1px solid #e5e7eb;\n}\n\n.file-name {\n  font-weight: 500;\n  color: #374151;\n  margin-bottom: 0.75rem;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.file-name i {\n  color: #06b6d4;\n}\n\n.partner-selector {\n  position: relative;\n}\n\n.partner-select-btn {\n  width: 100%;\n  padding: 0.75rem 1rem;\n  background: white;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  text-align: left;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.partner-select-btn:hover {\n  border-color: #06b6d4;\n}\n\n.partner-select-btn.selected {\n  border-color: #06b6d4;\n  background: #f0fdfa;\n}\n\n.dropdown-menu {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  margin-top: 0.25rem;\n  background: white;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  max-height: 250px;\n  overflow-y: auto;\n  z-index: 1000;\n  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n}\n\n/* Full-width partner list */\n.partner-list-full {\n  width: 100%;\n  background: white;\n  border: 2px solid #e5e7eb;\n  border-radius: 8px;\n  max-height: 400px;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n\n.partner-list-item {\n  padding: 0.75rem 1rem;\n  border-bottom: 1px solid #f3f4f6;\n  cursor: pointer;\n}\n\n.partner-list-item:hover {\n  background: #f0fdfa;\n}\n\n.file-chip {\n  padding: 0.5rem 0.75rem;\n  border-radius: 20px;\n  border: 1px solid #e5e7eb;\n  background: white;\n  margin-right: 0.5rem;\n  cursor: pointer;\n}\n\n.file-chip.active {\n  background: #eefaf9;\n  border-color: #06b6d4;\n}\n\n.chips-row {\n  display: flex;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n  flex-wrap: wrap;\n}\n\n.chip-badge {\n  margin-left: 0.5rem;\n  font-size: 0.85rem;\n  color: #16a34a;\n}\n\n.dropdown-item {\n  padding: 0.75rem 1rem;\n  cursor: pointer;\n  transition: background 0.2s;\n  border-bottom: 1px solid #f3f4f6;\n}\n\n.dropdown-item:last-child {\n  border-bottom: none;\n}\n\n.dropdown-item:hover {\n  background: #f0fdfa;\n}\n\n.partner-info {\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n}\n\n.partner-name {\n  font-weight: 500;\n  color: #374151;\n}\n\n.partner-email {\n  font-size: 0.875rem;\n  color: #6b7280;\n}\n\n.selected-partner {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  color: #16a34a;\n  font-weight: 500;\n}\n\n.empty-message {\n  text-align: center;\n  padding: 2rem;\n  color: #6b7280;\n}\n\n/* Ensure specific icons can be inverted to white */\n.icon-img-invert {\n  filter: brightness(0) invert(1) !important;\n}\n\n/* Document Details View Modal */\n.document-details {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n.detail-section {\n  background: #f9fafb;\n  border-radius: 8px;\n  padding: 20px;\n  border: 1px solid #e5e7eb;\n}\n\n.detail-header {\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 2px solid #e5e7eb;\n}\n\n.detail-header h4 {\n  margin: 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #1e293b;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.detail-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 16px;\n}\n\n.detail-item {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.detail-label {\n  font-size: 12px;\n  font-weight: 500;\n  color: #64748b;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.detail-value {\n  font-size: 14px;\n  font-weight: 500;\n  color: #1e293b;\n  word-break: break-word;\n}\n\n.detail-value.amount {\n  font-size: 16px;\n  font-weight: 600;\n  color: #2563eb;\n}\n\n.status-badge {\n  display: inline-block;\n  padding: 4px 12px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.status-badge.published {\n  background: #d1fae5;\n  color: #065f46;\n}\n\n.status-badge.unpublished {\n  background: #fef3c7;\n  color: #78350f;\n}\n\n/* Responsive Audit Table для мобильных устройств */\n@media screen and (max-width: 768px) {\n  .audit-table {\n    border-radius: 8px;\n  }\n\n  .audit-table thead {\n    display: none;\n  }\n\n  .audit-table tbody tr {\n    display: block;\n    margin-bottom: 16px;\n    border: 1px solid #e5e7eb;\n    border-radius: 8px;\n    padding: 16px;\n    background: white;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  }\n\n  .audit-table tbody tr:hover {\n    transform: none;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  }\n\n  .audit-table td {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 10px 0;\n    border-bottom: 1px solid #f3f4f6;\n    text-align: right;\n  }\n\n  .audit-table td:last-child {\n    border-bottom: none;\n  }\n\n  .audit-table td::before {\n    content: attr(data-label);\n    font-weight: 600;\n    color: #6b7280;\n    text-transform: uppercase;\n    font-size: 11px;\n    letter-spacing: 0.5px;\n    flex-shrink: 0;\n    margin-right: 16px;\n  }\n\n  .action-badge {\n    font-size: 11px;\n    padding: 4px 8px;\n  }\n\n  .btn-details {\n    font-size: 11px;\n    padding: 5px 10px;\n  }\n}\n\n/* Audit Details Modal */\n.audit-details {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.detail-row {\n  display: flex;\n  padding: 12px 0;\n  border-bottom: 1px solid #f3f4f6;\n}\n\n.detail-row:last-child {\n  border-bottom: none;\n}\n\n.detail-label {\n  font-weight: 600;\n  color: #6b7280;\n  min-width: 150px;\n  font-size: 13px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.detail-value {\n  flex: 1;\n  color: #1f2937;\n  font-weight: 500;\n  font-size: 14px;\n}\n\n.detail-json {\n  background: #f9fafb;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  padding: 16px;\n  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n  font-size: 12px;\n  color: #374151;\n  overflow-x: auto;\n  white-space: pre-wrap;\n  word-break: break-all;\n  margin: 0;\n  line-height: 1.6;\n}\n\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}