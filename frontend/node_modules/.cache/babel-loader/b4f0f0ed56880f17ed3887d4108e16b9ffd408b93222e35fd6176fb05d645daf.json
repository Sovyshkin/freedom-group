{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"wrap-search\"\n};\nconst _hoisted_2 = {\n  class: \"user-section\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"user\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"user\"\n};\nconst _hoisted_5 = {\n  key: 2,\n  class: \"user\"\n};\nconst _hoisted_6 = {\n  key: 3,\n  class: \"user\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"header\", null, [_createElementVNode(\"div\", {\n    class: \"wrap-logo\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.push({\n      name: 'proekts'\n    }))\n  }, \" Металл трекер \"), _createElementVNode(\"div\", _hoisted_1, [_createVNode($setup[\"GlobalSearch\"])]), _createElementVNode(\"div\", _hoisted_2, [$setup.displayUser && $setup.displayUser.name && $setup.displayUser.surname ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString($setup.displayUser.name) + \" \" + _toDisplayString($setup.displayUser.surname), 1 /* TEXT */)) : _ctx.mainStore.isAuthenticated && $setup.displayUser && $setup.displayUser.email ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString($setup.displayUser.email), 1 /* TEXT */)) : _ctx.mainStore.isAuthenticated ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \" Пользователь \")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \" Гость \")), _ctx.mainStore.isAuthenticated ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 4,\n    class: \"logout-btn\",\n    onClick: $setup.handleLogout,\n    title: \"Выйти\"\n  }, [...(_cache[1] || (_cache[1] = [_createElementVNode(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    fill: \"none\"\n  }, [_createElementVNode(\"path\", {\n    d: \"M6 2H3C2.45 2 2 2.45 2 3V13C2 13.55 2.45 14 3 14H6\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"1.5\",\n    \"stroke-linecap\": \"round\"\n  }), _createElementVNode(\"path\", {\n    d: \"M11 11L14 8L11 5\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"1.5\",\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\"\n  }), _createElementVNode(\"path\", {\n    d: \"M14 8H6\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"1.5\",\n    \"stroke-linecap\": \"round\"\n  })], -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createElementVNode","onClick","_cache","$event","_ctx","$router","push","name","_hoisted_1","_createVNode","$setup","_hoisted_2","displayUser","surname","_hoisted_3","_toDisplayString","mainStore","isAuthenticated","email","_hoisted_4","_hoisted_5","_hoisted_6","handleLogout","title","width","height","viewBox","fill","d","stroke"],"sources":["/Users/vadim/Desktop/freedom-group/frontend/src/components/AppHeader.vue"],"sourcesContent":["<script setup>\nimport { onMounted, computed } from 'vue'\nimport { useAuthStore } from '@/stores/auth.js'\nimport GlobalSearch from './GlobalSearch.vue'\n\nconst authStore = useAuthStore()\n\nconst handleLogout = () => {\n  authStore.logout()\n}\n\n// Вычисляемое свойство для отображения данных пользователя\nconst displayUser = computed(() => {\n  // Добавляем проверки на существование и тип\n  if (authStore.user && \n      typeof authStore.user === 'object' && \n      authStore.user !== null &&\n      (authStore.user.name || authStore.user.surname)) {\n    return {\n      name: authStore.user.name || '',\n      surname: authStore.user.surname || '',\n      email: authStore.user.email || ''\n    }\n  }\n  \n  return { name: '', surname: '', email: '' }\n})\n\nonMounted(() => {\n  console.log('AppHeader mounted, user:', authStore.user)\n})\n</script>\n\n<template>\n  <header>\n    <div class=\"wrap-logo\" @click=\"$router.push({ name: 'proekts' })\">\n      Металл трекер\n    </div>\n    <div class=\"wrap-search\">\n      <GlobalSearch />\n    </div>\n    <div class=\"user-section\">\n      <span class=\"user\" v-if=\"displayUser && displayUser.name && displayUser.surname\">\n        {{ displayUser.name }} {{ displayUser.surname }}\n      </span>\n      <span class=\"user\" v-else-if=\"mainStore.isAuthenticated && displayUser && displayUser.email\">\n        {{ displayUser.email }}\n      </span>\n      <span class=\"user\" v-else-if=\"mainStore.isAuthenticated\">\n        Пользователь\n      </span>\n      <span class=\"user\" v-else>\n        Гость\n      </span>\n      <button class=\"logout-btn\" @click=\"handleLogout\" title=\"Выйти\" v-if=\"mainStore.isAuthenticated\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n          <path d=\"M6 2H3C2.45 2 2 2.45 2 3V13C2 13.55 2.45 14 3 14H6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\n          <path d=\"M11 11L14 8L11 5\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          <path d=\"M14 8H6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\n        </svg>\n      </button>\n    </div>\n  </header>\n</template>\n\n<style scoped>\nheader {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 48px;\n  padding: 16px 40px;\n}\n\n.wrap-logo {\n  font-weight: 500;\n  font-size: 24px;\n  cursor: pointer;\n}\n\n.wrap-search {\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex: 1;\n  max-width: 400px;\n}\n\n.user {\n  font-weight: 500;\n  font-size: 16px;\n}\n\n.user-section {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.logout-btn {\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: #8C93A6;\n  padding: 8px;\n  border-radius: 6px;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.logout-btn:hover {\n  background-color: #F8F9FC;\n  color: #1233EA;\n}\n\n.user-section {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.logout-btn {\n  background: none;\n  border: none;\n  color: #8C93A6;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n\n.logout-btn:hover {\n  background-color: #f5f5f5;\n  color: #1233ea;\n}\n\n.wrap-search {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 8px;\n  background-color: #F8F9FC;\n  border: 1px solid #F1F2F4;\n  padding: 16px;\n}\n\n.wrap-search input {\n  flex: 1;\n}\n\nlabel {\n  cursor: pointer;\n}\n\n/* Адаптивность для планшетов */\n@media (max-width: 768px) {\n  header {\n    gap: 24px;\n    padding: 12px 20px;\n  }\n  \n  .wrap-logo {\n    font-size: 20px;\n  }\n  \n  .user {\n    font-size: 14px;\n  }\n  \n  .user-section {\n    gap: 8px;\n  }\n  \n  .logout-btn {\n    padding: 6px;\n  }\n  \n  .wrap-search {\n    padding: 12px;\n  }\n}\n\n/* Адаптивность для мобильных */\n@media (max-width: 480px) {\n  header {\n    gap: 16px;\n    padding: 8px 16px;\n  }\n  \n  .wrap-logo {\n    font-size: 18px;\n  }\n  \n  .user {\n    font-size: 12px;\n    white-space: nowrap;\n  }\n  \n  .user-section {\n    gap: 6px;\n  }\n  \n  .logout-btn {\n    padding: 4px;\n  }\n  \n  .logout-btn svg {\n    width: 14px;\n    height: 14px;\n  }\n  \n  .wrap-search {\n    display: none;\n  }\n}\n</style>"],"mappings":";;;EAsCSA,KAAK,EAAC;AAAa;;EAGnBA,KAAK,EAAC;AAAc;;;EACjBA,KAAK,EAAC;;;;EAGNA,KAAK,EAAC;;;;EAGNA,KAAK,EAAC;;;;EAGNA,KAAK,EAAC;;;uBAjBhBC,mBAAA,CA4BS,iBA3BPC,mBAAA,CAEM;IAFDF,KAAK,EAAC,WAAW;IAAEG,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,OAAO,CAACC,IAAI;MAAAC,IAAA;IAAA;KAAuB,iBAElE,GACAP,mBAAA,CAEM,OAFNQ,UAEM,GADJC,YAAA,CAAgBC,MAAA,kB,GAElBV,mBAAA,CAoBM,OApBNW,UAoBM,GAnBqBD,MAAA,CAAAE,WAAW,IAAIF,MAAA,CAAAE,WAAW,CAACL,IAAI,IAAIG,MAAA,CAAAE,WAAW,CAACC,OAAO,I,cAA/Ed,mBAAA,CAEO,QAFPe,UAEO,EAAAC,gBAAA,CADFL,MAAA,CAAAE,WAAW,CAACL,IAAI,IAAG,GAAC,GAAAQ,gBAAA,CAAGL,MAAA,CAAAE,WAAW,CAACC,OAAO,oBAEjBT,IAAA,CAAAY,SAAS,CAACC,eAAe,IAAIP,MAAA,CAAAE,WAAW,IAAIF,MAAA,CAAAE,WAAW,CAACM,KAAK,I,cAA3FnB,mBAAA,CAEO,QAFPoB,UAEO,EAAAJ,gBAAA,CADFL,MAAA,CAAAE,WAAW,CAACM,KAAK,oBAEQd,IAAA,CAAAY,SAAS,CAACC,eAAe,I,cAAvDlB,mBAAA,CAEO,QAFPqB,UAEO,EAFkD,gBAEzD,M,cACArB,mBAAA,CAEO,QAFPsB,UAEO,EAFmB,SAE1B,IACqEjB,IAAA,CAAAY,SAAS,CAACC,eAAe,I,cAA9FlB,mBAAA,CAMS;;IANDD,KAAK,EAAC,YAAY;IAAEG,OAAK,EAAES,MAAA,CAAAY,YAAY;IAAEC,KAAK,EAAC;qCACrDvB,mBAAA,CAIM;IAJDwB,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC;MACnD3B,mBAAA,CAA8H;IAAxH4B,CAAC,EAAC,oDAAoD;IAACC,MAAM,EAAC,cAAc;IAAC,cAAY,EAAC,KAAK;IAAC,gBAAc,EAAC;MACrH7B,mBAAA,CAAoH;IAA9G4B,CAAC,EAAC,kBAAkB;IAACC,MAAM,EAAC,cAAc;IAAC,cAAY,EAAC,KAAK;IAAC,gBAAc,EAAC,OAAO;IAAC,iBAAe,EAAC;MAC3G7B,mBAAA,CAAmF;IAA7E4B,CAAC,EAAC,SAAS;IAACC,MAAM,EAAC,cAAc;IAAC,cAAY,EAAC,KAAK;IAAC,gBAAc,EAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}