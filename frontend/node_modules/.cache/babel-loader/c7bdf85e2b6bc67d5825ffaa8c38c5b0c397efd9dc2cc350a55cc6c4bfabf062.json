{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-section\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"user\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"user\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"user\"\n};\nconst _hoisted_5 = {\n  key: 3,\n  class: \"user\"\n};\nconst _hoisted_6 = {\n  key: 4,\n  class: \"user\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"header\", null, [_createElementVNode(\"div\", {\n    class: \"wrap-logo\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.push('/'))\n  }, \" FREEDOM GROUP \"), _cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n    class: \"wrap-search\"\n  }, [_createCommentVNode(\" <GlobalSearch /> \")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_1, [$setup.authStore.user?.role === 'admin' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_2, _toDisplayString($setup.displayUser.username), 1 /* TEXT */)) : $setup.authStore.user?.role === 'partner' && $setup.displayUser.name ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, _toDisplayString($setup.displayUser.name), 1 /* TEXT */)) : $setup.authStore.isAuthenticated && $setup.displayUser.email ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString($setup.displayUser.email), 1 /* TEXT */)) : $setup.authStore.isAuthenticated ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \" Пользователь \")) : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \" Гость \")), $setup.authStore.isAuthenticated ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 5,\n    class: \"logout-btn\",\n    onClick: $setup.handleLogout,\n    title: \"Выйти\"\n  }, [...(_cache[1] || (_cache[1] = [_createElementVNode(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\",\n    fill: \"none\"\n  }, [_createElementVNode(\"path\", {\n    d: \"M6 2H3C2.45 2 2 2.45 2 3V13C2 13.55 2.45 14 3 14H6\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"1.5\",\n    \"stroke-linecap\": \"round\"\n  }), _createElementVNode(\"path\", {\n    d: \"M11 11L14 8L11 5\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"1.5\",\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\"\n  }), _createElementVNode(\"path\", {\n    d: \"M14 8H6\",\n    stroke: \"currentColor\",\n    \"stroke-width\": \"1.5\",\n    \"stroke-linecap\": \"round\"\n  })], -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createElementVNode","onClick","_cache","$event","_ctx","$router","push","_createCommentVNode","_hoisted_1","$setup","authStore","user","role","_hoisted_2","_toDisplayString","displayUser","username","name","_hoisted_3","isAuthenticated","email","_hoisted_4","_hoisted_5","_hoisted_6","handleLogout","title","width","height","viewBox","fill","d","stroke"],"sources":["/Users/vadim/Desktop/freedom-group/frontend/src/components/AppHeader.vue"],"sourcesContent":["<script setup>\nimport { onMounted, computed } from 'vue'\nimport { useAuthStore } from '@/stores/auth.js'\n// import GlobalSearch from './GlobalSearch.vue'\n\nconst authStore = useAuthStore()\n\nconst handleLogout = () => {\n  authStore.logout()\n}\n\n// Вычисляемое свойство для отображения данных пользователя\nconst displayUser = computed(() => {\n  if (!authStore.user) return { name: '', surname: '', email: '', username: '' }\n  \n  // Для администраторов\n  if (authStore.user.role === 'admin') {\n    return {\n      name: '',\n      surname: '',\n      email: authStore.user.email || '',\n      username: authStore.user.username || 'admin'\n    }\n  }\n  \n  // Для партнеров\n  if (authStore.user.role === 'partner') {\n    return {\n      name: authStore.user.name || '',\n      surname: '', // У партнеров обычно нет surname в отдельном поле\n      email: authStore.user.email || '',\n      username: authStore.user.alias || ''\n    }\n  }\n  \n  return { name: '', surname: '', email: '', username: '' }\n})\n\nonMounted(() => {\n  console.log('AppHeader mounted, user:', authStore.user)\n})\n</script>\n\n<template>\n  <header>\n    <div class=\"wrap-logo\" @click=\"$router.push('/')\">\n      FREEDOM GROUP\n    </div>\n    <div class=\"wrap-search\">\n      <!-- <GlobalSearch /> -->\n    </div>\n    <div class=\"user-section\">\n      <span class=\"user\" v-if=\"authStore.user?.role === 'admin'\">\n        {{ displayUser.username }}\n      </span>\n      <span class=\"user\" v-else-if=\"authStore.user?.role === 'partner' && displayUser.name\">\n        {{ displayUser.name }}\n      </span>\n      <span class=\"user\" v-else-if=\"authStore.isAuthenticated && displayUser.email\">\n        {{ displayUser.email }}\n      </span>\n      <span class=\"user\" v-else-if=\"authStore.isAuthenticated\">\n        Пользователь\n      </span>\n      <span class=\"user\" v-else>\n        Гость\n      </span>\n      <button class=\"logout-btn\" @click=\"handleLogout\" title=\"Выйти\" v-if=\"authStore.isAuthenticated\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n          <path d=\"M6 2H3C2.45 2 2 2.45 2 3V13C2 13.55 2.45 14 3 14H6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\n          <path d=\"M11 11L14 8L11 5\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          <path d=\"M14 8H6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\n        </svg>\n      </button>\n    </div>\n  </header>\n</template>\n\n<style scoped>\nheader {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 48px;\n  padding: 20px 40px;\n  background: white;\n  border-bottom: 1px solid #e5e7eb;\n  backdrop-filter: blur(10px);\n  transition: all 0.3s ease;\n}\n\n.wrap-logo {\n  font-weight: 600;\n  font-size: 24px;\n  cursor: pointer;\n  color: #1f2937;\n  transition: all 0.2s ease;\n  position: relative;\n}\n\n.wrap-logo:hover {\n  color: #1233EA;\n  transform: translateY(-1px);\n}\n\n.wrap-logo::after {\n  content: '';\n  position: absolute;\n  bottom: -4px;\n  left: 0;\n  width: 0;\n  height: 2px;\n  background: #1233EA;\n  transition: width 0.3s ease;\n}\n\n.wrap-logo:hover::after {\n  width: 100%;\n}\n\n.wrap-search {\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex: 1;\n  max-width: 400px;\n}\n\n.user {\n  font-weight: 500;\n  font-size: 16px;\n}\n\n.user {\n  font-weight: 500;\n  font-size: 14px;\n  color: #374151;\n  padding: 8px 16px;\n  background: #f9fafb;\n  border-radius: 8px;\n  transition: all 0.2s ease;\n  border: 1px solid transparent;\n}\n\n.user-section {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.logout-btn {\n  background: none;\n  border: 1px solid #e5e7eb;\n  cursor: pointer;\n  color: #6b7280;\n  padding: 10px;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.logout-btn::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(18, 51, 234, 0.1), transparent);\n  transition: left 0.6s;\n}\n\n.logout-btn:hover::before {\n  left: 100%;\n}\n\n.logout-btn:hover {\n  background-color: #1233EA;\n  color: white;\n  border-color: #1233EA;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(18, 51, 234, 0.3);\n}\n\n.user-section {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.logout-btn {\n  background: none;\n  border: none;\n  color: #8C93A6;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n\n.logout-btn:hover {\n  background-color: #f5f5f5;\n  color: #1233ea;\n}\n\n.wrap-search {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  border: 1px solid #e2e8f0;\n  padding: 16px;\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n.wrap-search:focus-within {\n  border-color: #1233EA;\n  box-shadow: 0 0 0 3px rgba(18, 51, 234, 0.1);\n  background: white;\n}\n\n.wrap-search input {\n  flex: 1;\n}\n\nlabel {\n  cursor: pointer;\n}\n\n/* Адаптивность для планшетов */\n@media (max-width: 768px) {\n  header {\n    gap: 24px;\n    padding: 12px 20px;\n  }\n  \n  .wrap-logo {\n    font-size: 20px;\n  }\n  \n  .user {\n    font-size: 14px;\n  }\n  \n  .user-section {\n    gap: 8px;\n  }\n  \n  .logout-btn {\n    padding: 6px;\n  }\n  \n  .wrap-search {\n    padding: 12px;\n  }\n}\n\n/* Адаптивность для мобильных */\n@media (max-width: 480px) {\n  header {\n    gap: 16px;\n    padding: 8px 16px;\n  }\n  \n  .wrap-logo {\n    font-size: 18px;\n  }\n  \n  .user {\n    font-size: 12px;\n    white-space: nowrap;\n  }\n  \n  .user-section {\n    gap: 6px;\n  }\n  \n  .logout-btn {\n    padding: 4px;\n  }\n  \n  .logout-btn svg {\n    width: 14px;\n    height: 14px;\n  }\n  \n  .wrap-search {\n    display: none;\n  }\n}\n</style>"],"mappings":";;;EAmDSA,KAAK,EAAC;AAAc;;;EACjBA,KAAK,EAAC;;;;EAGNA,KAAK,EAAC;;;;EAGNA,KAAK,EAAC;;;;EAGNA,KAAK,EAAC;;;;EAGNA,KAAK,EAAC;;;uBApBhBC,mBAAA,CA+BS,iBA9BPC,mBAAA,CAEM;IAFDF,KAAK,EAAC,WAAW;IAAEG,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,OAAO,CAACC,IAAI;KAAO,iBAElD,G,0BACAN,mBAAA,CAEM;IAFDF,KAAK,EAAC;EAAa,IACtBS,mBAAA,sBAAyB,C,qBAE3BP,mBAAA,CAuBM,OAvBNQ,UAuBM,GAtBqBC,MAAA,CAAAC,SAAS,CAACC,IAAI,EAAEC,IAAI,gB,cAA7Cb,mBAAA,CAEO,QAFPc,UAEO,EAAAC,gBAAA,CADFL,MAAA,CAAAM,WAAW,CAACC,QAAQ,oBAEKP,MAAA,CAAAC,SAAS,CAACC,IAAI,EAAEC,IAAI,kBAAkBH,MAAA,CAAAM,WAAW,CAACE,IAAI,I,cAApFlB,mBAAA,CAEO,QAFPmB,UAEO,EAAAJ,gBAAA,CADFL,MAAA,CAAAM,WAAW,CAACE,IAAI,oBAESR,MAAA,CAAAC,SAAS,CAACS,eAAe,IAAIV,MAAA,CAAAM,WAAW,CAACK,KAAK,I,cAA5ErB,mBAAA,CAEO,QAFPsB,UAEO,EAAAP,gBAAA,CADFL,MAAA,CAAAM,WAAW,CAACK,KAAK,oBAEQX,MAAA,CAAAC,SAAS,CAACS,eAAe,I,cAAvDpB,mBAAA,CAEO,QAFPuB,UAEO,EAFkD,gBAEzD,M,cACAvB,mBAAA,CAEO,QAFPwB,UAEO,EAFmB,SAE1B,IACqEd,MAAA,CAAAC,SAAS,CAACS,eAAe,I,cAA9FpB,mBAAA,CAMS;;IANDD,KAAK,EAAC,YAAY;IAAEG,OAAK,EAAEQ,MAAA,CAAAe,YAAY;IAAEC,KAAK,EAAC;qCACrDzB,mBAAA,CAIM;IAJD0B,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC;MACnD7B,mBAAA,CAA8H;IAAxH8B,CAAC,EAAC,oDAAoD;IAACC,MAAM,EAAC,cAAc;IAAC,cAAY,EAAC,KAAK;IAAC,gBAAc,EAAC;MACrH/B,mBAAA,CAAoH;IAA9G8B,CAAC,EAAC,kBAAkB;IAACC,MAAM,EAAC,cAAc;IAAC,cAAY,EAAC,KAAK;IAAC,gBAAc,EAAC,OAAO;IAAC,iBAAe,EAAC;MAC3G/B,mBAAA,CAAmF;IAA7E8B,CAAC,EAAC,SAAS;IAACC,MAAM,EAAC,cAAc;IAAC,cAAY,EAAC,KAAK;IAAC,gBAAc,EAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}