{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { onMounted, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useAuthStore } from '@/stores/auth.js';\n// import GlobalSearch from './GlobalSearch.vue'\n\nexport default {\n  __name: 'AppHeader',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const authStore = useAuthStore();\n    const router = useRouter();\n    const handleLogout = () => {\n      authStore.logout();\n      router.push('/login');\n    };\n\n    // Вычисляемое свойство для отображения данных пользователя\n    const displayUser = computed(() => {\n      if (!authStore.user) return {\n        name: '',\n        surname: '',\n        email: '',\n        username: ''\n      };\n\n      // Для администраторов\n      if (authStore.user.role === 'admin') {\n        return {\n          name: '',\n          surname: '',\n          email: authStore.user.email || '',\n          username: authStore.user.username || 'admin'\n        };\n      }\n\n      // Для партнеров\n      if (authStore.user.role === 'partner') {\n        return {\n          name: authStore.user.name || '',\n          surname: '',\n          // У партнеров обычно нет surname в отдельном поле\n          email: authStore.user.email || '',\n          username: authStore.user.alias || ''\n        };\n      }\n      return {\n        name: '',\n        surname: '',\n        email: '',\n        username: ''\n      };\n    });\n    onMounted(() => {\n      console.log('AppHeader mounted, user:', authStore.user);\n    });\n    const __returned__ = {\n      authStore,\n      router,\n      handleLogout,\n      displayUser,\n      onMounted,\n      computed,\n      get useRouter() {\n        return useRouter;\n      },\n      get useAuthStore() {\n        return useAuthStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","computed","useRouter","useAuthStore","authStore","router","handleLogout","logout","push","displayUser","user","name","surname","email","username","role","alias","console","log"],"sources":["/Users/vadim/Desktop/freedom-group/frontend/src/components/AppHeader.vue"],"sourcesContent":["<script setup>\nimport { onMounted, computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useAuthStore } from '@/stores/auth.js'\n// import GlobalSearch from './GlobalSearch.vue'\n\nconst authStore = useAuthStore()\nconst router = useRouter()\n\nconst handleLogout = () => {\n  authStore.logout()\n  router.push('/login')\n}\n\n// Вычисляемое свойство для отображения данных пользователя\nconst displayUser = computed(() => {\n  if (!authStore.user) return { name: '', surname: '', email: '', username: '' }\n  \n  // Для администраторов\n  if (authStore.user.role === 'admin') {\n    return {\n      name: '',\n      surname: '',\n      email: authStore.user.email || '',\n      username: authStore.user.username || 'admin'\n    }\n  }\n  \n  // Для партнеров\n  if (authStore.user.role === 'partner') {\n    return {\n      name: authStore.user.name || '',\n      surname: '', // У партнеров обычно нет surname в отдельном поле\n      email: authStore.user.email || '',\n      username: authStore.user.alias || ''\n    }\n  }\n  \n  return { name: '', surname: '', email: '', username: '' }\n})\n\nonMounted(() => {\n  console.log('AppHeader mounted, user:', authStore.user)\n})\n</script>\n\n<template>\n  <header>\n    <div class=\"wrap-logo\" @click=\"$router.push('/')\">\n      FREEDOM GROUP\n    </div>\n    <!-- <div class=\"wrap-search\"> -->\n      <!-- <GlobalSearch /> -->\n    <!-- </div> -->\n    <div class=\"user-section\">\n      <span class=\"user\" v-if=\"authStore.user?.role === 'admin'\">\n        {{ displayUser.username }}\n      </span>\n      <span class=\"user\" v-else-if=\"authStore.user?.role === 'partner'\">\n        {{ displayUser.name || displayUser.username || displayUser.email || 'Пользователь' }}\n      </span>\n      <span class=\"user\" v-else-if=\"authStore.isAuthenticated\">\n        {{ displayUser.email || 'Пользователь' }}\n      </span>\n      <span class=\"user\" v-else>\n        Гость\n      </span>\n      <button class=\"logout-btn\" @click=\"handleLogout\" title=\"Выйти\" v-if=\"authStore.isAuthenticated\">\n        <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n          <path d=\"M6 2H3C2.45 2 2 2.45 2 3V13C2 13.55 2.45 14 3 14H6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\n          <path d=\"M11 11L14 8L11 5\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          <path d=\"M14 8H6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\n        </svg>\n      </button>\n    </div>\n  </header>\n</template>\n\n<style scoped>\nheader {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 48px;\n  padding: 20px 40px;\n  background: white;\n  border-bottom: 1px solid #e5e7eb;\n  backdrop-filter: blur(10px);\n  transition: all 0.3s ease;\n}\n\n.wrap-logo {\n  font-weight: 600;\n  font-size: 24px;\n  cursor: pointer;\n  color: #1f2937;\n  transition: all 0.2s ease;\n  position: relative;\n}\n\n.wrap-logo:hover {\n  color: #1233EA;\n  transform: translateY(-1px);\n}\n\n.wrap-logo::after {\n  content: '';\n  position: absolute;\n  bottom: -4px;\n  left: 0;\n  width: 0;\n  height: 2px;\n  background: #1233EA;\n  transition: width 0.3s ease;\n}\n\n.wrap-logo:hover::after {\n  width: 100%;\n}\n\n.wrap-search {\n  display: flex;\n  align-items: center;\n  position: relative;\n  flex: 1;\n  max-width: 400px;\n}\n\n.user {\n  font-weight: 500;\n  font-size: 16px;\n}\n\n.user {\n  font-weight: 500;\n  font-size: 14px;\n  color: #374151;\n  padding: 8px 16px;\n  background: #f9fafb;\n  border-radius: 8px;\n  transition: all 0.2s ease;\n  border: 1px solid transparent;\n}\n\n.user-section {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.logout-btn {\n  background: none;\n  border: 1px solid #e5e7eb;\n  cursor: pointer;\n  color: #6b7280;\n  padding: 10px;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.logout-btn::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(18, 51, 234, 0.1), transparent);\n  transition: left 0.6s;\n}\n\n.logout-btn:hover::before {\n  left: 100%;\n}\n\n.logout-btn:hover {\n  background-color: #1233EA;\n  color: white;\n  border-color: #1233EA;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(18, 51, 234, 0.3);\n}\n\n.user-section {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.logout-btn {\n  background: none;\n  border: none;\n  color: #8C93A6;\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 6px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n}\n\n.logout-btn:hover {\n  background-color: #f5f5f5;\n  color: #1233ea;\n}\n\n.wrap-search {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n  border: 1px solid #e2e8f0;\n  padding: 16px;\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n.wrap-search:focus-within {\n  border-color: #1233EA;\n  box-shadow: 0 0 0 3px rgba(18, 51, 234, 0.1);\n  background: white;\n}\n\n.wrap-search input {\n  flex: 1;\n}\n\nlabel {\n  cursor: pointer;\n}\n\n/* Адаптивность для планшетов */\n@media (max-width: 768px) {\n  header {\n    gap: 24px;\n    padding: 12px 20px;\n  }\n  \n  .wrap-logo {\n    font-size: 20px;\n  }\n  \n  .user {\n    font-size: 14px;\n  }\n  \n  .user-section {\n    gap: 8px;\n  }\n  \n  .logout-btn {\n    padding: 6px;\n  }\n  \n  .wrap-search {\n    padding: 12px;\n  }\n}\n\n/* Адаптивность для мобильных */\n@media (max-width: 480px) {\n  header {\n    gap: 16px;\n    padding: 8px 16px;\n  }\n  \n  .wrap-logo {\n    font-size: 18px;\n  }\n  \n  .user {\n    font-size: 12px;\n    white-space: nowrap;\n  }\n  \n  .user-section {\n    gap: 6px;\n  }\n  \n  .logout-btn {\n    padding: 4px;\n  }\n  \n  .logout-btn svg {\n    width: 14px;\n    height: 14px;\n  }\n  \n  .wrap-search {\n    display: none;\n  }\n}\n</style>"],"mappings":";AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,KAAI;AACxC,SAASC,SAAS,QAAQ,YAAW;AACrC,SAASC,YAAY,QAAQ,kBAAiB;AAC9C;;;;;;;;IAEA,MAAMC,SAAS,GAAGD,YAAY,CAAC;IAC/B,MAAME,MAAM,GAAGH,SAAS,CAAC;IAEzB,MAAMI,YAAY,GAAGA,CAAA,KAAM;MACzBF,SAAS,CAACG,MAAM,CAAC;MACjBF,MAAM,CAACG,IAAI,CAAC,QAAQ;IACtB;;IAEA;IACA,MAAMC,WAAW,GAAGR,QAAQ,CAAC,MAAM;MACjC,IAAI,CAACG,SAAS,CAACM,IAAI,EAAE,OAAO;QAAEC,IAAI,EAAE,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAG;;MAE7E;MACA,IAAIV,SAAS,CAACM,IAAI,CAACK,IAAI,KAAK,OAAO,EAAE;QACnC,OAAO;UACLJ,IAAI,EAAE,EAAE;UACRC,OAAO,EAAE,EAAE;UACXC,KAAK,EAAET,SAAS,CAACM,IAAI,CAACG,KAAK,IAAI,EAAE;UACjCC,QAAQ,EAAEV,SAAS,CAACM,IAAI,CAACI,QAAQ,IAAI;QACvC;MACF;;MAEA;MACA,IAAIV,SAAS,CAACM,IAAI,CAACK,IAAI,KAAK,SAAS,EAAE;QACrC,OAAO;UACLJ,IAAI,EAAEP,SAAS,CAACM,IAAI,CAACC,IAAI,IAAI,EAAE;UAC/BC,OAAO,EAAE,EAAE;UAAE;UACbC,KAAK,EAAET,SAAS,CAACM,IAAI,CAACG,KAAK,IAAI,EAAE;UACjCC,QAAQ,EAAEV,SAAS,CAACM,IAAI,CAACM,KAAK,IAAI;QACpC;MACF;MAEA,OAAO;QAAEL,IAAI,EAAE,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,KAAK,EAAE,EAAE;QAAEC,QAAQ,EAAE;MAAG;IAC1D,CAAC;IAEDd,SAAS,CAAC,MAAM;MACdiB,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEd,SAAS,CAACM,IAAI;IACxD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}