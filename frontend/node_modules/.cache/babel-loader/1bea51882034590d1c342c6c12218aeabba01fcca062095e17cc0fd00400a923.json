{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport _imports_0 from '@/assets/filter.png';\nimport _imports_1 from '@/assets/download.png';\nconst _hoisted_1 = {\n  class: \"partner-dashboard\"\n};\nconst _hoisted_2 = {\n  class: \"dashboard-container\"\n};\nconst _hoisted_3 = {\n  class: \"stats-grid\"\n};\nconst _hoisted_4 = {\n  class: \"stat-card\"\n};\nconst _hoisted_5 = {\n  class: \"stat-content\"\n};\nconst _hoisted_6 = {\n  class: \"stat-value\"\n};\nconst _hoisted_7 = {\n  class: \"stat-card\"\n};\nconst _hoisted_8 = {\n  class: \"stat-content\"\n};\nconst _hoisted_9 = {\n  class: \"stat-value\"\n};\nconst _hoisted_10 = {\n  class: \"stat-card\"\n};\nconst _hoisted_11 = {\n  class: \"stat-content\"\n};\nconst _hoisted_12 = {\n  class: \"stat-value\"\n};\nconst _hoisted_13 = {\n  class: \"documents-section\"\n};\nconst _hoisted_14 = {\n  class: \"section-header\"\n};\nconst _hoisted_15 = {\n  class: \"search-controls\"\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"filters-panel\"\n};\nconst _hoisted_17 = {\n  class: \"filter-row\"\n};\nconst _hoisted_18 = {\n  class: \"filter-group\"\n};\nconst _hoisted_19 = {\n  class: \"filter-group\"\n};\nconst _hoisted_20 = {\n  class: \"filter-group\"\n};\nconst _hoisted_21 = {\n  class: \"filter-group\"\n};\nconst _hoisted_22 = {\n  class: \"table-wrapper\"\n};\nconst _hoisted_23 = {\n  key: 1,\n  class: \"documents-table\"\n};\nconst _hoisted_24 = {\n  \"data-label\": \"№\"\n};\nconst _hoisted_25 = {\n  \"data-label\": \"Дата создания\"\n};\nconst _hoisted_26 = {\n  \"data-label\": \"Период\"\n};\nconst _hoisted_27 = {\n  \"data-label\": \"Чистая сумма\",\n  class: \"amount\"\n};\nconst _hoisted_28 = {\n  \"data-label\": \"Сумма по счету\",\n  class: \"amount\"\n};\nconst _hoisted_29 = {\n  \"data-label\": \"Налог\",\n  class: \"amount\"\n};\nconst _hoisted_30 = {\n  \"data-label\": \"Файл\"\n};\nconst _hoisted_31 = {\n  class: \"doc-actions\"\n};\nconst _hoisted_32 = [\"onClick\"];\nconst _hoisted_33 = [\"onClick\", \"disabled\"];\nconst _hoisted_34 = {\n  key: 0,\n  class: \"fas fa-spinner fa-spin\"\n};\nconst _hoisted_35 = {\n  key: 1,\n  src: _imports_1,\n  alt: \"download\",\n  width: \"16\",\n  height: \"16\",\n  style: {\n    \"vertical-align\": \"middle\"\n  }\n};\nconst _hoisted_36 = {\n  key: 2,\n  class: \"empty-state\"\n};\nconst _hoisted_37 = {\n  key: 1,\n  class: \"pagination\"\n};\nconst _hoisted_38 = [\"disabled\"];\nconst _hoisted_39 = {\n  class: \"pagination-info\"\n};\nconst _hoisted_40 = [\"disabled\"];\nimport { ref, onMounted, computed, watch } from 'vue';\nimport AppLoader from '@/components/AppLoader.vue';\nimport AppNotifications from '@/components/AppNotifications.vue';\nimport ExcelViewer from '@/components/ExcelViewer.vue';\nimport { useNotificationStore } from '@/stores/notifications';\nimport api from '@/plugins/axios';\nexport default {\n  __name: 'PartnerDashboard',\n  setup(__props) {\n    const notificationStore = useNotificationStore();\n\n    // Reactive data\n    const loading = ref(true);\n    const downloading = ref(null);\n    const documents = ref([]);\n    const stats = ref({});\n    const user = ref(null);\n\n    // View document modal\n    const showViewDocumentModal = ref(false);\n    const loadingCurrentDocument = ref(false);\n    const currentDocument = ref(null);\n    const excelData = ref(null);\n\n    // Search and filters\n    const searchQuery = ref('');\n    const showFilters = ref(false);\n    const filters = ref({\n      dateFrom: '',\n      dateTo: '',\n      amountFrom: '',\n      amountTo: ''\n    });\n\n    // Sorting\n    const sortField = ref('createdAt');\n    const sortOrder = ref('desc');\n\n    // Pagination\n    const currentPage = ref(1);\n    const pageSize = ref(10);\n\n    // Computed properties\n    const filteredDocuments = computed(() => {\n      let result = [...documents.value];\n\n      // Apply search\n      if (searchQuery.value) {\n        const query = searchQuery.value.toLowerCase();\n        result = result.filter(doc => doc.fileName.toLowerCase().includes(query) || doc.period.toLowerCase().includes(query));\n      }\n\n      // Apply sorting\n      result.sort((a, b) => {\n        const aVal = a[sortField.value];\n        const bVal = b[sortField.value];\n        if (sortOrder.value === 'asc') {\n          return aVal > bVal ? 1 : -1;\n        } else {\n          return aVal < bVal ? 1 : -1;\n        }\n      });\n      return result;\n    });\n    const totalPages = computed(() => {\n      return Math.ceil(filteredDocuments.value.length / pageSize.value);\n    });\n    const paginatedDocuments = computed(() => {\n      const start = (currentPage.value - 1) * pageSize.value;\n      const end = start + pageSize.value;\n      return filteredDocuments.value.slice(start, end);\n    });\n\n    // Methods\n    const loadData = async () => {\n      try {\n        loading.value = true;\n\n        // Load user profile\n        const profileResponse = await api.get('/partner/profile');\n        user.value = profileResponse.data.profile;\n\n        // Load documents\n        const documentsResponse = await api.get('/partner/documents');\n        documents.value = documentsResponse.data.documents;\n\n        // Load stats\n        const statsResponse = await api.get('/partner/stats');\n        stats.value = statsResponse.data.stats;\n      } catch (error) {\n        console.error('Ошибка загрузки данных:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка загрузки данных: ' + (error.response?.data?.message || error.message)\n        });\n      } finally {\n        loading.value = false;\n      }\n    };\n    const downloadDocument = async doc => {\n      try {\n        downloading.value = doc.documentId || doc.inc;\n        const documentId = doc.documentId || doc.inc;\n        const response = await api.get(`/partner/documents/${documentId}/download`, {\n          responseType: 'blob'\n        });\n\n        // Create download link\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', doc.fileName);\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n        notificationStore.addNotification({\n          type: 'success',\n          message: `Файл \"${doc.fileName}\" успешно скачан`\n        });\n      } catch (error) {\n        console.error('Ошибка скачивания:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка скачивания файла: ' + (error.response?.data?.message || error.message)\n        });\n      } finally {\n        downloading.value = null;\n      }\n    };\n    const viewDocument = async doc => {\n      try {\n        loadingCurrentDocument.value = true;\n        showViewDocumentModal.value = true;\n        const documentId = doc.documentId || doc.inc;\n        const response = await api.get(`/partner/documents/${documentId}`);\n        currentDocument.value = response.data.data;\n        excelData.value = response.data.excelData;\n      } catch (error) {\n        console.error('Ошибка загрузки документа:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка загрузки документа'\n        });\n        showViewDocumentModal.value = false;\n      } finally {\n        loadingCurrentDocument.value = false;\n      }\n    };\n    const handleSearch = () => {\n      currentPage.value = 1;\n    };\n    const toggleFilters = () => {\n      showFilters.value = !showFilters.value;\n    };\n    const applyFilters = async () => {\n      try {\n        loading.value = true;\n        const params = new URLSearchParams();\n        if (filters.value.dateFrom) params.append('dateFrom', filters.value.dateFrom);\n        if (filters.value.dateTo) params.append('dateTo', filters.value.dateTo);\n        if (filters.value.amountFrom) params.append('amountFrom', filters.value.amountFrom);\n        if (filters.value.amountTo) params.append('amountTo', filters.value.amountTo);\n        if (searchQuery.value) params.append('fileName', searchQuery.value);\n        const response = await api.get(`/partner/documents/search?${params.toString()}`);\n        documents.value = response.data.documents;\n        currentPage.value = 1;\n      } catch (error) {\n        console.error('Ошибка поиска:', error);\n        notificationStore.addNotification({\n          type: 'error',\n          message: 'Ошибка поиска документов'\n        });\n      } finally {\n        loading.value = false;\n      }\n    };\n    const clearFilters = () => {\n      filters.value = {\n        dateFrom: '',\n        dateTo: '',\n        amountFrom: '',\n        amountTo: ''\n      };\n      searchQuery.value = '';\n      loadData();\n    };\n    const sortBy = field => {\n      if (sortField.value === field) {\n        sortOrder.value = sortOrder.value === 'asc' ? 'desc' : 'asc';\n      } else {\n        sortField.value = field;\n        sortOrder.value = 'desc';\n      }\n    };\n    const getSortIcon = field => {\n      if (sortField.value !== field) return 'fas fa-sort';\n      return sortOrder.value === 'asc' ? 'fas fa-sort-up' : 'fas fa-sort-down';\n    };\n    const changePage = page => {\n      if (page >= 1 && page <= totalPages.value) {\n        currentPage.value = page;\n      }\n    };\n    const toTimestampMs = value => {\n      if (value == null || value === '') return null;\n      if (typeof value === 'number') {\n        return value < 1e12 ? value * 1000 : value;\n      }\n      if (/^\\d+$/.test(String(value))) {\n        const n = parseInt(value, 10);\n        return n < 1e12 ? n * 1000 : n;\n      }\n      if (typeof value === 'string' && /^\\d{4}[-/]\\d{2}[-/]\\d{2}[ T]\\d{2}:\\d{2}:\\d{2}$/.test(value)) {\n        const iso = value.replace(' ', 'T').replace(/\\//g, '-') + 'Z';\n        const parsedIso = Date.parse(iso);\n        return isNaN(parsedIso) ? null : parsedIso;\n      }\n      const parsed = Date.parse(value);\n      return isNaN(parsed) ? null : parsed;\n    };\n    const formatDate = date => {\n      const ts = toTimestampMs(date);\n      if (!ts) return '';\n      return new Date(ts).toLocaleDateString('ru-RU', {\n        timeZone: 'Europe/Moscow'\n      });\n    };\n    const formatMoney = amount => {\n      if (!amount) return '0 ₽';\n      return new Intl.NumberFormat('ru-RU', {\n        style: 'currency',\n        currency: 'RUB'\n      }).format(amount);\n    };\n\n    // Watchers\n    watch([searchQuery, sortField, sortOrder], () => {\n      currentPage.value = 1;\n    });\n\n    // Lifecycle\n    onMounted(() => {\n      loadData();\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, _toDisplayString(stats.value.totalDocuments || 0), 1), _cache[11] || (_cache[11] = _createElementVNode(\"div\", {\n        class: \"stat-label\"\n      }, \"Всего документов\", -1))])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, _toDisplayString(formatMoney(stats.value.yearlyAmount)), 1), _cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n        class: \"stat-label\"\n      }, \"За год\", -1))])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, _toDisplayString(formatMoney(stats.value.monthlyAmount)), 1), _cache[13] || (_cache[13] = _createElementVNode(\"div\", {\n        class: \"stat-label\"\n      }, \"За месяц\", -1))])])]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_cache[15] || (_cache[15] = _createElementVNode(\"h2\", null, \"Мои документы\", -1)), _createElementVNode(\"div\", _hoisted_15, [_withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => searchQuery.value = $event),\n        type: \"text\",\n        placeholder: \"Поиск по имени файла...\",\n        class: \"search-input\",\n        onInput: handleSearch\n      }, null, 544), [[_vModelText, searchQuery.value]]), _createElementVNode(\"button\", {\n        onClick: toggleFilters,\n        class: \"filter-btn\"\n      }, [...(_cache[14] || (_cache[14] = [_createElementVNode(\"img\", {\n        src: _imports_0,\n        alt: \"filter\",\n        width: \"18\",\n        height: \"18\",\n        style: {\n          \"vertical-align\": \"middle\",\n          \"margin-right\": \"8px\"\n        }\n      }, null, -1), _createTextVNode(\" Фильтры \", -1)]))])])]), showFilters.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", null, \"Дата с:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => filters.value.dateFrom = $event),\n        type: \"date\"\n      }, null, 512), [[_vModelText, filters.value.dateFrom]])]), _createElementVNode(\"div\", _hoisted_19, [_cache[17] || (_cache[17] = _createElementVNode(\"label\", null, \"Дата до:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => filters.value.dateTo = $event),\n        type: \"date\"\n      }, null, 512), [[_vModelText, filters.value.dateTo]])]), _createElementVNode(\"div\", _hoisted_20, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", null, \"Сумма от:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => filters.value.amountFrom = $event),\n        type: \"number\",\n        placeholder: \"0\"\n      }, null, 512), [[_vModelText, filters.value.amountFrom]])]), _createElementVNode(\"div\", _hoisted_21, [_cache[19] || (_cache[19] = _createElementVNode(\"label\", null, \"Сумма до:\", -1)), _withDirectives(_createElementVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => filters.value.amountTo = $event),\n        type: \"number\",\n        placeholder: \"1000000\"\n      }, null, 512), [[_vModelText, filters.value.amountTo]])]), _createElementVNode(\"div\", {\n        class: \"filter-actions\"\n      }, [_createElementVNode(\"button\", {\n        onClick: applyFilters,\n        class: \"btn btn-primary\"\n      }, \"Применить\"), _createElementVNode(\"button\", {\n        onClick: clearFilters,\n        class: \"btn btn-secondary\"\n      }, \"Очистить\")])])])) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_22, [loading.value ? (_openBlock(), _createBlock(AppLoader, {\n        key: 0\n      })) : documents.value.length > 0 ? (_openBlock(), _createElementBlock(\"table\", _hoisted_23, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_cache[22] || (_cache[22] = _createElementVNode(\"th\", null, \"№\", -1)), _createElementVNode(\"th\", {\n        onClick: _cache[5] || (_cache[5] = $event => sortBy('createdAt')),\n        class: \"sortable\"\n      }, [_cache[20] || (_cache[20] = _createTextVNode(\" Дата создания \", -1)), _createElementVNode(\"i\", {\n        class: _normalizeClass(getSortIcon('createdAt'))\n      }, null, 2)]), _cache[23] || (_cache[23] = _createElementVNode(\"th\", null, \"Период\", -1)), _createElementVNode(\"th\", {\n        onClick: _cache[6] || (_cache[6] = $event => sortBy('amount')),\n        class: \"sortable\"\n      }, [_cache[21] || (_cache[21] = _createTextVNode(\" Чистая сумма \", -1)), _createElementVNode(\"i\", {\n        class: _normalizeClass(getSortIcon('amount'))\n      }, null, 2)]), _cache[24] || (_cache[24] = _createElementVNode(\"th\", null, \"Сумма по счету\", -1)), _cache[25] || (_cache[25] = _createElementVNode(\"th\", null, \"Налог\", -1)), _cache[26] || (_cache[26] = _createElementVNode(\"th\", null, \"Файл\", -1))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(paginatedDocuments.value, (doc, index) => {\n        return _openBlock(), _createElementBlock(\"tr\", {\n          key: doc.id\n        }, [_createElementVNode(\"td\", _hoisted_24, _toDisplayString((currentPage.value - 1) * pageSize.value + index + 1), 1), _createElementVNode(\"td\", _hoisted_25, _toDisplayString(formatDate(doc.createdAt)), 1), _createElementVNode(\"td\", _hoisted_26, _toDisplayString(doc.period), 1), _createElementVNode(\"td\", _hoisted_27, _toDisplayString(formatMoney(doc.amount)), 1), _createElementVNode(\"td\", _hoisted_28, _toDisplayString(formatMoney(doc.payAmount)), 1), _createElementVNode(\"td\", _hoisted_29, _toDisplayString(formatMoney(doc.taxAmount)), 1), _createElementVNode(\"td\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"button\", {\n          onClick: $event => viewDocument(doc),\n          class: \"btn btn-sm btn-outline-blue\",\n          title: \"Просмотр\"\n        }, [...(_cache[27] || (_cache[27] = [_createElementVNode(\"i\", {\n          class: \"fas fa-eye\"\n        }, null, -1)]))], 8, _hoisted_32), _createElementVNode(\"button\", {\n          onClick: $event => downloadDocument(doc),\n          class: \"btn btn-sm btn-primary\",\n          disabled: downloading.value === doc.documentId,\n          title: \"Скачать\"\n        }, [downloading.value === doc.documentId ? (_openBlock(), _createElementBlock(\"i\", _hoisted_34)) : (_openBlock(), _createElementBlock(\"img\", _hoisted_35))], 8, _hoisted_33)])])]);\n      }), 128))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_36, [...(_cache[28] || (_cache[28] = [_createElementVNode(\"div\", {\n        class: \"empty-icon\"\n      }, [_createElementVNode(\"i\", {\n        class: \"fas fa-folder-open\"\n      })], -1), _createElementVNode(\"h3\", null, \"Документы не найдены\", -1), _createElementVNode(\"p\", null, \"У вас пока нет доступных документов или они не соответствуют критериям поиска.\", -1)]))]))]), totalPages.value > 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_37, [_createElementVNode(\"button\", {\n        onClick: _cache[7] || (_cache[7] = $event => changePage(currentPage.value - 1)),\n        disabled: currentPage.value === 1,\n        class: \"pagination-btn\"\n      }, [...(_cache[29] || (_cache[29] = [_createElementVNode(\"i\", {\n        class: \"fas fa-chevron-left\"\n      }, null, -1)]))], 8, _hoisted_38), _createElementVNode(\"div\", _hoisted_39, \" Страница \" + _toDisplayString(currentPage.value) + \" из \" + _toDisplayString(totalPages.value) + \" (всего \" + _toDisplayString(filteredDocuments.value.length) + \" документов) \", 1), _createElementVNode(\"button\", {\n        onClick: _cache[8] || (_cache[8] = $event => changePage(currentPage.value + 1)),\n        disabled: currentPage.value === totalPages.value,\n        class: \"pagination-btn\"\n      }, [...(_cache[30] || (_cache[30] = [_createElementVNode(\"i\", {\n        class: \"fas fa-chevron-right\"\n      }, null, -1)]))], 8, _hoisted_40)])) : _createCommentVNode(\"\", true)])]), _createVNode(ExcelViewer, {\n        show: showViewDocumentModal.value,\n        document: currentDocument.value,\n        excelData: excelData.value,\n        loading: loadingCurrentDocument.value,\n        onClose: _cache[9] || (_cache[9] = $event => showViewDocumentModal.value = false),\n        onDownload: _cache[10] || (_cache[10] = $event => downloadDocument(currentDocument.value))\n      }, null, 8, [\"show\", \"document\", \"excelData\", \"loading\"]), _createVNode(AppNotifications)]);\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","computed","watch","AppLoader","AppNotifications","ExcelViewer","useNotificationStore","api","notificationStore","loading","downloading","documents","stats","user","showViewDocumentModal","loadingCurrentDocument","currentDocument","excelData","searchQuery","showFilters","filters","dateFrom","dateTo","amountFrom","amountTo","sortField","sortOrder","currentPage","pageSize","filteredDocuments","result","value","query","toLowerCase","filter","doc","fileName","includes","period","sort","a","b","aVal","bVal","totalPages","Math","ceil","length","paginatedDocuments","start","end","slice","loadData","profileResponse","get","data","profile","documentsResponse","statsResponse","error","console","addNotification","type","message","response","downloadDocument","documentId","inc","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","remove","viewDocument","handleSearch","toggleFilters","applyFilters","params","URLSearchParams","append","toString","clearFilters","sortBy","field","getSortIcon","changePage","page","toTimestampMs","test","String","n","parseInt","iso","replace","parsedIso","Date","parse","isNaN","parsed","formatDate","date","ts","toLocaleDateString","timeZone","formatMoney","amount","Intl","NumberFormat","style","currency","format","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","totalDocuments","class","_hoisted_7","_hoisted_8","_hoisted_9","yearlyAmount","_hoisted_10","_hoisted_11","_hoisted_12","monthlyAmount","_hoisted_13","_hoisted_14","_hoisted_15","$event","placeholder","onInput","onClick","src","_imports_0","alt","width","height","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_createBlock","key","_hoisted_23","_cache","_normalizeClass","_Fragment","_renderList","index","id","_hoisted_24","_hoisted_25","createdAt","_hoisted_26","_hoisted_27","_hoisted_28","payAmount","_hoisted_29","taxAmount","_hoisted_30","_hoisted_31","title","disabled","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_39","_createVNode","show","onClose","onDownload"],"sources":["/Users/vadim/Desktop/freedom-group/frontend/src/views/PartnerDashboard.vue"],"sourcesContent":["<template>\n  <div class=\"partner-dashboard\">\n    <!-- Main content -->\n    <div class=\"dashboard-container\">\n      <!-- Stats cards -->\n      <div class=\"stats-grid\">\n        <div class=\"stat-card\">\n          <div class=\"stat-content\">\n            <div class=\"stat-value\">{{ stats.totalDocuments || 0 }}</div>\n            <div class=\"stat-label\">Всего документов</div>\n          </div>\n        </div>\n        \n        <div class=\"stat-card\">\n          <div class=\"stat-content\">\n            <div class=\"stat-value\">{{ formatMoney(stats.yearlyAmount) }}</div>\n            <div class=\"stat-label\">За год</div>\n          </div>\n        </div>\n        \n        <div class=\"stat-card\">\n          <div class=\"stat-content\">\n            <div class=\"stat-value\">{{ formatMoney(stats.monthlyAmount) }}</div>\n            <div class=\"stat-label\">За месяц</div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Documents table -->\n      <div class=\"documents-section\">\n        <div class=\"section-header\">\n          <h2>Мои документы</h2>\n          <div class=\"search-controls\">\n            <input \n              v-model=\"searchQuery\" \n              type=\"text\" \n              placeholder=\"Поиск по имени файла...\"\n              class=\"search-input\"\n              @input=\"handleSearch\"\n            />\n            <button @click=\"toggleFilters\" class=\"filter-btn\">\n              <img src=\"@/assets/filter.png\" alt=\"filter\" width=\"18\" height=\"18\" style=\"vertical-align:middle; margin-right:8px;\"/> Фильтры\n            </button>\n          </div>\n        </div>\n        \n        <!-- Filters panel -->\n        <div v-if=\"showFilters\" class=\"filters-panel\">\n          <div class=\"filter-row\">\n            <div class=\"filter-group\">\n              <label>Дата с:</label>\n              <input v-model=\"filters.dateFrom\" type=\"date\" />\n            </div>\n            <div class=\"filter-group\">\n              <label>Дата до:</label>\n              <input v-model=\"filters.dateTo\" type=\"date\" />\n            </div>\n            <div class=\"filter-group\">\n              <label>Сумма от:</label>\n              <input v-model=\"filters.amountFrom\" type=\"number\" placeholder=\"0\" />\n            </div>\n            <div class=\"filter-group\">\n              <label>Сумма до:</label>\n              <input v-model=\"filters.amountTo\" type=\"number\" placeholder=\"1000000\" />\n            </div>\n            <div class=\"filter-actions\">\n              <button @click=\"applyFilters\" class=\"btn btn-primary\">Применить</button>\n              <button @click=\"clearFilters\" class=\"btn btn-secondary\">Очистить</button>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Documents table -->\n        <div class=\"table-wrapper\">\n          <AppLoader v-if=\"loading\" />\n          \n          <table v-else-if=\"documents.length > 0\" class=\"documents-table\">\n            <thead>\n              <tr>\n                <th>№</th>\n                <th @click=\"sortBy('createdAt')\" class=\"sortable\">\n                  Дата создания\n                  <i :class=\"getSortIcon('createdAt')\"></i>\n                </th>\n                <th>Период</th>\n                <th @click=\"sortBy('amount')\" class=\"sortable\">\n                  Чистая сумма\n                  <i :class=\"getSortIcon('amount')\"></i>\n                </th>\n                <th>Сумма по счету</th>\n                <th>Налог</th>\n                <th>Файл</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(doc, index) in paginatedDocuments\" :key=\"doc.id\">\n                <td data-label=\"№\">{{ (currentPage - 1) * pageSize + index + 1 }}</td>\n                <td data-label=\"Дата создания\">{{ formatDate(doc.createdAt) }}</td>\n                <td data-label=\"Период\">{{ doc.period }}</td>\n                <td data-label=\"Чистая сумма\" class=\"amount\">{{ formatMoney(doc.amount) }}</td>\n                <td data-label=\"Сумма по счету\" class=\"amount\">{{ formatMoney(doc.payAmount) }}</td>\n                <td data-label=\"Налог\" class=\"amount\">{{ formatMoney(doc.taxAmount) }}</td>\n                <td data-label=\"Файл\">\n                  <div class=\"doc-actions\">\n                    <button \n                      @click=\"viewDocument(doc)\" \n                      class=\"btn btn-sm btn-outline-blue\"\n                      title=\"Просмотр\"\n                    >\n                      <i class=\"fas fa-eye\"></i>\n                    </button>\n                    <button \n                      @click=\"downloadDocument(doc)\" \n                      class=\"btn btn-sm btn-primary\"\n                      :disabled=\"downloading === doc.documentId\"\n                      title=\"Скачать\"\n                    >\n                      <i v-if=\"downloading === doc.documentId\" class=\"fas fa-spinner fa-spin\"></i>\n                      <img v-else src=\"@/assets/download.png\" alt=\"download\" width=\"16\" height=\"16\" style=\"vertical-align:middle;\" />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          \n          <div v-else class=\"empty-state\">\n            <div class=\"empty-icon\">\n              <i class=\"fas fa-folder-open\"></i>\n            </div>\n            <h3>Документы не найдены</h3>\n            <p>У вас пока нет доступных документов или они не соответствуют критериям поиска.</p>\n          </div>\n        </div>\n        \n        <!-- Pagination -->\n        <div v-if=\"totalPages > 1\" class=\"pagination\">\n          <button \n            @click=\"changePage(currentPage - 1)\"\n            :disabled=\"currentPage === 1\"\n            class=\"pagination-btn\"\n          >\n            <i class=\"fas fa-chevron-left\"></i>\n          </button>\n          \n          <div class=\"pagination-info\">\n            Страница {{ currentPage }} из {{ totalPages }} (всего {{ filteredDocuments.length }} документов)\n          </div>\n          \n          <button \n            @click=\"changePage(currentPage + 1)\"\n            :disabled=\"currentPage === totalPages\"\n            class=\"pagination-btn\"\n          >\n            <i class=\"fas fa-chevron-right\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- View Document Modal -->\n    <ExcelViewer\n      :show=\"showViewDocumentModal\"\n      :document=\"currentDocument\"\n      :excelData=\"excelData\"\n      :loading=\"loadingCurrentDocument\"\n      @close=\"showViewDocumentModal = false\"\n      @download=\"downloadDocument(currentDocument)\"\n    />\n\n    <!-- Notifications -->\n    <AppNotifications />\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed, watch } from 'vue'\nimport AppLoader from '@/components/AppLoader.vue'\nimport AppNotifications from '@/components/AppNotifications.vue'\nimport ExcelViewer from '@/components/ExcelViewer.vue'\nimport { useNotificationStore } from '@/stores/notifications'\nimport api from '@/plugins/axios'\n\nconst notificationStore = useNotificationStore()\n\n// Reactive data\nconst loading = ref(true)\nconst downloading = ref(null)\nconst documents = ref([])\nconst stats = ref({})\nconst user = ref(null)\n\n// View document modal\nconst showViewDocumentModal = ref(false)\nconst loadingCurrentDocument = ref(false)\nconst currentDocument = ref(null)\nconst excelData = ref(null)\n\n// Search and filters\nconst searchQuery = ref('')\nconst showFilters = ref(false)\nconst filters = ref({\n  dateFrom: '',\n  dateTo: '',\n  amountFrom: '',\n  amountTo: ''\n})\n\n// Sorting\nconst sortField = ref('createdAt')\nconst sortOrder = ref('desc')\n\n// Pagination\nconst currentPage = ref(1)\nconst pageSize = ref(10)\n\n// Computed properties\nconst filteredDocuments = computed(() => {\n  let result = [...documents.value]\n  \n  // Apply search\n  if (searchQuery.value) {\n    const query = searchQuery.value.toLowerCase()\n    result = result.filter(doc => \n      doc.fileName.toLowerCase().includes(query) ||\n      doc.period.toLowerCase().includes(query)\n    )\n  }\n  \n  // Apply sorting\n  result.sort((a, b) => {\n    const aVal = a[sortField.value]\n    const bVal = b[sortField.value]\n    \n    if (sortOrder.value === 'asc') {\n      return aVal > bVal ? 1 : -1\n    } else {\n      return aVal < bVal ? 1 : -1\n    }\n  })\n  \n  return result\n})\n\nconst totalPages = computed(() => {\n  return Math.ceil(filteredDocuments.value.length / pageSize.value)\n})\n\nconst paginatedDocuments = computed(() => {\n  const start = (currentPage.value - 1) * pageSize.value\n  const end = start + pageSize.value\n  return filteredDocuments.value.slice(start, end)\n})\n\n// Methods\nconst loadData = async () => {\n  try {\n    loading.value = true\n    \n    // Load user profile\n    const profileResponse = await api.get('/partner/profile')\n    user.value = profileResponse.data.profile\n    \n    // Load documents\n    const documentsResponse = await api.get('/partner/documents')\n    documents.value = documentsResponse.data.documents\n    \n    // Load stats\n    const statsResponse = await api.get('/partner/stats')\n    stats.value = statsResponse.data.stats\n    \n  } catch (error) {\n    console.error('Ошибка загрузки данных:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка загрузки данных: ' + (error.response?.data?.message || error.message)\n    })\n  } finally {\n    loading.value = false\n  }\n}\n\nconst downloadDocument = async (doc) => {\n  try {\n    downloading.value = doc.documentId || doc.inc\n    \n    const documentId = doc.documentId || doc.inc\n    const response = await api.get(`/partner/documents/${documentId}/download`, {\n      responseType: 'blob'\n    })\n    \n    // Create download link\n    const url = window.URL.createObjectURL(new Blob([response.data]))\n    const link = document.createElement('a')\n    link.href = url\n    link.setAttribute('download', doc.fileName)\n    document.body.appendChild(link)\n    link.click()\n    link.remove()\n    \n    notificationStore.addNotification({\n      type: 'success',\n      message: `Файл \"${doc.fileName}\" успешно скачан`\n    })\n    \n  } catch (error) {\n    console.error('Ошибка скачивания:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка скачивания файла: ' + (error.response?.data?.message || error.message)\n    })\n  } finally {\n    downloading.value = null\n  }\n}\n\nconst viewDocument = async (doc) => {\n  try {\n    loadingCurrentDocument.value = true\n    showViewDocumentModal.value = true\n    \n    const documentId = doc.documentId || doc.inc\n    const response = await api.get(`/partner/documents/${documentId}`)\n    currentDocument.value = response.data.data\n    excelData.value = response.data.excelData\n  } catch (error) {\n    console.error('Ошибка загрузки документа:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка загрузки документа'\n    })\n    showViewDocumentModal.value = false\n  } finally {\n    loadingCurrentDocument.value = false\n  }\n}\n\nconst handleSearch = () => {\n  currentPage.value = 1\n}\n\nconst toggleFilters = () => {\n  showFilters.value = !showFilters.value\n}\n\nconst applyFilters = async () => {\n  try {\n    loading.value = true\n    \n    const params = new URLSearchParams()\n    if (filters.value.dateFrom) params.append('dateFrom', filters.value.dateFrom)\n    if (filters.value.dateTo) params.append('dateTo', filters.value.dateTo)\n    if (filters.value.amountFrom) params.append('amountFrom', filters.value.amountFrom)\n    if (filters.value.amountTo) params.append('amountTo', filters.value.amountTo)\n    if (searchQuery.value) params.append('fileName', searchQuery.value)\n    \n    const response = await api.get(`/partner/documents/search?${params.toString()}`)\n    documents.value = response.data.documents\n    currentPage.value = 1\n    \n  } catch (error) {\n    console.error('Ошибка поиска:', error)\n    notificationStore.addNotification({\n      type: 'error',\n      message: 'Ошибка поиска документов'\n    })\n  } finally {\n    loading.value = false\n  }\n}\n\nconst clearFilters = () => {\n  filters.value = {\n    dateFrom: '',\n    dateTo: '',\n    amountFrom: '',\n    amountTo: ''\n  }\n  searchQuery.value = ''\n  loadData()\n}\n\nconst sortBy = (field) => {\n  if (sortField.value === field) {\n    sortOrder.value = sortOrder.value === 'asc' ? 'desc' : 'asc'\n  } else {\n    sortField.value = field\n    sortOrder.value = 'desc'\n  }\n}\n\nconst getSortIcon = (field) => {\n  if (sortField.value !== field) return 'fas fa-sort'\n  return sortOrder.value === 'asc' ? 'fas fa-sort-up' : 'fas fa-sort-down'\n}\n\nconst changePage = (page) => {\n  if (page >= 1 && page <= totalPages.value) {\n    currentPage.value = page\n  }\n}\n\nconst toTimestampMs = (value) => {\n  if (value == null || value === '') return null\n  if (typeof value === 'number') {\n    return value < 1e12 ? value * 1000 : value\n  }\n  if (/^\\d+$/.test(String(value))) {\n    const n = parseInt(value, 10)\n    return n < 1e12 ? n * 1000 : n\n  }\n  if (typeof value === 'string' && /^\\d{4}[-/]\\d{2}[-/]\\d{2}[ T]\\d{2}:\\d{2}:\\d{2}$/.test(value)) {\n    const iso = value.replace(' ', 'T').replace(/\\//g, '-') + 'Z'\n    const parsedIso = Date.parse(iso)\n    return isNaN(parsedIso) ? null : parsedIso\n  }\n  const parsed = Date.parse(value)\n  return isNaN(parsed) ? null : parsed\n}\n\nconst formatDate = (date) => {\n  const ts = toTimestampMs(date)\n  if (!ts) return ''\n  return new Date(ts).toLocaleDateString('ru-RU', { timeZone: 'Europe/Moscow' })\n}\n\nconst formatMoney = (amount) => {\n  if (!amount) return '0 ₽'\n  return new Intl.NumberFormat('ru-RU', {\n    style: 'currency',\n    currency: 'RUB'\n  }).format(amount)\n}\n\n// Watchers\nwatch([searchQuery, sortField, sortOrder], () => {\n  currentPage.value = 1\n})\n\n// Lifecycle\nonMounted(() => {\n  loadData()\n})\n</script>\n\n<style scoped>\n.partner-dashboard {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n  font-family: 'Inter', sans-serif;\n  font-weight: 500;\n  position: relative;\n}\n\n\n.dashboard-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 20px;\n  margin-bottom: 30px;\n}\n\n.stat-card {\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  position: relative;\n}\n\n.stat-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 12px;\n  right: 12px;\n  height: 3px;\n  background: #2563eb;\n  border-radius: 2px;\n}\n\n.stat-icon {\n  font-size: 2.5rem;\n  opacity: 0.8;\n}\n\n.stat-content {\n  flex: 1;\n}\n\n.stat-value {\n  font-size: 1.8rem;\n  font-weight: 700;\n  color: #2c3e50;\n  margin-bottom: 4px;\n}\n\n.stat-label {\n  color: #6c757d;\n  font-size: 0.9rem;\n}\n\n.documents-section {\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 24px;\n  border-bottom: 1px solid #e9ecef;\n}\n\n.section-header h2 {\n  margin: 0;\n  color: #2c3e50;\n}\n\n.search-controls {\n  display: flex;\n  gap: 12px;\n  align-items: center;\n}\n\n.search-input {\n  padding: 8px 16px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  width: 250px;\n  font-size: 14px;\n}\n\n.filter-btn {\n  padding: 8px 16px;\n  background: #6c757d;\n  color: white;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.filter-btn:hover {\n  background: #5a6268;\n}\n\n.filters-panel {\n  padding: 20px;\n  background: #f8f9fa;\n  border-bottom: 1px solid #e9ecef;\n}\n\n.filter-row {\n  display: flex;\n  gap: 16px;\n  align-items: end;\n  flex-wrap: wrap;\n}\n\n.filter-group {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.filter-group label {\n  font-size: 12px;\n  color: #6c757d;\n  font-weight: 500;\n}\n\n.filter-group input {\n  padding: 8px 12px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  width: 140px;\n}\n\n.filter-actions {\n  display: flex;\n  gap: 8px;\n  margin-left: auto;\n}\n\n.table-wrapper {\n  min-height: 400px;\n  padding: 24px;\n}\n\n.documents-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.documents-table th,\n.documents-table td {\n  padding: 12px;\n  text-align: left;\n  border-bottom: 1px solid #e9ecef;\n}\n\n.documents-table th {\n  background: #f8f9fa;\n  font-weight: 600;\n  color: #495057;\n  font-size: 14px;\n}\n\n.documents-table th.sortable {\n  cursor: pointer;\n  user-select: none;\n  position: relative;\n}\n\n.documents-table th.sortable:hover {\n  background: #e9ecef;\n}\n\n.documents-table th i {\n  margin-left: 8px;\n  opacity: 0.5;\n}\n\n.documents-table td {\n  font-size: 14px;\n  color: #495057;\n}\n\n.documents-table .amount {\n  font-family: 'Courier New', monospace;\n  font-weight: 600;\n  text-align: right;\n}\n\n.btn {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: all 0.2s;\n}\n\n.btn-primary {\n  background-color: #1233EA;\n  color: white;\n  font-family: 'Inter', sans-serif;\n  font-weight: 500;\n}\n\n.btn-primary:hover {\n  background-color: #0f29d1;\n}\n\n.btn-secondary {\n  background: #6c757d;\n  color: white;\n}\n\n.btn-secondary:hover {\n  background: #545b62;\n}\n\n.btn-sm {\n  padding: 6px 12px;\n  font-size: 13px;\n  border-radius: 6px;\n}\n\n.btn-outline-blue {\n  background: transparent;\n  color: #2563eb;\n  border: 1px solid #2563eb;\n  padding: 6px 12px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: background 0.15s ease, color 0.15s ease;\n}\n\n.btn-outline-blue:hover {\n  background: rgba(37, 99, 235, 0.06);\n}\n\n.doc-actions {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n\n.btn-download {\n  background: #28a745;\n  color: white;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 12px;\n}\n\n.btn-download:hover {\n  background: #1e7e34;\n}\n\n.btn-download:disabled {\n  background: #6c757d;\n  cursor: not-allowed;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n  color: #6c757d;\n}\n\n.empty-icon {\n  font-size: 4rem;\n  margin-bottom: 20px;\n  opacity: 0.5;\n}\n\n.empty-state h3 {\n  margin: 0 0 12px;\n  color: #495057;\n}\n\n.empty-state p {\n  margin: 0;\n  font-size: 14px;\n}\n\n.pagination {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 24px;\n  border-top: 1px solid #e9ecef;\n  background: #f8f9fa;\n}\n\n.pagination-btn {\n  padding: 8px 16px;\n  background: #007bff;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.pagination-btn:hover:not(:disabled) {\n  background: #0056b3;\n}\n\n.pagination-btn:disabled {\n  background: #6c757d;\n  cursor: not-allowed;\n}\n\n.pagination-info {\n  font-size: 14px;\n  color: #6c757d;\n}\n\n@media (max-width: 768px) {\n  .dashboard-container {\n    padding: 12px;\n  }\n  \n  .stats-grid {\n    grid-template-columns: 1fr;\n    gap: 12px;\n  }\n  \n  .stat-card {\n    padding: 14px;\n    gap: 8px;\n  }\n  \n  .stat-icon {\n    font-size: 1.8rem;\n  }\n  \n  .stat-value {\n    font-size: 1.4rem;\n  }\n  \n  .stat-label {\n    font-size: 0.75rem;\n  }\n  \n  .section-header {\n    flex-direction: column;\n    gap: 12px;\n    align-items: stretch;\n    padding: 14px 16px;\n  }\n  \n  .section-header h2 {\n    font-size: 18px;\n  }\n  \n  .search-controls {\n    justify-content: stretch;\n    flex-direction: column;\n    gap: 8px;\n  }\n  \n  .search-input {\n    flex: 1;\n    width: 100%;\n    font-size: 14px;\n    padding: 10px 12px;\n  }\n  \n  .filter-btn {\n    width: 100%;\n  }\n  \n  .filter-row {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 12px;\n  }\n  \n  .filter-group {\n    width: 100%;\n  }\n  \n  .filter-group input {\n    width: 100%;\n    font-size: 14px;\n    padding: 10px 12px;\n  }\n  \n  .filter-actions {\n    display: flex;\n    gap: 8px;\n  }\n  \n  .filter-actions .btn {\n    flex: 1;\n  }\n  \n  .pagination {\n    flex-direction: column;\n    gap: 10px;\n  }\n  \n  .pagination-info {\n    font-size: 13px;\n    text-align: center;\n  }\n  \n  /* Documents table -> card layout */\n  .documents-table thead {\n    display: none;\n  }\n  \n  .documents-table {\n    display: block;\n  }\n  \n  .documents-table tbody {\n    display: block;\n  }\n  \n  .documents-table tbody tr {\n    display: block;\n    background: white;\n    margin-bottom: 12px;\n    border: 1px solid #e5e7eb;\n    border-radius: 8px;\n    padding: 12px;\n  }\n  \n  .documents-table td {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 8px 0;\n    border: none;\n    text-align: right;\n  }\n  \n  .documents-table td::before {\n    content: attr(data-label);\n    color: #64748b;\n    font-weight: 600;\n    text-transform: uppercase;\n    font-size: 11px;\n    margin-right: 12px;\n    text-align: left;\n    flex: 1;\n  }\n  \n  .documents-table td:last-child {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n  }\n  \n  .documents-table td:last-child::before {\n    margin-bottom: 8px;\n  }\n  \n  .doc-actions {\n    width: 100%;\n    flex-direction: row;\n    gap: 8px;\n  }\n  \n  .doc-actions .btn {\n    flex: 1;\n    justify-content: center;\n    font-size: 13px;\n    padding: 10px 14px;\n  }\n  \n  .amount {\n    font-weight: 600;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}