"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[271],{6271:function(s,a,e){e.r(a),e.d(a,{default:function(){return D}});var l=e(6768),r=e(4232),t=e(5130),o=e(144),u=e(1387),n=e(7881),d=e(1675),v=e(3966),c=e(8082);const i={class:"reset-password-page"},p={class:"container"},w={class:"reset-card"},k={class:"logo"},f={key:0,class:"loading-state"},m={key:1,class:"error-state"},b={key:2,class:"success-state"},y={key:0,class:"partner-info"},h={class:"info-text"},g={key:0,class:"info-hint"},L={class:"form-group"},C={class:"password-input"},P=["type"],E={key:0,class:"error-message"},_={key:1,class:"password-strength"},R={class:"strength-bar"},X={class:"strength-text"},K={key:2,class:"password-hint"},x={class:"form-group"},A={class:"password-input"},F=["type"],Q={key:0,class:"error-message"},W={key:1,class:"success-message"},q={class:"form-actions"},O=["disabled"],I={key:0,class:"btn-loader"},U={class:"help-links"};var V={__name:"ResetPassword",setup(s){const a=(0,u.lq)(),e=(0,v.i)(),V=(0,o.KR)(!1),j=(0,o.KR)(!1),z=(0,o.KR)(""),D=(0,o.KR)(!1),N=(0,o.KR)(null),Z=(0,o.KR)(!0),$=(0,o.KR)({password:"",confirmPassword:""}),B=(0,o.KR)({}),G=(0,o.KR)(!1),M=(0,o.KR)(!1),S=(0,l.EW)((()=>{const s=$.value.password;if(!s)return{width:"0%",class:"",text:""};let a=0;s.length>=6&&(a+=1),s.length>=8&&(a+=1),s.length>=12&&(a+=1),/[a-z]/.test(s)&&(a+=1),/[A-Z]/.test(s)&&(a+=1),/[0-9]/.test(s)&&(a+=1),/[^A-Za-z0-9]/.test(s)&&(a+=1);let e="",l="0%",r="";return a<=2?(e="–°–ª–∞–±—ã–π",l="25%",r="weak"):a<=4?(e="–°—Ä–µ–¥–Ω–∏–π",l="50%",r="medium"):a<=6?(e="–•–æ—Ä–æ—à–∏–π",l="75%",r="good"):(e="–û—Ç–ª–∏—á–Ω—ã–π",l="100%",r="excellent"),{width:l,class:r,text:e}})),T=(0,l.EW)((()=>$.value.password.length>=6&&$.value.password===$.value.confirmPassword&&!Object.keys(B.value).length)),H=async()=>{const s=a.query.token;if(s)try{V.value=!0;const a=await c.A.get(`/auth/reset-password/${s}`);N.value={partnerId:a.data.partnerId,email:a.data.partnerEmail},j.value=!0}catch(e){console.error("–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞:",e),z.value=e.response?.data?.message||"–ù–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∏–ª–∏ –∏—Å—Ç–µ–∫—à–∏–π —Ç–æ–∫–µ–Ω"}finally{V.value=!1}else z.value="–¢–æ–∫–µ–Ω –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω"},J=()=>(B.value={},$.value.password?$.value.password.length<6&&(B.value.password="–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤"):B.value.password="–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω",$.value.confirmPassword?$.value.password!==$.value.confirmPassword&&(B.value.confirmPassword="–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç"):B.value.confirmPassword="–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ",0===Object.keys(B.value).length),Y=async()=>{if(!J())return;const s=a.query.token;V.value=!0;try{await c.A.post("/auth/reset-password",{token:s,password:$.value.password}),D.value=!0,e.addNotification({type:"success",message:"–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω!"})}catch(l){console.error("–û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è:",l),e.addNotification({type:"error",message:l.response?.data?.message||"–û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞—Ä–æ–ª—è"})}finally{V.value=!1}};return(0,l.wB)([()=>$.value.password,()=>$.value.confirmPassword],(()=>{(B.value.password||B.value.confirmPassword)&&J()})),(0,l.sV)((()=>{H()})),(s,a)=>{const e=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("div",p,[(0,l.Lk)("div",w,[(0,l.Lk)("div",k,[a[4]||(a[4]=(0,l.Lk)("h1",null,"FREEDOM GROUP",-1)),(0,l.Lk)("p",null,(0,r.v_)(Z.value?"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–æ–ª—è":"–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è"),1)]),!V.value||j.value||z.value?z.value?((0,l.uX)(),(0,l.CE)("div",m,[a[7]||(a[7]=(0,l.Lk)("div",{class:"error-icon"},"‚ö†Ô∏è",-1)),a[8]||(a[8]=(0,l.Lk)("h3",null,"–û—à–∏–±–∫–∞",-1)),(0,l.Lk)("p",null,(0,r.v_)(z.value),1),(0,l.bF)(e,{to:"/",class:"btn btn-primary"},{default:(0,l.k6)((()=>[...a[6]||(a[6]=[(0,l.eW)("–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—Ö–æ–¥—É",-1)])])),_:1})])):D.value?((0,l.uX)(),(0,l.CE)("div",b,[a[10]||(a[10]=(0,l.Lk)("div",{class:"success-icon"},"‚úÖ",-1)),a[11]||(a[11]=(0,l.Lk)("h3",null,"–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!",-1)),a[12]||(a[12]=(0,l.Lk)("p",null,"–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å –≤–∞—à–∏–º –Ω–æ–≤—ã–º –ø–∞—Ä–æ–ª–µ–º.",-1)),(0,l.bF)(e,{to:"/",class:"btn btn-primary"},{default:(0,l.k6)((()=>[...a[9]||(a[9]=[(0,l.eW)("–í–æ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç",-1)])])),_:1})])):j.value?((0,l.uX)(),(0,l.CE)("form",{key:3,onSubmit:(0,t.D$)(Y,["prevent"]),class:"reset-form"},[(0,l.Lk)("h3",null,(0,r.v_)(Z.value?"–°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞":"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è"),1),N.value?((0,l.uX)(),(0,l.CE)("div",y,[a[13]||(a[13]=(0,l.Lk)("div",{class:"info-icon"},"üë§",-1)),(0,l.Lk)("p",h,(0,r.v_)(N.value.email),1),Z.value?((0,l.uX)(),(0,l.CE)("p",g,"–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–¥—ë–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç")):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),(0,l.Lk)("div",L,[a[14]||(a[14]=(0,l.Lk)("label",{for:"password"},"–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å",-1)),(0,l.Lk)("div",C,[(0,l.bo)((0,l.Lk)("input",{id:"password","onUpdate:modelValue":a[0]||(a[0]=s=>$.value.password=s),type:G.value?"text":"password",required:"",minlength:"6",placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)",class:(0,r.C4)({error:B.value.password}),autocomplete:"new-password"},null,10,P),[[t.hp,$.value.password]]),(0,l.Lk)("button",{type:"button",onClick:a[1]||(a[1]=s=>G.value=!G.value),class:"password-toggle","aria-label":"–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å"},(0,r.v_)(G.value?"üôà":"üëÅÔ∏è"),1)]),B.value.password?((0,l.uX)(),(0,l.CE)("div",E,(0,r.v_)(B.value.password),1)):(0,l.Q3)("",!0),$.value.password?((0,l.uX)(),(0,l.CE)("div",_,[(0,l.Lk)("div",R,[(0,l.Lk)("div",{class:(0,r.C4)(["strength-fill",S.value.class]),style:(0,r.Tr)({width:S.value.width})},null,6)]),(0,l.Lk)("div",X,"–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å: "+(0,r.v_)(S.value.text),1)])):((0,l.uX)(),(0,l.CE)("div",K," üí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤. –î–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã "))]),(0,l.Lk)("div",x,[a[15]||(a[15]=(0,l.Lk)("label",{for:"confirmPassword"},"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è",-1)),(0,l.Lk)("div",A,[(0,l.bo)((0,l.Lk)("input",{id:"confirmPassword","onUpdate:modelValue":a[2]||(a[2]=s=>$.value.confirmPassword=s),type:M.value?"text":"password",required:"",placeholder:"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å",class:(0,r.C4)({error:B.value.confirmPassword}),autocomplete:"new-password"},null,10,F),[[t.hp,$.value.confirmPassword]]),(0,l.Lk)("button",{type:"button",onClick:a[3]||(a[3]=s=>M.value=!M.value),class:"password-toggle","aria-label":"–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å"},(0,r.v_)(M.value?"üôà":"üëÅÔ∏è"),1)]),B.value.confirmPassword?((0,l.uX)(),(0,l.CE)("div",Q,(0,r.v_)(B.value.confirmPassword),1)):$.value.confirmPassword&&$.value.password===$.value.confirmPassword?((0,l.uX)(),(0,l.CE)("div",W," ‚úì –ü–∞—Ä–æ–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç ")):(0,l.Q3)("",!0)]),(0,l.Lk)("div",q,[(0,l.Lk)("button",{type:"submit",disabled:V.value||!T.value,class:"btn btn-primary btn-full"},[V.value?((0,l.uX)(),(0,l.CE)("span",I,"‚è≥")):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,r.v_)(V.value?"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä–æ–ª—è...":Z.value?"–°–æ–∑–¥–∞—Ç—å –ø–∞—Ä–æ–ª—å –∏ –≤–æ–π—Ç–∏":"–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å"),1)],8,O)]),(0,l.Lk)("div",U,[(0,l.bF)(e,{to:"/"},{default:(0,l.k6)((()=>[...a[16]||(a[16]=[(0,l.eW)("‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—Ö–æ–¥—É",-1)])])),_:1})])],32)):(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",f,[(0,l.bF)(n.A),a[5]||(a[5]=(0,l.Lk)("p",null,"–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞...",-1))]))])]),(0,l.bF)(d.A)])}}},j=e(1241);const z=(0,j.A)(V,[["__scopeId","data-v-94bdd4ba"]]);var D=z}}]);
//# sourceMappingURL=271.98498189.js.map