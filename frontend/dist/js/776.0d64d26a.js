"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[776],{9776:function(a,l,e){e.r(l),e.d(l,{default:function(){return E}});var s=e(6768),t=e(5130),i=e(4232),u=e(144),o=e(7881),r=e(1675),c=e(8082);const n={class:"forgot-password-page"},v={class:"container"},m={class:"forgot-card"},k={key:0,class:"success-state"},d={class:"actions"},p={class:"form-group"},b={key:0,class:"error-message"},f={class:"form-actions"},L=["disabled"],h={class:"help-links"};var y={__name:"ForgotPassword",setup(a){const l=(0,u.KR)(!1),e=(0,u.KR)(!1),y=(0,u.Kh)({email:""}),g=(0,u.KR)({}),C=()=>(g.value={},y.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)||(g.value.email="Введите корректный email адрес"):g.value.email="Email обязателен",0===Object.keys(g.value).length),E=async()=>{if(C()){l.value=!0;try{await c.A.post("/auth/forgot-password",{email:y.email}),e.value=!0}catch(a){console.error("Ошибка отправки:",a),e.value=!0}finally{l.value=!1}}},_=()=>{e.value=!1,y.email="",g.value={}};return(a,u)=>{const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",v,[(0,s.Lk)("div",m,[u[10]||(u[10]=(0,s.Lk)("div",{class:"logo"},[(0,s.Lk)("h1",null,"FREEDOM GROUP"),(0,s.Lk)("p",null,"Восстановление пароля")],-1)),e.value?((0,s.uX)(),(0,s.CE)("div",k,[u[2]||(u[2]=(0,s.Lk)("div",{class:"success-icon"},"✉️",-1)),u[3]||(u[3]=(0,s.Lk)("h3",null,"Письмо отправлено!",-1)),u[4]||(u[4]=(0,s.Lk)("p",null,"Если аккаунт с указанным email существует, на него отправлена ссылка для восстановления пароля.",-1)),u[5]||(u[5]=(0,s.Lk)("p",{class:"help-text"},'Проверьте папку "Спам", если письмо не пришло в течение нескольких минут.',-1)),(0,s.Lk)("div",d,[(0,s.bF)(c,{to:"/",class:"btn btn-primary"},{default:(0,s.k6)((()=>[...u[1]||(u[1]=[(0,s.eW)("Вернуться к входу",-1)])])),_:1}),(0,s.Lk)("button",{onClick:_,class:"btn btn-secondary"},"Отправить еще раз")])])):((0,s.uX)(),(0,s.CE)("form",{key:1,onSubmit:(0,t.D$)(E,["prevent"]),class:"forgot-form"},[u[8]||(u[8]=(0,s.Lk)("h3",null,"Забыли пароль?",-1)),u[9]||(u[9]=(0,s.Lk)("p",{class:"description"}," Введите ваш email адрес и мы отправим ссылку для восстановления пароля. ",-1)),(0,s.Lk)("div",p,[u[6]||(u[6]=(0,s.Lk)("label",{for:"email"},"Email адрес",-1)),(0,s.bo)((0,s.Lk)("input",{id:"email","onUpdate:modelValue":u[0]||(u[0]=a=>y.email=a),type:"email",required:"",placeholder:"Введите ваш email",class:(0,i.C4)({error:g.value.email})},null,2),[[t.Jo,y.email]]),g.value.email?((0,s.uX)(),(0,s.CE)("div",b,(0,i.v_)(g.value.email),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",f,[(0,s.Lk)("button",{type:"submit",disabled:l.value,class:"btn btn-primary btn-full"},[l.value?((0,s.uX)(),(0,s.Wv)(o.A,{key:0,size:"small"})):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,i.v_)(l.value?"Отправка...":"Отправить ссылку"),1)],8,L)]),(0,s.Lk)("div",h,[(0,s.bF)(c,{to:"/"},{default:(0,s.k6)((()=>[...u[7]||(u[7]=[(0,s.eW)("← Вернуться к входу",-1)])])),_:1})])],32))])]),(0,s.bF)(r.A)])}}},g=e(1241);const C=(0,g.A)(y,[["__scopeId","data-v-239ac124"]]);var E=C}}]);
//# sourceMappingURL=776.0d64d26a.js.map